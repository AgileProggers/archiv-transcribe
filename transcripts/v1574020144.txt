LUL
Moin Leute!
Muss ich mal kurz meinen Vorschau aufmachen
Weil die ist irgendwie abgekackt, ich weiß auch nicht warum
Äh, warum gibt man den Chat Vorschau nicht?
Geht mein Mikrofon überhaupt?
Man weiß ja nie
Windows hat bestimmt wieder dran rumgestellt
Ich wusste es, ich wusste es alter
Teams ist wirklich schlimm was das angeht
Ja Leute, heute gucken wir uns die neuesten Hetzer Cloud
Wenn man Funktionen sagt im Cloud Umfeld muss man ja aufpassen
Die meisten Leute verstehen dann heute mittlerweile was anderes drunter
Vielleicht soll ich den Titel irgendwie anders machen
Ne, neue Funktionen ausprobieren, passt
Genau das machen wir heute
Wir gucken uns heute ein paar neue Sachen in der Hetzer Cloud an
Wir gucken uns nochmal im Detail diese
Flexible Network Options an
Und Load Balancer an
Firewall Regeln an
Ich zeige einfach mal ein bisschen was, weil dieser Stream heute
Ist gesponsert von Hetzer
Wie man hier oben irgendwie so
Ihr müsstet das irgendwo hier
Wartet mal, so irgendwo
Da!
Da müsste das irgendwo stehen
Ja, genau
Genau, da steht es
Du bist der erste?
Ja, ne, du bist einer von 14 Leuten
Ich sehe es gerade in der Vorschau
Oh ja, ich muss einen Tweet machen
Das habe ich nämlich versprochen, dass ich einen Tweet mache
Sobald das Stream angeht
Aber ich werde erstmal kurz abwarten
Bis das Stream wirklich warm gelaufen ist
Bis alle den Nachricht bekommen haben und so was
Ja Leute
Und jetzt kann ich einen schon mal vorweg nehmen
Es gibt einen neuen Gutscheincode
Guckt mal hier
Ausrufezeichen Hetzer
Ich glaube
Den habe ich vergessen zu editieren
Perfekt
Einmal mit Profis, Alter
Haben wir schon Modges
Haben wir schon Mods am Start
Die das anpassen können
Weil
Das ist falsch
Es ist Max 22
Und nicht
Max 21
Ich muss mal kurz
Zu Nightbot mich einloggen
Und das Kommando anpassen
Ah, Renax, weißt du wie das geht?
Kannst du aus dem Chat als Mod das Kommando anpassen?
Nee, ich mache das schnell
Login Twitch
Tabsammlung
Moment, Moment, Moment, hier ist auch noch Tabsammlung
Da haben wir noch
Und da haben wir auch noch
Die Konkurrenz muss ausgeplanet werden
Habt ihr nicht gesehen
Heute keine Konkurrenz
Heute nur Hetzer
So
Aber ich muss erstmal
Ich muss erstmal den Nightbot überreden
Dass der mal einen richtigen Gutscheincode da reinschreibt
Kennst du eine Alternative zu
Nextcloud oder owncloud?
Hm
Naja
In dem Bereich was es macht
Ist es so ziemlich einzigartig
Es gibt so Sachen so wie
Und solche Geschichten gibt es noch
Aber
So dieses Gesamtpaket
Aus den Apps
Aus den Funktionen
Die die Nextcloud bietet
Ist das so ziemlich einzigartig
Aber ich hab schon oft gesagt, ich bin kein wahnsinniger Fan
Von Nextcloud
Welche Funktion ist neu, zeige ich alles
Zum Beispiel kannst du jetzt Public IPs
Kannst du Server ohne Public IPs
Machen
So, Commands
Wo ist mein Hetzer Command?
Ich muss jetzt
Anpassen, dass da der richtige Code drinne steht
Leute wir haben
Neun Seiten Bot Commands
Alter, das muss mal weg
Hier, so
Anpassen, der richtige Code
Nämlich ist
Mist
Ich hab immer noch keinen Sponsoring Link
Ich schreib jetzt einfach 2022 rein
Und
Da gucken wir
Zeit mit
Weil es funktioniert
Achtung
Jetzt noch
Exzellent
Also das müsste der Code sein
Falls irgendjemand danach ist oder
Falls sich irgendjemand mal im Stream überlegt hat
Will das ausprobieren
Ihr könnt jetzt 22 Euro Startkut haben abstauben mit meinem Code
Allerdings geht das ganze nur für Neukunden
Ähm
Ich weiß nicht wie scharf Hetzer darauf ist
Wenn ich das erwähne
Aber
Wenn man sich neu registriert
Gilt man glaube ich auch als Neukunde
So
So, jetzt muss ich erstmal den Tweet
Jetzt muss ich erstmal den Tweet machen
Also, was schreiben wir dann?
Welche Funktion ist neu?
Wie gesagt, dass du Server anlegen kannst ohne Public IP Adressen
Die haben in letzter Zeit relativ viel Sachen geadded
Die haben noch nicht
Allzu langer Zeit
Haben die ihre Firewall Funktion
Auch das mit dem Public IP Adressen
Noch nicht so lang
Die haben
Was gab's denn sonst noch?
Load Balancer gibt's auch noch nicht so lang
Load Balancer mit Tags
Die das automatisch die Server rein rausnehmen
Gibt's auch noch nicht so lang
Da hat sich schon ein bisschen was getan
Zumindest seit dem letzten gesponserten Stream
So, was schreibe ich jetzt mal hier auf Twitter
So
Wir schauen jetzt
Wir schauen
uns jetzt gleich
im Stream die neuesten Funktionen
in der Hetzner Cloud an
Zum Beispiel günstige
Server ohne Public IP
Sponsored muss dahinter
Sonst wäre ich noch verklagt
Sponsored
Tü, tü, tü, tü
So
Tweet ist raus
Gucken wir ob das jetzt alles funktioniert hat
Ja
Also das machen wir heute Leute
So und ich hab mir gedacht wir bauen dazu
mal wieder was
In Deutschland muss der
Hashtag werben, das ist mir wurscht was ob der Hashtag werben
Sponsored kann auch jeder verstehen und wenn das nicht
versteht ist nicht mein Problem
Also ich glaube dass der Stream Sponsored
ist erkennt man glaube ich heute
ganz dezent
Ah ja
So habe ich irgendwas
habe ich irgendwas überszenen Chat
Achja Dankeschön hier
Der real Agent Smith ist am Start und Toxy ist auch
29 Monate Leute
Massive
Subscription hier
Huge Subscriptions
Kommt der Friseur nachher noch dazu
Der Friseur ist ja bekanntermaßen auch so der richtige
Clown Native Hacker Man der kommt natürlich dazu
Der Friseur ich habe glaube ich
das letzte Mal im halben Jahr mit dem geredet
Wohlgemerkt das ist mein
Für Leute die früher nicht dabei waren ja
Das ist mein Kumpel aus Dresd
Der ist Friseur
Das ist nicht mein Friseur wenn ich Haare schneiden gehe
Mit dem habe ich glaube ich das letzte Mal
vor einem halben Jahr geredet
Dass er jetzt irgendwie einen neuen Job hat oder so
Keine Ahnung ich weiß überhaupt nicht
was der gerade treibt
Also ich überlege gerade
Wo fangen wir jetzt am besten an
Also ich habe mich Hetzner in der Cloud
schonmal eingeloggt ich zeige euch da
gleich ein paar Sachen also
nachdem das ja heute
Sponsored ist
könnt ihr mich natürlich fragen
was für
Anbieter ich für was wie wo empfehlen
werde würde allerdings die Antwort wird
wahrscheinlich immer Hetzner sein
Also um andere Sachen
machen wir uns da heute keine Gedanken aber ich
zeige euch ein paar neue Sachen
und wo habe ich denn hier
mein Spickzettel
und
wir bauen was
und zwar ich zeige euch mal kurz was
was ich vorhabe zu bauen
in der Hoffnung das funktioniert
ich weiß das Netzwerkkonfiguration
was Hetzner VMs angeht
etwas komplizierter ist
die Netzwerkkonfig ist nicht
komplizierter aber
komplexere Setups sind
manchmal nicht so
das steigt man nicht so richtig zu immer gucken ob ich das hinkriege
ich hatte damit öfters schonmal
Probleme wenn es eben nicht damit getan war
im Webinterface was anzuklicken
weil ich nicht wusste was ich bei Routen und sowas
eintragen musste also was wir heute
bauen ist folgendes
wir nehmen mal wieder unsere
neueste Startup
ist schon gegründet Anwendung
nämlich
die beste Beispiel Anwendung die es gibt
KEC WSS
warte mal warte KEC WSS Service
hat einen Pullrequest wo kommt denn der her?
Terraform
iFat
habe ich gar nicht gesehen dass da irgendjemand
guck mal irgendjemand
irgendjemand hat schon letztes Jahr im
September einen Pullrequest aufgemacht
habe ich nicht gesehen
keine Ahnung
das war aber glaube ich noch vor
unserem Terraform Stream
weil wir haben letztens auch einen Terraform Stream
gemacht
und da haben wir das schon alles drin
ja da sag ich aber gleich noch was dazu
wir gucken uns das heute
mal ein bisschen
bisschen langsamer alles an
normalerweise klick ich das ja mega schnell
durch und sag auf gehts
klick klick klick alles angelegt
Service ohne Docker File
soll vorkommen
das wird im Daily Scrum
bald besprochen
das ist hier Leute das ist ein Backlog hoffe ich mal drin
oder?
im Sprint ist das aufgenommen
also ich wollte ja erzählen was
wir heute machen ich mache hier mal
hier mal ein Bildchen auf da muss ich nicht
da muss ich nicht immer rüber switchen
also wir
machen was denn das
ich weiß nicht was ich da
gemalt hab irgendwann mal aber das
diskaten wir mal weil ich
das diskaten wir auch
so jetzt kann ich was mal
wunderbar
was ist da los Werbung ja
muss auch mal sein
also was wir machen
ist folgendes
super poggers minecraft.net das war mal
aus irgendeinem Video
aus irgendeinem Beispiel
das war ein Video was ich gemacht hab
ach zu
Log4j
das war das jetzt weiß ich wieder
für das Bild war
das ist das Bild
gewesen aus Gott der Browser
ist ja mal hier komplett High Speed
gerade
das war für Log
Log4j
siehts irgendjemand
Log4j hier guckt
hier aus dem Video war das Bild
hier
ah ok
also was wir heute bauen
ist folgendes ich versuche da mal
ein halbwegs schönes Bildchen zu
malen also
es gibt jetzt eine neue Funktion
die gibt's ja
neu die gibt's seit 2-3 Monaten oder so
schon zumindest ist das ganz praktisch
wenn man
noch mal ein paar Cent
sparen will
bei Hetzer Servern
bisher war es immer so wenn ihr einen Server anlegt
also wenn ich jetzt hier mal drauf klicke sagen wir hier keine Ahnung
wir wollen einen Server haben hier Falkenstein
wollte ich schon immer mal jetzt gerade einen Server anlegen
dann Demian11
so und der günstigste Server ist aktuell
also hochgerechnet
auf den Monat kostet 3,56 Euro
im Monat
das ist eine kleine Kiste allerdings
mit meinem Startgutschein
Ausrufezeichen Hetzer im Chat
bekommt ihr 20 Euro
Startgut haben da könnt ihr das ganze schon eine Weile laufen lassen
ja also 3,56 Euro
im Monat
das ganze ist allerdings
hochgerechnet weil das wird stündlich
abgerechnet sprich das bedeutet wenn ihr
irgendwie mal eine superfette Kiste kurzzeitig
braucht also mal angenommen ihr sagt
hier ich brauche jetzt das fetteste was es gibt
was man standardmäßig gar nicht machen kann
ohne sich Limits
also keine Ahnung
ihr müsst jetzt mal wirklich irgendwas richtig dickes machen
sagt 16 Kerne
AMD 32 GB
RAM 360 GB
SSD das ist genau das richtige für mich
dann müsst ihr nicht wie man das so
vom klassischen Hosting kennt
weil man sagen muss Fan ist halber
machen andere Anbieter mittlerweile auch so
aber Hetzer rechnet das
stündlich ab das ist natürlich
sehr praktisch weil da kriegt ihr ein günstiges
System von dem ihr allerdings
auch nicht den Monatsbetrag bezahlen müsst
sondern wirklich nur die Zeit wo ihr
das benutzt wir haben mal im Stream
vor
einem Jahr oder so war das da haben wir auch so eine richtig
fette Kiste genommen
da haben wir OpenStreetMaps
OpenStreetMaps Routing Information
waren das damals pre-processed
und ich habe es bei mir daheim probiert
auf meine 8 Kerne Desktop Kiste das hätte irgendwie
10 Stunden gedauert ich habe es auf meinem 16 Core Server
probiert damals hätte auch gedauert
ich hatte einfach nicht genug RAM also bin ich
in den Hetzer Cloud gegangen habe ich eine fette
Kiste gemiet ich glaube damals sogar noch mit noch mehr
CPU Kern
und ich glaube sogar noch mit noch
ich glaube wir hatten damals was mit 96 GB RAM
oder sowas irgendwas richtig fett das zumindest
die hier reicht auch könnt ihr euch
die mieten dann macht ihr euer Pre-Processing
euer Compile Zeug oder was auch immer ihr da machen müsst
und dann löchtet das und am
Ende bezahlt ihr dann
wahrscheinlich
noch nicht mal einen Euro je nachdem wie lange es
gedauert hat das ist wirklich praktisch
und das ist das was in dem Fall auch
wenn man das mit Cloud VMs hat
ein Vorteil ist zu monatlicher
Miete weil für viele Aufgaben
braucht man halt schlicht und ergreifend gar keinen
monatlichen Server und trotzdem
muss man aber sagen die Preise sind auch monatlich
vollkommen in Ordnung
also ich habe da einige
seit Jahren schon
sogar schon lange bevor ich irgendwie
angefangen habe zu streamen
lange bevor ich irgendwie
gesponsert wurde oder sonst was
habe ich da schon
Kisten stehen
und auch monatlich
also sprich die Preise sind monatlich
auch wirklich nicht schlecht
so
jetzt passt das genau
was soll ich denn sonst noch zum Intro sagen
ja genau das ist noch jetzt
jetzt kommt es nämlich jetzt kommt es nämlich mit
den Zusatz mit den Zusatz IPs
die Preise sind
in letzter Zeit ein bisschen teurer geworden
aber glücklicherweise gibt es jetzt so neue Optionen
wie beispielsweise dass man keine Public IP
mehr braucht jetzt weiß ich was ich zeigen wollte ich wollte
das neue wollte das mit den Public IPs
zeigen also sprich früher war es
immer so ihr habt euch hier einen Server zusammengeklickt
es gibt übrigens die Möglichkeit
dass ihr
was wollte ich jetzt sagen das ganze
könnt ihr genau das ganze könnt ihr über das Web Interface
machen das könnt ihr über die Kommandozeile machen
und das könnt ihr auch mit so Sachen wie Terraform machen
aber da gucken wir uns später gleich noch was zu
an
ja kannst du du kannst
bei allen ja haben wir uns schon mal
angeguckt haben wir gucken uns nochmal die
neuesten Sachen demnächst an
aber hier das ist tatsächlich das
zeige ich auch gleich mal das ist tatsächlich
auch ein wichtiger Punkt du kannst es
bei allen Cloud Kisten kannst
du die Sachen skalieren allerdings
man muss auf eine
Sache achten das zeige ich jetzt einfach mal
also wir legen
jetzt mal eine Cloud Kiste an die löschen wir gleich
wieder bevor wir anfangen aber ich zeige mal das neueste
mit den mit den IPs
also was man jetzt machen kann ist man wählt den Standard
aus man wählt das Betriebssystem aus
meistens nehme ich das hier aber
ich weiß wir haben viele Debian
Fans im Stream oder Debian wie es
ja die coolen Leute aussprechen wir nehmen überhaupt mal Debian
nehmen wir die kleinste Kiste die es gibt
für 356 im Monat
so und jetzt kann
man auswählen dass man keine Public
IP haben will sondern nur noch
Private Networking und dann kostet auch wirklich
plus 3,56 Euro ansonsten
wenn ihr eine Public
IP for 6 ist umsonst gibt
es ja genug das geht
alles auch übers Hetzner CLI und das geht auch über
Terraform und Ansible das zeige
ich wahrscheinlich heute aber alles nochmal im Lauf
des Streams weil heute geht es ja drum mal ein bisschen die
neuen Features zu beleuchten
und neuerdings
kann man auch nur Private Networks
Attachement also sprich ihr braucht
kein Aufpreis zu bezahlen
für IPv4 Adressen
so und
ich lege jetzt einfach mal schnell was an
dass ich kurz die eine Frage aus dem Stream
beantworten kann dann male ich mal ein Bildchen hier fertig
was wir eigentlich vor haben
ich mache jetzt mal einen ganz normalen Standard
Server mit IPv4 Adresse
ehrlich gesagt ich brauche nicht mehr SSH Keys
weil ich mich nicht drauf einloggen werde jetzt ist nur
was zum zeigen lege ich das an
ich muss sagen
ich werde es jetzt nicht namentlich erwähnen
aber ich verwende beruflich auch öfters mal
Web Interfaces
andere Anbieter und das muss man schon sagen
das Hetzner Interface ist wirklich nice
du hast vielleicht nicht
sagen wir mal
die Millionen an Funktionen
wie jetzt bei so den
3 bekanntesten Cloud
Anbietern
aber das was sie eingebaut haben ist wirklich
mit Köpfchen eingebaut
also das muss man wirklich sagen
das Web Interface ist wirklich gut
das was es an Funktionen gibt kann man
gut über das Web Interface machen und ist meistens
auch so implementiert
dass man das findet und das irgendwie
intuitiv zu bedienen ist
also das ist das was
ich euch zeigen wollte also sprich
wenn ihr jetzt sagt ok ich
lege mir einen kleinen Server an eine CPU
2 GB RAM 20 GB
SSH übrigens alles
SSD Storage bei den normalen Kissen
ähm
ist eh schon relativ
relativ günstig aber
wenn ihr sagt ah das reicht
mir jetzt nicht mehr
ja ja dedost ihr ruhig mal
wir wissen ja dass die
Leute sich hier teilweise nicht zurückhalten können
das erste was ich eh machen muss
im Stream ist immer Login IP ausmachen
weil es wieder irgendwelche Leute gibt
die es partout nicht lassen können
dann ihr Zeug anzuschmeißen
aber gut das ist halt hier
wie weiß ich auch Streamer Live
also was wollte ich jetzt sagen
genau mal angenommen ihr habt jetzt angefangen
mit so einer kleinen Kiste eine CPU
2 GB RAM
ihr sagt jetzt es reicht mir nicht
mehr da kann man das ganze
skalieren das mache ich
nicht so oft
aber es geht
ihr müsst bloß eine Sache
beachten raufskalieren
geht eigentlich
immer
aber
man kann auch runter skalieren
ja Xilcon
mach mal Ausrufezeichen Hetzer im Chat
es gibt einen neuen Code
ne das ist die kleinste
Kiste die es gibt hier
aber das hier müsst ihr
das müsst ihr euch dann tatsächlich durchlesen
wenn ihr die
Festplatten raufskaliert also mal angenommen ihr sagt
das hier reicht mir nicht mehr
ich will jetzt das da haben
da sind ja auch
normalerweise sind ja da auch mehr
Disk und sowas dabei
wenn ihr das hier raus macht
kriegt ihr zwar mehr SSD habt ihr mehr
Speicher aber dann könnt ihr nicht
mehr runter skalieren CPU
und RAM kann man hoch und runter
skalieren wie man will Festplatten
kann man nicht hoch und runter skalieren wie man will also
sprich wenn ihr jetzt sagt hier die Kiste reicht
mir nicht mehr ich will jetzt die hier haben
und ihr macht
dieses Häkchen hier raus deswegen ist gut dass das Häkchen
auch standardmäßig drin ist ihr macht das
Häkchen jetzt raus
dann skaliert er auch die SSD hoch
auf 160
GB aber dann könnt ihr nicht mehr runter
skalieren dann könnt ihr nur noch hoch skalieren
das heißt ich mach meistens lasse ich das
Häkchen drinnen es gibt
auch die Möglichkeit weitere Volumes hier
dran zu hängen gerade was Backups angeht
und zusätzliche Sachen also
man muss das gar nicht
zwangsläufig
über die Standardplatte hier skalieren
ja aber das funktioniert ja also zum sprich
wenn ihr jetzt sagt hier Kiste reicht
mir nicht ein CPU Kern ist mir zu wenig
ich hätte gerne 3 CPU
Kerne meiner persönlichen Meinung
übrigens ist das hier die beste VM die es gibt
Preis Leistungstechnisch
3 CPU Kerne 4 GB RAM
20 GB SSD
die haben sie glaube ich vor kurzem auch geändert
vor kurzem gab es sie noch als Intel und jetzt
gibt es sie auch als AMD
oh
warum kann ich nicht rescalen
achso weil ich es
ausschalten muss
so jetzt kann ich es rescalen
das dauert kurz und wenn es fertig ist
kann man kostenlos die Public
Static IP wieder ändern
ja und ne
also diese IP
ist einmalig zugewiesen beim Server erstellen
was du machen kannst wenn du
selbst IPs
verwalten willst du kannst Floating IPs
anlegen ich sehe ich auch nicht komme
wahrscheinlich zu nichts weil ich am zeigen bin
aber ich meine ey das ist Sponsored Stream
zeigen ist wahrscheinlich das beste was ich machen kann
also diese IP
kannst du soweit ich weiß nicht refreshen
was du machen kannst ist du kannst bei Floating
IPs die eigene IPs anlegen
du kannst zum Beispiel sagen ok
ich hätte jetzt gerne hier einen Ashburn
in den USA hätte ich eine IP
und das ist meine
IP was weiß ich hier Public
hier CACW Service
die IP
den CACW Service den kannst du anlegen
und dann kannst du die IP mappen
an deinen Server
also sprich du kannst dann hier
irgendwo sagen ich weiß gar nicht genau wo das geht
Networking and Floating
IP
ach ne aber man kann das nicht
Kontinent übergreifen man ok ich hab nichts gesagt
dann muss es wahrscheinlich zumindest
auf dem gleichen Kontinent sein also kannst du hier sagen
keine Ahnung CAC
Service
Floating IP
und dann kannst du diese IP
auch von Server zu Server umziehen
tja Floating IP
ist nicht ganz billig
die Standard IP ist billiger
die kostet dich irgendwie 34 Cent
oder so was vorhin da gestanden hat
Floating IPs sind ein bisschen teurer
aber Floating IPs sind garantiert dir
also was heißt dir solange du sie bezahlst
staatlich und nicht an
Systeme gebunden
also wenn du jetzt sagst hey
ich will diese Kiste nicht mehr haben
schmeißt die weg
und ersetzt sie durch eine andere oder ziehst das auf
ein Loadbalancer um dann kannst du das machen
und deine Public IP bleibt gleich
dafür ist was gedacht
ansonsten
reichen ohne Probleme auch
die IPs die hier dabei sind
hier ist nix
Dankeschön 15 Monate Subscription
nice
falscher Knopf
so ich glaube
das wars soweit jetzt
von Fragen im Chat
mach die Kiste mal wieder weg
ja man kann das ganze übrigens auch locken
dann kann ich hier nicht
den Kram löschen
also für wichtige Sachen bietet sich das an
ja ihr könnt das taggen
ihr könnt alle Ressourcen taggen
dass ihr es einfacher findet und diese Tags
muss ich jetzt vielleicht an der Stelle
auch nochmal sagen
diese Labels
sind nicht rein zur Organisation
wenn man später
Loadbalancer verwendet also sprich dass man
am Eingang eine Kiste hinstellt und dahinter
mehrere Server mit der Anwendung hat
wenn man Loadbalancer verwendet kann man anhand
der Labels den Loadbalancer konfigurieren
welche Server gelodbalancet werden sollen
ist eigentlich wirklich nice
und simpel gemacht
so ich schmeiß das mal weg
alles klar
ja man kann Snapshots machen
von seinen Kisten
man kann mit der Hilfe von Snapshots
muss ich mal ganz kurz nebenbei erwähnt
man kann mit der Hilfe von Snapshots
auch eigene Base Images machen
wenn man sowas haben will
standardmäßig ist es ja so
wenn man hier was
von auswählt
dann
dann ist es halt eines der Standard Betriebssysteme
die es so gibt unter Linux
man kann mit Snapshots auch eigene Images
bauen wenn du sagst hey ich will jetzt
ein Ubuntu haben mit diesen 15
Packages drauf und mit dieser Standard
Konfig kann man einen Snapshot machen daraus
eigene Base Images bauen und dann damit Server aufbauen
das haben sie eigentlich auch
recht nice gemacht ach ja und wenn ich gerade
dabei bin
muss ich auch nochmal zeigen weil das
haben sie glaube ich gestern oder so auf Twitter gepostet
es gibt jetzt
auch die Möglichkeit dass man direkt
vorkonfigurierte Apps auf
das heißt Apps, Apps ist vielleicht nicht das
glücklichste Bezeichnung dafür
vorinstallierte
Systeme sich aufsetzen kann
sprich das ist dann ein Ubuntu oder ein Debian
oder was auch immer aber mit der Anwendung die man
haben will schon fix und fertig drauf
also wenn ihr zum Beispiel den Nextcloud haben wollt
Prometheus for Monitoring haben wollt
in dem Fall sogar Prometheus Grafana zusammen
oder aber und das gibt es jetzt glaube ich seit gestern erst
einen WireGuard Endpunkt
braucht fürs VPN
dann könnt ihr den Kram hier anlegen
könnt ihr sagen hey wir wollen
ich will da WireGuard VPN Endpunkt
mit machen kann man hier WireGuard als App
auswählen
und dann ganz normal
Server Setup machen
normalerweise reicht für einen WireGuard Endpunkt
natürlich das kleine
Public IP ist natürlich zwingend notwendig
dafür
nehmen wir mal die Standard Sachen aus
und dann kann man sich da einloggen
kann VPN aufbauen
du musst den Kram nicht selbst installieren
ist ganz gute Idee
ich denke gerade für Leute die sowas wie
eine Nextcloud betreiben wollen ist es sicherlich nicht verkehrt
wenn man sowas noch gar nicht gemacht hat
sprich wenn man noch nie einen Public Server
ins Internet gestellt hat ist es vielleicht
nicht so clever gerade mit solchen Sachen
wie Nextcloud anzufangen
aber dann ist es vielleicht nicht schlecht
sich das vorinstallierte
Image hier zu nehmen
das ist ein Image mit
einem Install Script hinten dran
das ist übrigens auch alles open source man kann auf GitHub
bei Hetzner kann man gucken
WireGuard zum Beispiel
irgendwo
gibt es das muss ich mal kurz
bei Twitter gucken Twitter
Hetzner online
die haben das gestern oder vorgestern
erst gepostet
dass das jetzt mit WireGuard funktioniert
blub blub blub
ja genau
irgendwo da war auch ein Link auf das
ich bilde mir ein irgendwo da war auch ein Link
auf das GitHub repo
mit einem Install Script drin also sprich das ist
also ich hab es gestern gesehen
ich weiß nicht wo es ist
dann hat man im Prinzip
unter der Haube gesehen
dass es ein Base Image ist
plus ein Install Script
und wer es dann genau wissen will was es macht
kann sich bei Hetzner auf GitHub angucken
wo ist denn das
apps da ist das drinne genau
apps
Hetzner WireGuard
hier ist das drinne genau
da sieht man was das macht also wer der Sache nicht traut
dass jemand sagt ah ok
ich weiß nicht was macht der eigentlich bei der Installation
das ist alles open source und man kann sich angucken
was die für einen machen
ich denke mal allerdings mal ehrlich
Leute die sich das hier angucken
und da durchblicken
die werden wahrscheinlich sich den Kram selbst installieren
und es nicht über die Cloud
über die Cloud Konsole
bei den Apps machen
aber kann man machen wenn man schnell was braucht warum nicht
können wir uns beispielsweise mal ganz kurz reingucken
wie das aussieht bei Next Cloud
da sieht man auch
was das Install Script macht
hält sich in Grenzen
Wann kommt bei den Apps
CACW as a Service
ja das ist das allerwichtigste
das muss ich wirklich mal besprechen mit dem
also CACW as a Service
sollte dann wirklich überall drauf sein
wie gesagt das wird das neueste
Millionen Startup
Gründung
ist beantragt
ja
so und jetzt kann ich euch mal zeigen was wir heute bauen
bzw. was ich versuchen werde dazu bauen
wo ich mir nicht ganz sicher bin
ob das Netzwerk Konfig technisch überhaupt
hinhaut
also um dieses neue IP Feature
bei Hetzner mal auszuprobieren
also sprich dass man jetzt Server machen kann
die keine Public IP haben
habe ich mir gedacht welche Monitoring Software
empfiehlst du
ich komme heute nicht wirklich zu irgendwas
welche Monitoring Software empfiehlst du
das kommt drauf an was du machen willst
willst du eher Metriken haben
also willst du beispielsweise Anwendungen
überwachen so nach dem Motto wie viele
Connections wie viele Sachen hängen
in der Queue wie oft ist der Garbage Collector gelaufen
zu eher Metriken überwachen
oder willst du eher so Black Box
Monitoring machen also wenn du so die
klassische Geschichte machen willst lernst du mal
Black Box Monitoring dann würde ich
zu sowas wie Zabbix tendieren wobei
ich weiß im Stream gibt es jetzt wieder welche die sagen
nein nein nein Max kein Zabbix wir machen
nur Check MK oder wir machen nur
nur Oldschool Nagios
oder was auch immer
ja kann man alles machen
ich persönlich
oder Windows Fans kann man auch
aber wenn man will kann man das machen
PRTG ist glaube ich auch nicht schlecht habe ich noch nie
verwendet ist halt Windows Only
also wenn du Black Box
Monitoring machen willst würde ich dir tatsächlich
sowas wie
Check MK oder eben Zabbix
ich persönlich mag Zabbix eigentlich ganz gerne
Zabbix an das Herz legen
du kannst das alles
allerdings auch alles mit Prometheus
und in Verbindung mit Krafana zum Beispiel machen
das sieht halt
stylischer aus aber
ganz ehrlich die ganzen Krafana Grafen
und Visualisierung kommt halt
ehrlich gesagt eher zum Zuge
wenn man eben viele Daten und Metriken einsammelt
und nicht Publisches hostes
ab und down ich vermute mal was du machen
willst ist du hast 3 Kisten
irgendwo rumstehen oder vielleicht irgendwo 1-2
Domains gemietet du willst wissen wenn die weg sind
oder du willst wissen wenn das Zertifikat abgelaufen ist
oder sowas in der Richtung
kann man mit Prometheus
und dem Black Box Monitor machen
allerdings sowas wie Check MK, Nagios
Zabbix
oder meinetwegen auch so Geschichten wie
Libre NMS
oder sowas ist da nicht verkehrt
ja
Moin Christian
Heizungssteuerung
würde ich wahrscheinlich über das andere
ach ne die willst du überwachen
ach ja
ne Mist ich kann dir meine
Heizungsüberwachung nicht zeigen
Moment, Moment habe ich das noch?
Mein Heizungs Dashboard
was keine Daten mehr bekommt aber der
Krafana Server ist noch ab Sekunde
letzten 2 Jahren
ok wir haben nur noch hier
ein bisschen Daten der Rest ist schon weg
also ich habe mir auch mal ein Dashboard
gebaut
ich habe mir auch mal ein Dashboard gebaut für meine Heizung
mittlerweile habe ich das anders gemacht
mittlerweile mache ich das über Home Assistant
übrigens bis in Krafana spielen wir
heute in der Hetzner Cloud auch noch mit rum
ich hatte mir sowas hier gebaut
guck da siehst du z.B. Temperatur
Soll Temperatur, Kessel Temperatur
was der Brenner gerade macht, Pumpenauslastung
Abgas Temperatur und sowas
also wenn du solche Sachen hast
das ist das was ich unter Metriken verstehe
und davon auch relativ viele
dann ist so ein Krafana Setup schon ganz cool
wo wir wieder beim Thema sind
wenn man sowas ausprobieren will
oder kleine Cloud Installationen hat
anscheinend gibt es die Sache auch vorinstalliert
bei Hetzner in der Cloud
die Prometheus Krafana Kombi
da muss man es nicht selber machen
so
aber
dann fangen wir doch mal an, also was ich heute eigentlich machen will
ist folgendes, damit wir uns das
Feature mal anschauen können, dass Server keine
Public IPs mehr brauchen
also wir werden versuchen folgendes zu bauen
3 Kisten
gibt es hier schöne Bilder
für Linux Server vielleicht
naja
sowas vielleicht
ja sowas
ist eigentlich ganz gut
Spooky
Musik geht jetzt nicht
wird zu nervenaufreibend
richtig Monkeys Musik
ja
so also
wir stellen 3 Kisten hin
in der Cloud
bei Hetzner
wo wir die Anwendung drauf laufen lassen
die Anwendung wird wirklich äußerst rudimentär
da kann ich euch sagen, das wird einmal
meine Testanwendung, die ich genau für sowas gebaut habe
und am Anfang wird es eine
statische HTML Seite, um zu gucken ob es
funktioniert, aber da geht es ja auch nicht drum
sondern es geht ja um das Setup, wie man da hinkommt
und was man alles machen kann, ich hoffe das klappt
ich bin mir nämlich gerade
bei der Netzwerk-Config ehrlich gesagt
unschlüssig ob ich das auf die Reihe
kriege
aber müssen wir mal schauen
und der Unterschied ist, wir nehmen
LordBalancer, das ist nämlich auch was
was es in der Hetzner Cloud erst
seit ungefähr einem halben Jahr
oder so gibt
Cloud Server
Cloud Server
dann ist das hier
das Internet
und was wir probieren
ist folgendes
das hier
Text
äh nicht das da, das da
das hier wird ein privates Netzwerk
das wird 192.168.10.0.
slash 24
das wird ein privates
Netzwerk in der Cloud
nicht bei mir daheim, muss ich jetzt noch mal dazu sagen
in der Cloud
das wird ein privates Netzwerk und die
VMs, die bekommen
auch nur
eine Netzwerkkarte in diesem privaten Netzwerk
so, dann haben wir
noch hier eine weitere VM
und hier haben wir einen LordBalancer
mal gucken, ich bin gespannt ob das alles so funktioniert
wie ich mir das vorstelle
aber gucken wir mal
der Weg ist das Ziel
und
nein wir machen kein Kubernetes Cluster
so und das ganze wird
dann folgendermaßen funktionieren, wenn es denn alles
funktioniert
wie macht man hier einen Hintergrund
so, das hier ist der LordBalancer
dann nehmen wir den LordBalancer Service von Hetzner
und das hier ist das Internet
so und das wird dann folgendermaßen
funktionieren
das Internet geht auf den LordBalancer
und der LordBalancer
verteilt dann die Anfragen
auf die
unterschiedlichen Kisten
jetzt ist natürlich die Sache, diese Kisten
müssen ja auch ab und zu mal
ähm
Package Updates und sowas
machen und vielleicht will man die auch überwachen
oder man muss ja
irgendwie darauf zugreifen, das kommt ja auch noch
dazu hin
man könnte zum Beispiel, was der Chat schon sagt
man könnte zum Beispiel einen PFSense oder
OpenSense Router nehmen oder aber
wir nehmen hier eine x beliebige Linux Kiste mit
IP Tables und machen
NAT selber
auf dieser Kiste, das ist dann beispielsweise hier
NAT
also ausgehend ins Internet
für die Kisten, wenn sie Package Updates machen müssen
dann kann man da beispielsweise noch
ein
bisschen Überwachung für die Kisten
drauf machen und das ganze natürlich
auch als Jump Host
per SSH auf die Kisten
also sprich, für Admin
der Admin, gucken wir mal
ob es da ein schönes Admin Symbol gibt
naja, gut, das ist der Admin
also der Admin würde dann
so auf so eine Kiste kommen
der geht auf den Jump Host und von da geht er
dann per SSH auf so eine VM
so weit in der Theorie
und die Kisten können dann auch
weil sie haben ja keine Public IP, die kommen ja nicht
ins Internet, diese Kisten können dann auch hier
drüber Package Updates und solche
Geschichten machen
und wir können sogar, wir können sogar ein bisschen
Monitoring hier drauf installieren und gucken wie die CPU
Auslastung, RAM Auslastung und sonst was
allerdings wird die RAM und CPU
Auslastung wahrscheinlich bei einer
statischen HTML Seite
nicht so viel sein
gleich null
Black HD
Dankeschön für den Sub
gibt's von Hetzen auch ein Kubernetes SS Service
es gibt nichts direkt im Web Interface
ne, das gibt's nicht
es gibt aber
es gibt aber Installs
von denen
zum Beispiel wenn du Terraform
verwendest, kannst du dir mit hier direkt
ein Kubernetes aufsetzen
wobei man halt wirklich sagen muss
da kann man
sich echt streiten ob sich für so ein kleines
Setup ein Kubernetes Cluster jetzt
anbietet
also die klassische
Sache aus ein paar VMs
wo sich nicht viel ändert
hat ja auch seine Daseinsberechtigung
und wenn wir noch Zeit haben
machen wir das Ganze am Ende noch mit Terraform
weil
so Server
konfigurieren
das geht ja relativ zackig
allerdings wenn man das öfters machen muss und wenn man das
reproduzierbar machen muss, also sprich dass ihr die
Kisten vielleicht mal
von 3 auf 4 erweitern
wollt oder mal die ist kaputt
und die müsst ihr neu installieren, dann ist es
in der Regel nicht so schön
wenn jeder Server, jede VM
so was
besonderes ist, ja
sowas eigenes wo keiner so genau weiß was Sache ist
dafür gibt es ja verschiedene Software und sowas zu machen
da hat man beispielsweise sowas wie
Terraform, dann gibt es sowas wie Ansible
wobei das nicht, wo man sagen muss das hat ein bisschen
unterschiedliche Anwendungszwecke
oder aber auch
Pulumi habe ich mir letztens angeguckt
das ist auch ein Konfigurationsmanagement
Tool
Terraform und Pulumi, Terraform
weil man frare Chat, weiß nicht ob euch das was sagt
das ist mit das bekannteste
Tool in dieser Richtung, damit kann man
Cloud Infrastruktur anlegen
und natürlich gibt es
für Terraform und für die anderen auch
von Hetzner einen Provider
das man relativ einfach
damit Hetzner Ressourcen konfigurieren
kann, das ist super Agile
Mr. Moo Game, also agiler, viel
agiler gehts nicht, das sieht dann
zum Beispiel so aus, das haben wir in einem der letzten Streams
schon mal ein bisschen zusammen gewurstet
es sieht dann zum Beispiel so aus, also wenn ihr mit Terraform
wenn ihr mit Terraform
beispielsweise Hetzner Server anlegen wollt
dann sieht das zum Beispiel so aus hier
da wird man dann
zum Beispiel einstellen
ein Api-Talken braucht man, Api-Talken ist jetzt natürlich
hier nicht, bei mir im GitHub Repo im Cloudlinks
drinnen, ja da kann man zum Beispiel
Netzwerke anlegen bei Hetzner
man kann verschiedenste Server
anlegen, hier legen wir beispielsweise 3 Server
an, 3 Cloud
Nodes
mit Name, mit Label, was es für ein Server
sein soll, mit Ubuntu, mit welchen SSH
Keys, welcher Standort, da waren wir
ein bisschen Minimalkonfiguration
dann haben wir noch einen Loadbalancer angelegt, also sprich
das werden wir nachher auch als Basis nehmen
falls wir so weit kommen
muss ich mal gucken, ob wie der Rest funktioniert
und
dann hat man
wenn man das ausführt, hat man
mehr oder weniger, nicht ganz
aber fast
dieses Setup hier, in der Cloud erstellt
mit nur einem
Kommando
ja
und Hetzner bietet
für alles mögliche, also Terraform kannst
du benutzen, Pulumi Provider
haben sie, Ansible gibt es auch
eine Integration für Hetzner Cloud
also
da kann man wirklich
alles möglich, Puppet weiß ich gar nicht
muss ich mal kurz gucken
haben die auch sowas?
vielleicht
aber Puppet ist eh Paints Champ
dir fehlt die Festplatten Verschlüsselung in der Cloud
du kannst die Festplatte verschlüsseln
wenn du willst
du kannst theoretisch selbst installieren
das haben wir auch schon mal in einem Stream gemacht, ist aber schon eine Weile her
du kannst theoretisch selbst installieren
Festplatten Vollverschlüsselung
machen und anlocken
über SSH, das geht
dann musst du die Installation aber
auch die Cloud Konsole selbst machen
also du hast ja hier
wenn du einen Server anlegst
ich leg jetzt mal den exemplarisch
mal einen an
den löschen wir gleich wieder
was habe ich vergessen?
äh
Name habe ich wahrscheinlich vergessen
oder?
äh
achso
no private network selected
also
du kannst
wenn der Cloud Server
installiert ist
oder auch vorher schon, ja in dem Fall
kriegste das Ding aber nur wenn es einmal angelegt ist
du hast eine Konsole
guck du siehst ja auch der booted hier
und so
also was du machen kannst ist du kannst zum Beispiel ein eigenes Image
Attachn
das kannst du mit dem Hetzer Kommandozeilen Tool machen
wo es über das Web Interface geht
weiß ich ehrlich gesagt gar nicht genau
über das Web Interface habe ich das noch nie gemacht
also Volumes ist ja für
ihr ISO Images
genau
da haben die wahrscheinlich auch so was wie Netboot
haben die so was wie Netboot
also
du kannst dir beispielsweise selbst installieren
können wir mal ausprobieren
hat jetzt zwar wenig mit
privaten IP Adressen zu tun
habe ich auch schon ewig nicht mehr gemacht
ähm
gucken wir mal
habe ich jetzt nicht ausprobiert mal schauen wie das
funktioniert wie man das jetzt bootet
ob der jetzt davon bootet wenn man das
mountet, ja guck mal
Image
Ubuntu Server Image gemountet
und jetzt kannst du hier in der Konsole
komplette Installation
selbst machen wenn du willst
du kannst auch wie gesagt man kann auch
irgendwie eigene Images hochladen
ich bin mir nicht sicher wo man das im Web Interface
macht also über die Cloud API gehts auf jeden
Fall und du kannst auch eigene Images
erstellen aus schon laufenden System
zumindest die haben das meist ja drinne
guck du hast zum Beispiel wenn du willst
du hast nen Debian
Debian 11 zum Beispiel dabei
oder kannst nen Debian
Debian 11 net install dabei
nehmen wir das mal
ich mounte das mal und wir unmounten das
ja ja neu starten please
guck schon hast du hier nen Debian kannst du sagen install
und kannst
du über die Server Konsole
die eigene Geschichte installen
und spätestens jetzt kannst du halt auch Festplatten
Vollverschlüsselung machen wenn du willst
aber musst halt
von Hand machen kannst halt nicht sagen einfach
System aufbauen funktioniert haben wir übrigens
auch schon mal gemacht
Archief
noch mal
Archief
ne Roblox
Archief wo ist es
haben wir auch schon mal gemacht
wir haben ja schon einige Sachen
mit Hetzner gestreamt
oh Hetzner Hetzner sollte ich noch nen Titel machen
Ausrufezeichen Hetzner
vielleicht nicht schlecht
dass die Leute sich ihren 20 Euro
Startgutscheincode sichern können
also wenn ihr Ausrufezeichen
Hetzner macht bekommt ihr einen Gutscheincode
mit 20 Euro Startgut haben allerdings
nur für neue Kunden
bin mir nicht ganz sicher wo der Stream
ist
irgendwo müsste da
sein
TFS
weiß ich nicht
müssen wir mal durchgucken wir haben schon mal einen Stream gemacht
da haben wir auch bei Hetzner in der Cloud
ein Server installiert mit Festplatten Verschlüsselung
und automatischem
Unlock per SSH
Hetzner Sellout am Start
ja muss auch mal wieder
sein war schon lange nicht mehr
es war so lange nicht mehr dass mich der Chat
gefragt hat wann gibt es denn mal wieder
Hetzner Sellout
geht auch via Install Image im
Rescue System ich glaube
haben wir sogar damals gemacht
ich glaube ich habe damals
ich bin mir nicht mehr sicher wie wir das gemacht haben
es auch über das Rescue System gemacht
das ist ja schon 3-4 Jahre her
ich glaube ich habe damals
Netboot gestartet über das Rescue
System
Netboot gestartet und dann
irgendwie Ubuntu installiert
und dann im Installer
Festplatten Verschlüsselung gemacht
kann ich mich nicht mehr genau
dran erinnern
zumindest ja um das zu beantworten du kannst
wenn du selbst machst auch komplette Festplatten
Verschlüsselung machen
so sieht es aus
gut also das werden wir jetzt mal versuchen
zu bauen
ich bin mir nicht ganz sicher ob das alles so klappt
weil ich habe das hier
also ich weiß dass es geht ich weiß auch wo man es anlegt
aber ich habe das hier noch nicht ausprobiert
und ich weiß aus der Vergangenheit
dass die Netzwerkconfig von Hetzner
bisschen schwierig ist
dadurch zu steigen wie man das
von Hand macht
weil die machen irgendwelche
Layer 3
Switching Magic
wie die Pakete da geroutet werden
fragt mich nicht das war immer ein bisschen
kompliziert vielleicht
vielleicht haut es auch nicht hin aber zumindest wir
fangen mal mit dieser Kiste an also das ist der Plan
heute aufzubauen 3
Vms die nicht im Internet erreichbar sind
ein Loadbalancer davor wo das
die User quasi
nennen wir es mal
User
User
drauf zugreifen können
was der Code geht
nicht
Wait a minute
Code
Doch
angeblich gehen
Max 2 2
Was hat denn der
Versuch es mal
groß zu schreiben
Versuch mal groß zu schreiben
ob das vielleicht
probier es mal so
probier es mal so
sag mir mal bitte Bescheid ob es geht
ich muss das gerade mal anpassen
weil das ist das was
mir Hetzner geschrieben hat
geht nicht ja dann weiß ich auch nicht
dann weiß ich auch nicht
das ist der Code den sie mir
geschrieben haben
also das ist 1
zu 1 aus der Mail raus
kopiert den sie mir geschickt haben
also
wenn
der nicht geht dann weiß ich auch nicht
keine Ahnung
ich kann ihnen das am Montag mal schicken dass der
Code nicht geht
aber machen kann ich da jetzt nichts dran
okay
geben wir uns mal dieser Kiste
ich muss jetzt eben mal ein bisschen was machen
ich hab jetzt fast eine Stunde Leute
ich hab 50 Minuten geschwätzt aber ich meine ich hab
über Hetzner Funktionen geschwätzt das dürfte ja
noch im Rahmen sein übrigens eine
Funktion die ich euch auch noch zeigen muss
bevor wir jetzt anfangen damit man es besser versteht
guck mal dieser Loadbalancer hier
das könnte natürlich man könnte so was
selbst bauen mit der Linux Kiste
aber es gibt seit neuestem bei
Hetzner
die Möglichkeit Loadbalancer anzulegen
und
wie ich schon am Anfang gesagt
hab wenn die was ins Web Interface
integrieren
dann meistens
relativ gut durchdacht
denn man kann zum Beispiel Server anlegen
und Loadbalancer anlegen ist ziemlich das gleiche
hier kann man die Ziele auswählen von dem
Server
oder aber was noch viel besser ist ich hab ja am Anfang
gesagt man kann seine Server und Ressourcen taggen
man kann hier ein Label
geben zum Beispiel ich tagge alle
meine Server mit der Applikation mit App
und dann könnte ich sagen dieser
Loadbalancer soll auf alle Server
die Last verteilen die App im Label
haben gucken wir uns dann aber an
ja achso und so die Standard Sachen kann der
auch also der kann quasi
der Reihe nach
die ganzen Connections verteilen
oder aber halt auch also immer
abwechselnd Server 1 Server 2 Server 3 Server
1 Server 2 Server 3 oder aber
halt auch so verteilt
dass die Server ungefähr gleich
ausgelastet sind
was Connections angeht
und was auch sehr praktisch
ist die können für dich gleich Let's Encrypt
Zertifikate machen
kann man sagen hier
ELS Termination
und dann können die für eine Zertifikate machen
aber schauen wir gleich mal
mal gucken wie weit wir kommen
zumindest das sind die neuen Features
also Loadbalancer gibt es relativ
gibt es relativ neu
Server ohne Public
IP ist relativ neu
und eine Sache die es auch noch
nicht so lange gibt sind
Firewalls bei Hetzner
man kann nämlich sagen hey
ich will gar nicht
dass auf meine Systeme
irgendwie das gesamte Internet zugreifen kann
oder eben auf jedem Port alle drauf
zugreifen können man kann auch sagen okay ich will
beispielsweise das nur IPv4 Traffic
ups
ich will beispielsweise nur IPv4
Traffic drauf lassen und auch kein Ping
sondern nur SSH
können wir zum Beispiel jetzt mal anlegen können wir jetzt auch gleich
bei dem ersten Server
aktivieren also sprich
nur SSH also
Port 22 nur SSH ist erlaubt
und only IPv4 Traffic
no create
jetzt haben wir eine Firewall
mit nur einer Regel drin
das ganze geht wie bei jeder anderen Firewall
von aus nach unten und
was tatsächlich glaube ich auch noch nicht
so lange geht ist dass man
outbound Regeln machen kann
kann sein
dass ich Mist erzähle aber ich bilde mir ein das ging nicht
seit Anfang an also
das hier gehts hier gehts drum
wenn man sich vom Internet auf das System verbindet
was erlaubt es
und hier gehts drum wenn das System rausgeht
was erlaubt es in der Regel macht man es
so so wie das hier eingestellt ist
outbound ist alles erlaubt inbound
beziehungsweise halt vom Internet auf das System
da filtert man
so lassen wir das einfach mal so stehen
wie es hier ist legen jetzt eine neue Kiste an
und zwar mit was fangen wir an wir fangen
mit dem Server hier an wo habe ich denn
mein Bildchen
ob ich mein Bild
wir fangen mit der Kiste an
wir brauchen ja irgendwie die Möglichkeit
auf unsere internen Server uns zu connecten
und da zeige ich euch jetzt mal noch ein paar
SSH Tricks pass mal auf
FIFAT High IQ Shit was jetzt
kommt IPv6
ist jetzt ungefiltert ne
alles verboten was nicht erlaubt ist
also sprich
alles was ich hier rausgeschmissen habe
ist verboten
du darfst nichts machen außer was hier
drinne steht also das einzige was zurzeit
erlaubt ist ist
SSH IPv4
SSH sonst
nix erlaubt
ja
also es ist default
default deny
sobald man das da dran bindet
oh das ist
das kenne ich noch gar nicht
was denn das
achso man kann
man kann das automatisch
mappen lassen oder so
ne das gab es schon immer
du kannst
in vpn in das netz einrichten
das geht neuerdings relativ easy
also
ich zeige euch jetzt mal wir machen das nicht
weil ich mein also wir machen folgendes
setup hier
psh mit jump host
man kann es auch mit vpn einrichten
allerdings sagen wir so
mit einem kleinen zwischenschritt aber mittlerweile relativ einfach
ich zeige euch nur mal was man theoretisch machen
müsste das mit vpn zu machen also
networks
wir legen jetzt unser privates netzwerk an
das ist das was ich hier gemalt habe also das da wollen wir haben
192 168
10
slash 24
EU central
network heißt private
das wir anlegen
was du jetzt machen kannst ist folgendes du gehst auf server
sagst add server
apps
wireguard
lässt ihr alle standardmäßig
public IPv4 private networks
so
und jetzt hast du quasi
in vpn
wenn du die vm erstellst
jetzt kannst du per wireguard vpn
von außen
ich meine du brauchst eine public IP adresse dass du
vpn aufbauen kannst
ich kann das jetzt ja mal kurz anlegen
so
und jetzt hast du
in vpn in das netz
das werden wir heute aber nicht so machen
ich wollte es dir bloß zeigen dass das geht
die app kostet glaube ich
nix extra die app ist ja auch
keine richtige app die apps sind einfach nur install
scripts die auf dem standard
vermute mal debian image laufen
guck die sind übrigens die install scripts
sind übrigens auch open source die kannst du dir hier angucken
also es hält sich wirklich in grenzen
was der macht
der unterschied ist
wenn du dich das erste mal einloggst läuft
ein script das dich fragt nach
password und sowas
ich kann mich da jetzt nicht einloggen weil
ich meine public IP nicht leaken will
das kannst du aber mal ausprobieren
das gibt es auch erst seit gestern also nicht wundern warum
du es noch nicht gesehen hast das gibt es erst seit
gestern
übrigens habe ich ja schon erzählt dass ich am
dienst mal ein neues auto holen gehe
delete
so jetzt fangen wir aber wirklich
mal an also servers
wir brauchen eine kiste
so und diese kiste wird
benutzt für
also wir werden die benutzen für
als jump host für den admin
von außen auf unsere internen vms
mit intern ist übrigens das private
private netz gemeint
was für eins
das ist ein elektroauto ein fiat 500e
ich hab das relativ günstig bekommen
für ungefähr 25.000 euro
als vorführauto
ich mein
ok man kann sich jetzt drüber streiten ob das
günstig ist aber für das auto
ist es halbwegs günstig
8,5
sekunden 0 auf 100
dann wird geflitzt
prog
soll ich ein video machen
Leute soll ich ein video machen am montag
nein Leute wir brauchen
irgendeinen clickbait titel
wir brauchen irgendeinen richtig krassen clickbait
titel dafür
ich weiß jetzt nicht genau wie ich
dein comment interpretieren soll
findest du das jetzt viel oder findest du das jetzt
wenig
übrigens
es ist ein hetzner sponsored stream
wir machen auch gleich mit der cloud weiter
aber das muss ich euch erzählen
ich war letztens bei meinem friseur
bei meiner friseurin
und
ich wusste schon immer dass die
voll auf autos steht
autos ihr wisst ihr kennt mich normalerweise
interessieren mich autos nicht so sehr
aber nur weil sarix gerade
schreibt
das muss ich jetzt einfach erzählen
und irgendwie sind wir drauf gekommen
dass sie ihr auto quasi in folie eingepackt hat
car wrapping
folieren mit spezial folie
und sowas
ne normalerweise ist der
uvp 40.000 euro
also das ist ein elektro auto
mit prämie sagen wir mal
mit prämie 31k und ich krieg es für 25k
das ist absolut in ordnung
so zumindest wie gesagt meine friseurin steht total auf autos
und die hat mir dann erzählt
dass sie ihr auto folierend lassen hat
und sowas und ich hab halt auch erzählt
ich hab mir jetzt auch einen neuen fiat gekauft
und da hab ich ihr auch erzählt
als ich den günstiger gekriegt habe
weil vor für auto und so
und irgendwie sind wir dann auch drauf gekommen
25.000 euro und da meint
die zu mir auch
was ist denn bei dir los
25k kannst du hier
einen richtigen dicken amg fahren
ich weiß noch nicht mal
welcher hersteller das ist
ich glaub das ist mercedes oder
ist das mercedes ich glaub schon
ich hab keine ahnung gehabt
kannst du einen richtig dicken amg fahren
also ich will keinen amg fahren
so jetzt hab ich ganz vergessen
Leute ich seh schon das wird heute nichts mehr
wo sind wir stehen geblieben also vm
folgendes
diese vm verwenden wir als gateway nach draußen
für unsere internen
private network vms
als jump house für den admin und ein bisschen monitoring
für die internen kisten
ja
so siehts aus
übrigens diese kisten werde ich zu testzwecken
auch mit ner public ip aufbauen
weil
ich bin noch nicht mit der config sicher bin
sonst sperr ich mich da aus und komm am ende nicht mehr drauf
und sowas wobei gucken wir mal
wir legen jetzt erstmal diese kiste an
ganz ganz simpel also
debian debian 11
faltenstein
komm sehen wir mal
nehmen wir ne 4x
schwachsinn
dualcore ok komm dualcore
intel auch ok
dualcore intel kiste
public ip
4 reich private networks
wollen wir den hier haben
das ist ja das was wir gerade angelegt haben also sprich
es ist ja logisch dass wir für ne vm
die als verbindung dient von aus
nach innen dass diese vm
ein public interface braucht und ein private
interface zu unseren anderen
so
firewall rules
port 22 erlauben
ich könnte übrigens ipv6 anmachen
ist kein ding aber ich hab ipv6 bei mir daheim
am mtl anschluss nicht aktiviert das heißt wird mir gar
nix bringen
so und jetzt eine sache
ich hab keine ahnung welchen ssh
kaki ich hier in benutzung hab ich mach einfach
mal alle an
user data
das ist was wo ich weiß dass das einige leute
verwirrt wo sich viele Leute fragen
wofür ist das denn eigentlich da
dazu muss ich mal kurz was sagen
weil man damit coole sachen machen kann
was viele leute nicht klar ist
man kann hier noch andere sachen machen backups
das lassen wir mal weg
cloudinit korrekt
cloudinit wir machen einmal
also man kann hier zwei sachen machen
man kann entweder cloudinit konfig reinschreiben
das ist jaml
sieht dann zum beispiel so aus
da kann man seinen server initial konfigurieren
lassen also sprich
ich könnte jetzt das da hier nehmen
und da reinkopieren das will ich aber nicht
man kann auch einfach
skripte reinkopieren das geht auch
und das will ich
ich will folgendes skript da reinkopieren
das da
das heißt was das jetzt macht
ist der baut den server auf
ehm
installiert den kram oder bzw
entpackt das image ist es ja wahrscheinlich nur
und dann führt er dieses initiale
skript aus
was das initiale skript macht
fragt ihr euch vielleicht jetzt
gut an der ersten zeile sieht man das ist
ein bash skript
chat 5 hat seets und tags
wer weiß es
wer es zuerst ordentlich
erklärt
tja ich würde sagen der kriegt einen 20 euro hetzer startgutschein
aber das funktioniert ja nicht
der kriegt nen sub gegiftet
und wenn er schon nen sub hat
und wenn er schon nen sub hat darf er sich einen aussuchen
der den sub bekommt
also was macht das seet hier wer weiß es
public ip
beim login nicht anzeigen
ja ne ne ich will wissen was das seet macht
nicht die logische funktion also sprich
was was
was macht das seet genau
long story short
kommentiert die zeile mit print last log
ne machts nicht
seets tells
seets tells
seets tells macht seets tells ungefähr
yes durch no ersetzen
ja das ist gut ja ja
das stimmt schon halbwegs
lokale kopie anlegen ne
also chat mit
ich bin bisher mit keiner antwort zufrieden
deswegen löse ichs mal auf
nur limit xo danke schön für den sub
27 monate massive
massive subscription
ähm
aber barit ich muss sagen
yes durch no ersetzen finde ich nicht schlecht
du kriegst den sub
du kriegst den sub
aber ich sags gleich nochmal
also abo giften
aber verschenken bam
jetzt hab ich einfach 399 an besos
überwiesen von dem er mir dann die hälfte
wieder geben kann
blub danke wubblors
für den gifted sub
an barit
ja
also was
was ich gerne gehört hätte
also was ich gerne von einem meiner azubis gehört hätte
hätte ich ihn gefragt
das ist ein set was in place
die datei editiert
das ist nämlich grad das interessante an der stelle
ein set was in place
die datei edit css hss hd
konfig editiert also sprich
der liest nicht die datei ein
und packt das standard out raus sondern in place
also sprich der änderts in der datei
und was er macht ist der macht nen search
und replace und zwar der replaced
das ist der searched nach dieser zeile
beziehungsweise nach diesem text
und replaced ihn mit diesem text
also er sucht nach dem hier
also nach auskommentiert also raute
print last log yes
und ersetzt es mit print last log no
und danach startet der ssh neu
was das macht ist folgendes
er zeigt beim login
meine ip nicht mehr an
was gut ist weil sonst wieder irgendwelche
krassen china chinesen
dedos botnets hackermans kommen
und meinen armen voter von dsl
anschluss überlasten
so sind
sie halt
und an solche leute kann ich wirklich
plus sagen piss dich aldo
sowas gehört sich net ok also wie
wir den server nennen wir den irgendwie jump host
oder so oder gewinnt
einfach gewinnt
alles klar so sind voll eingestellt
wir haben die firewall rules drin public
interface private interface
firewall rules dran
müsste eigentlich
müsste eigentlich so passen ok create
habe ich den standard ausgewählt
ja faltenstein wunderbar
ok server
wird angelegt
private ip hat er bekommen
1 2 1 6 8 10
2 das ist jetzt so ein bisschen
hetsner eigenheit das muss man wissen
die 1 ist immer reserviert
das ist quasi so der hetsner
gateway den man aber nicht benutzen kann
den die intern brauchen für irgendwie
ihr layer 3
routing switching gedöns
keine ahnung was die genau
machen aber die haben da
5 head hrq netzwerk
setup am start deswegen bin ich mir auch genau
wegen diesem kram bin ich mir nicht so sicher
wie ich es richtig konfigurieren muss
dass das hier mit
nat nach außen funktioniert
das ist bestimmt nicht so einfach aber vielleicht haben wir
glück und haben irgendwelche hetsner kenner hier im chat
die mir helfen können dabei dann
was kann
man machen wenn der gut
haben code bei hetsner nicht funktioniert
tja
nix
der gut haben code funktioniert anscheinend nicht
vielleicht soll ich vielleicht soll ich
reinschreiben funktioniert nicht ja ich
ich also ich habe
ich habe einen neuen gutschein code bekommen
der neue gutschein code funktioniert aber nicht
so
also im prinzip
also im prinzip
schreibe ich jetzt einfach rein
geht gerade
nicht
alert
so
geht gerade nicht hier
ist gerade ist gerade kaputt
ich weiß nicht warum ich kann aber nichts dran
ändern ich habe den code genommen den den
sie mir geschickt hat per mail
max 22 ist nicht
der alte max
21 ist der alte
max 22 ist der neue
man weiß es nicht keine ahnung
es ist falsche auch noch
ich habe keine ahnung warum
da nicht geht
ich werde das am montag mal fragen
aber ich werde garantiert
keinen support call aufmachen
zumal die da eh nichts machen können
dran
ok also
unser gateway server ist hochgefahren also
die kiste da ja
prior 1 ticket genau jetzt können wir uns
darauf einloggen und jetzt schauen wir mal ob
das alles funktioniert hat wie ich mir das vorgestellt
habe und dann zeige ich euch
mal ein paar high iq
ssh hex
naja
hex ist jetzt übertrieben
ssh tricks
die wahrscheinlich
paar kennen aber wahrscheinlich auch viele nicht
also wir verbinden uns erstmal da drauf
auf die kiste yes
und jetzt gucken wir mal kurz
etc ssh sshd
config grab
print
print last
log no
systemctl status sshd
ist auch neu gestartet
wobei der server gerade neu gebootet
ok wunderbar also
abt
ja das
auch aber nicht in der sshd konfig sondern in der
lokal
also das erste ist wir machen erstmal ein update
das würde ich übrigens
normalerweise alles über ein config management tool
machen also terraform
mit cloud init oder über ansible oder sowas
aber wir machen das jetzt mal von hand
upgrade yes
das ist das was ihr standardmäßig auf jeder
kiste die ihr euch
anlegt erstmal machen könnt
update oder yum
oder dnf oder was ist
es bei rocky linux ne rocky linux
ist das neue centos oder
dann ist es da auch dnf
oder yum
was soll ich machen
ich bin kein wir haben zwar auf der arbeit
zum größten teil redhat aber ich bin kein riesen
redhat fan wenn wir glück haben
haben wir bald flächendeckend ubuntu bei uns auf der
arbeit auf vielen kisten haben wir schon
und wenn es noch auf die anderen kommt bin ich glücklich
passt
ja gut
die IBM großrechner
mainframe dinger werden wir nicht los
die werden wahrscheinlich nicht mit
ubuntu laufen
also
immer erstmal
update update update
normalerweise würde ich auch
firewall einschalten aber
brauchen wir nicht weil wir haben hier
guck da
wir haben hier die standard firewall
rule dass man von außen nur per ssh drauf kommt
meinung zu open shift um dort container
zu betreiben kann ich nichts zu sagen ich habe
mit open shift noch nichts gemacht
ist die
telecom cloud
oh sorry oh nein
streichen streichen habe ich
nicht gesagt
heute nicht
ich weiß nur dass die hetzer cloud nicht
open shift ist
vermutlich war
also erstmal update update
machen und
ich installiere mir immer noch
ganz gerne ein paar standard sachen ich installiere mir gerne
t-marks d-stat
git braucht man auch meistens das lassen wir jetzt aber mal
weg und
einen ordentlichen wim
dass wir einen ordentlichen editor haben dass wir nicht auf was drauf machen
kann
kann man alles über seinen config managment machen dass man das nicht
jedes mal von hand machen muss
gut
chat nano
versus das müssen wir mal kurz machen
umfrage
umfrage
moment
wim versus nano
wim nano
zusätzliche abstimmung
zulassen
können die leute mal ihre kekse ausgeben
wim maus
das erste was ich mache ist wim maus
off also wim maus gleich
direkt ausschalten
soll ich noch einen anderen editor aufnehmen
wim versus nano versus
ich meine
wishlist studio code geht nicht wirklich das ist kein
über ssh remote editor
e-max
also wer heute noch e-max nutzt
weiß ich nicht ich habe e-max früher
gerne benutzt aber zu zeiten von
wishlist studio code und einfache erweiterbarkeit
über javascript werde ich mir
kein e-max lisp
ich habe das richtige
für euch noch als vierte antwort
möglichkeit also
umfrage beginnen eine minute zeit
alles bloatet
ich sage das ergebnis
am ende ja du müsstest
zumindest sehen wobei du siehst doch jetzt auch gerade
eingeblendet im stream
was abgestimmt wird
der vi der vorhin zählt es ist doch auch
ein wim nur dass das das im
kompatibilitätsmodus ist
ja ich weiß awk
only leute
e-max will keiner ich bin begeistert
leute
ich finde e-max die
leiten sind wirklich vorbei
ok also
so wie es ausschaut ist nano
tatsächlich das hätte ich nicht gedacht
chat was ist mit euch los
ich dachte wir haben hier nur die nur die hardcore
hacker mans am start
also ich habe es mir
ehrlich gesagt schon gedacht
nano ist halt was einsteiger
freundlich an einsteiger
freundlichkeit angeht der
von den defaulteditoren der beste
nano kann jeder verwenden der
ein editor verwendet hat
ist dann schon wieder das problem fuck ich komme
nicht mehr raus
und ich brauche ein zweites login um kill
kill wim zu machen
2 benutzen e-max
ok wie gesagt habe ich früher gemacht
da hat einer ein bisschen
channel points reingebuttert
zumindest ich persönlich
bin ja wim fan was das angeht
für terminal editieren das erste
was ich mache ist wim installieren bzw
textartell mit wim aufzumachen
manche sagen es ist alles bloated
die machen wahrscheinlich awk und
echo only
aber jetzt müssen wir mal ein bisschen zu portal kommen sonst wird das ganze nichts
also wo sind wir stehen geblieben
wir haben update gemacht
wir haben kernel update gemacht deswegen reboote ich jetzt mal
du du du du
auf
reboot
reboot
da sind wir und kein ip leak
pog
alles klar da können wir anfangen
also was wir machen wollen ist
wir wollen über diesen host
also wir sind der admin
und wollen über diesen host jumpen auf
eine interne vm
das heißt wir brauchen als erste mal zusätzlich
noch eine interne eine rein
interne vm weil aktuell haben wir nur den
gateway
also add server
fügen wir hier mal ein debian system hinzu was weiß ich
falkenstein
eine cpu reicht
keine public ip nur interne
ip
um und kann ich gleich was zu sagen
user data user data
machen wir wieder genau den gleichen krempel
rein man weiß man weiß ja nie
es ist
ich weiß nicht welche ich gerade verwende
und das ist ab server eins
so create
so
warten wir mal bis das erstellt ist da kann ich was zum chat sagen
wo du system
ctl start ssd gemacht hast du
oh nein monkaS
naja hoffen wir mal
hoffen wir mal
passiert nix
traffic
was wollte
um und wissen
wäre für dein vorhaben traffic oder wie das
heißt nicht besser für welches
für was für ein vorhaben für welches
welches vorhaben davon also
also was davon
was davon wo da da
hier
haben wir auch schon gemacht im stream wir haben auch schon einen eigenen
hardtp load balancer
mit traffic keyboard und its encrypt
aber nachdem das heute ein
ich hab auch unabhängig war von sponsoring
die headset load balancer auch schon öfters
verwendet auch hier im stream aber
wir können ja heute mal die funktionen
schön zeigen was es alles so gibt
du du du du
du du du du
du du du
du du du du
du du du du
du du du du
du du du du du
wenn ich zu faul bin
für VPN
also
so die kiste ist da und wir sehen
der server hat keine public ip
nur eine private
also sprich unser gateway hat
eine public ip da sind wir krat hier drauf
das da ist unser gateway
und unser server
entlassen also
der sword
Es hat nur eine Private IP, so eine Sache die nicht funktioniert logischerweise ist
jetzt ja das da, kann ja nicht funktionieren, weil ich erstmal übers Internet muss, zu Hetzer
in mein privates Netz dort und nicht bei mir daheim, na das kann ja schonmal nicht funktionieren.
Und jetzt passt mal auf Trick 17, SSH minus J root at Darstar, yes, ha, 5 head, schon
sind wir auf dem Saffer drauf, passt mal auf ich erklär euch jetzt auch wie das funktioniert
hat, SSH, also SSH kann sehr viel Magic, also SSH hat, also es gibt eigentlich fast nichts
was SSH nicht kann, das einzige was SSH wirklich gar nicht gescheit kann ist UDP Traffic weiterleiten,
aber alles andere kann SSH wirklich gut, so was das macht ist folgendes, Jump Host, wobei
ich mir gar nicht mal sicher bin ob SSH minus J für Jump Host überhaupt steht, Destination
ja, wahrscheinlich für Jump, Connected Target Host, also was der macht ist folgendes, der
connectet sich darauf und von darauf dann zu dem internen Netz, allerdings so einfach ist
es nicht, der nimmt auch deine SSH Authentifizierung mit, also sprich du brauchst hier nicht deinen
Private Key zu deployen, dass du dich mit deinem Private Key hier anmelden kannst, also
die Authentifizierung schleift ja quasi auch durch, wie oft man das verketten kann, ich
glaube nahezu beliebig, aber da müsst ihr zugeben das ist natürlich schon nice, also
es hat was, zumbei jetzt wir können jetzt beispielsweise auf ein internes System zugreifen,
obwohl wir nicht intern drauf sind, das ist cool, man kann das ganze auch in seine lokale
SSH Konfig schreiben, dann muss man das hier gar nicht mehr angeben, ist das nicht eine
Sicherheitslücke, ne ich brauch hier immer noch mein Private Key bei mir, ich kann mich
jetzt nicht einfach einloggen, ich hab es nicht ausprobiert wie oft man das verketten
kann, aber theoretisch beliebig oft, zumindest das ist auf jeden Fall eine sehr coole Geschichte,
kann ich euch auch nur ans Herz legen das mal ein bisschen im Hinterkopf zu behalten
wenn man solche Fälle hat, also sprich, wenn ihr auf einen Host wollt per SSH, aber nicht
direkt drauf kommt, sondern nur mit dem Zwischenschritt über einen anderen Host, dann gebt ihr einfach
Minus J diesen Host hier an und dann das andere und dann funktioniert's, das ist quasi VPN
light, richtig, es ist kein VPN in der Form, dass du auf Netzwerkebene quasi ein eigenes
Netz hättest, wo alles getunnelt wird, UDP Traffic, TCP Traffic, ICMP, also ist es nicht,
es ist halt im Prinzip alles nur über SSH, aber es ist VPN light, so kann man das schon
nennen, so und jetzt zeige ich euch nochmal einen coolen Trick, wobei ich da überlegen
muss wie das funktioniert, aber den hier, chat mal eine Frage an euch, wie viele kannten
das hier von euch, schreibt einfach irgendwas in plus oder keine Ahnung in chat, ich gehe
davon aus, dass kannten einige, aber das nächste was ich euch zeige, kennen wahrscheinlich
noch weniger, ja für Ansible getunnelt und sowas ist ja auch gut, irgendjemand hat geschrieben,
er macht immer, wann braucht man das, hab ich auch grad gesagt, wenn du auf diesen Server
willst und nur auf diesen Server über diesen Server kommst, so aber jetzt zeige ich euch
mal, Next Level High IQ Shit, damit ich das machen kann, muss ich mal einen Webserver starten
auf der Kiste hier, machen wir mal irgendwie einen, Abinstall Prometheus Exporter oder so,
was Prometheus Exporter, Exporter, ja meinetwegen auch gut, hat er das jetzt gestartet, Netstat
minus Prometheus Port, also curl localhosts 9000 slash metrics ist es glaube ich, ja genau,
also wenn ich das hier aufrufen will Leute, dann funktioniert hier irgendwas nicht richtig,
also nee Schwachsinn, das funktioniert ja nicht, also ich kann meine, ich kann diese
Website hier nicht von außen aufmachen und jetzt pass mal auf und ich zeige es euch mal,
das ist zwar ein Server mit Public IP, aber ich habe hier in der Firewall alles geplockt,
was, was geht, ja, das würde funktionieren, ja, ja Chat, der Chat ist schlau, das würde
funktionieren, man könnte, man könnte Port fordern, aber das will ich nicht, ich will
kein Port weiterleiten, was ich nämlich machen will, wir machen es anders Chat, wir machen
es noch anders, wir machen es noch anders, wir verbinden uns jetzt hier drauf auf die
interne Kiste, ach fuck, ich kann ja da nichts installieren, weil es nur eine interne IP
hat, ist da Python drauf, ok, Python 3, SimpleHTTP, ich brauche irgendeinen Webserver, wie geht
das nochmal, hier One Liner, wie war denn das, wie ging das nochmal, SimpleHTTP, hier, genau,
MKDier, Keckl, Vimindex.html, ihh, ok, Chat, weil ihr es seid, Index, null, so und jetzt
starten wir das hier, also es läuft jetzt auf intern, intern, auf 1.2.1.10, ups, 10.3,
Port 8000, läuft ein Webserver, der eine Webseite hat, in der null drinne steht, so, da sind
wir uns jetzt ja glaube ich alle einig, dass ich dort von außen nicht dran komme, keine
Chance, ich komme noch per SSH dran, über den Umweg, so und jetzt, jetzt kommt's, passt
mal auf, was ihr machen könnt ist folgendes, ehh, ehh, genau, ich wusste, ich musste kurz
überlegen, ihr macht SSH minus D und dann denkt ihr euch irgendeinen Port aus, Port
1.337, ehh, und keine Ahnung, macht noch Compression an, so und wisst ihr was jetzt
passiert ist, minus D für Dick, woher war mir nur klar, woher war mir nur klar, dass
das jetzt kommen wird, ja, so und wisst ihr was jetzt passiert ist, wisst ihr was jetzt
passiert ist, Chrome, zeig's euch, Settings, ehh, kann man in Chrome keine Proxy Settings
mal machen, wo sind denn die Proxy Settings in Chrome Leute, Settings, Proxy, ich hab,
das geht auf jeden Fall, ok, dann Command Line, dann Command Line, Chromium Browser, Chromium
repeat, paste mir das, aus dem Wiki von der Arbeit gerade nebenbei, da hab ich das nämlich
letztens hingeschrieben, so, minus, minus Proxy Server, Port 1.337, so und jetzt, passt
mal auf, mal gucken ob das mit Proxy Server funktioniert, 192.168.10.3.9000, 8000, 8000,
da sind wir, guck mal, über SSH Proxy Server getunnelt, das ist doch mal was, das ist
doch mal wirklich praktisch, das heißt, auf dieser Kiste hier unten, guck dir, auf dieser
Kiste hier unten kommen meine Anfragen an, also sprich, ich hab jetzt SSH auf meinen Jump
Post und dort hab ich, also ich hab bei mir lokal ein Proxy aufgemacht, über den alles
getunnelt wird auf den Jump Post und dort dann eben lokale Routing Informationen benutzen
wird, um da drauf zuzugreifen, was man auch sieht, die Anfrage kommt hier von, von dem
da.
Das ist eine coole Funktion, oder?
So, und jetzt Frage an den Chat, wer von euch kannte das schon?
Was, dass man SSH mit einem Socks Proxy seine Sachen weiterleiten kann?
Ok, der Chat ist einfach viel zu high IQ, das wissen die alle schon.
Mittlerweile echt komplett abgehobene IQ hier im Chat, so, wir haben uns jetzt ein bisschen
sidetracken lassen, das war jetzt nicht wirklich das, was wir machen mussten, aber ich glaube,
man hat zumindest ein bisschen was beigelernt.
Ja, du kannst natürlich auch SSH Port-Weiterleitung von Hand machen, aber der Vorteil von so einem
Proxy ist, stelle ich mal vor, du hast mehr als einen Abserver, du hast 10 Abserver und
willst dann mit dem Browser beispielsweise drauf, auf alle unter, da müsstest du jedes
Mal neue Port weiterleiten, also das mit dem Socks Proxy ist schon wirklich enorm praktisch.
So, also, weiter im Text, wann updatest du die E3-Config, ich glaube, da gibt es nicht
viel zu updaten, ich glaube, das ist mehr oder weniger schon alles drinne.
So, nachdem das heute ein Sponsor-Stream ist, zeige ich euch ja noch ein cooles Feature
von den Heads to Load Balancern, weil ich mir nicht sicher bin, ob das später funktioniert,
zeige ich euch jetzt, dass ich wenigstens alibi-mäßig sagen kann, guckt mal da, ich
habe es gezeigt.
Ne, also wir haben, muss ich auch sagen, wir haben im Vorfeld hier nichts großartig vereinbart
für den Streamer, ich habe jetzt nicht irgendwie 10 Punkte, die ich unbedingt zeigen muss.
So, Aufhänger der ganzen Sache heute, das kann ich ja erzählen, das ist ja nichts Geheimes,
war beispielsweise, war diese, leckt mein Stream, Leute, hat der Stream gerade geleckt.
Oje, Vodafone, was jetzt, oh ne, die Schiener, die Schiener dennoch sind am Start, die Schiener,
die Schiener, die Schiener in Botnet dennoch sind wieder am Start, Alter.
Ja, was willst du machen, ja, kannst du, ich muss mal meine Klimaanlage anmachen, im Zweifelsfall
resette ich das Modem halt.
So, ne, ja, ich weiß auch nicht, die Leute, ich weiß nicht so klar, die Leute können
das immer nicht lassen, aber was willst du machen, ähm, ich überlege gerade, was wir,
was wir weitermachen.
Mitloggen tue ich das eh ab, das ist sicher, ne, das wäre einfach schon Selbstsabotage.
Ich zeige euch mal was anderes, und zwar, die, die Hetzer Loadbalancer, weil das wirklich,
das wirklich ganz praktisch ist, ähm, soll ich das jetzt zeigen oder soll ich das später
zeigen?
Ich zeige das, ich zeige das jetzt, ich zeige das jetzt, also ich habe hier auf einem internen
Server jetzt, ähm, die Webseite laufen, wo nur LUL zurückkommt.
Seht ihr ja hier, ne, ähm, der ist natürlich nicht aus dem Internet erreichbar, das heißt,
ich könnte jetzt hier einen Loadbalancer von Hetzer da vorstellen, das mache ich jetzt
mal, äh, Create Loadbalancer, Private Network, da kann man jetzt sagen, okay, hier, welchen
Server der verwenden soll, Cloud Server, den App Server soll er verwenden, Private IP und
das ganze, äh, natürlich HTTPS, wir wollen ja Zertifikate haben, Add Zertifikate, oh,
CACW as a Service is expired Leute, was ist denn da los, will ein Zertifikat haben, CACW.Services,
bitteschön, so, www, www, CACW.Services, das kann ich hier drüber machen, weil, äh,
ich hab das über den Hetzer DNS laufen, äh, so, www, egal, wer ist das hier, CACW,
Add Zertifikat, müssen wir kurz warten, bis das durch ist, du, du, du, du, du, du, du,
das geht jetzt über Let's Encrypt, das dauert jetzt kurz, vielleicht macht er auch im Hintergrund
weiter, genau, so, jetzt fügt er ein Zertifikat hinzu, ich kann jetzt sagen Source Port, ich
will Loadbalancen auf Port 8000, auf Port 8000 läuft meine Webseite, wo 0 drauf steht,
ähm, er legt das Zertifikat an, so, und das wars eigentlich, so, Zertifikat ist erstellt,
zack, zack, zack, angelegt und Create, so, und was ihr jetzt machen könnt ist, geht mal
auf diese IP drauf, Port, äh, HTTPS auf diese IP hier, Leute, dann solltet ihr die Webseite
mit 0 bekommen, 16, also HTTPS, 167, 235, 108, 176, mit HTTPS davor, dann solltet ihr
die Webseite bekommen, wenn das alles funktioniert, wir können gucken, ob es funktioniert, Targets,
unknown, warum, die Webseite läuft nur auf einem Server, wie macht der da das Loadbalancen,
alles auf einen, äh, der hat noch nicht erkannt, dass der Webserver ab ist, ah, ne, doch funktioniert,
alles gut, tut, Leute, funktioniert, die Leute sind schon am Spammen wie verrückt,
ne, man sieht nur die IP vom Loadbalancer, nicht die IP von den Leuten, alle wie verrückt
am Spammen hier, das Zertifikat ist aber ungültig, warum, warum ist das ungültig, ah, ich hab
noch keine DNS Auflösung gemacht, ich, ich kacke nur, jaja, Moment, ich hab das wichtigste,
das wichtigste hab ich vergessen, äh, ich muss noch DNS machen, DNS, ähm, ich muss
noch DNS machen, ganz vergessen, IP Adresse, ne, Moment, kann ich nicht den LB auswählen,
okay, äh, WWW, ich glaub, jetzt passts, oder, ja, jetzt, jetzt passts, äh, gucken wir mal,
ob die Namensauflösung funktioniert, ping, www.caqw.services, hey, funktioniert, alles
klar, copy, lull, also funktioniert, sprich, wir haben jetzt relativ easy, quasi mit zwei
Klicks, ein Loadbalancer angelegt, wo wir jetzt auf beliebig viele, äh, beliebig viele
nicht, aber sagen wir mal, auf drei Applikationsserver im Hintergrund, äh, unsere Last verteilen
könnten, man sieht hier übrigens auch relativ, äh, gute Statistiken, wobei ich das wahrscheinlich
in eigenes Monitoring packen würde, wenn überhaupt, Max, streamst du auch von der Gamescom aus?
Nö, also mit DNS funktioniert's, ist alles, ist alles gut, ne, paar Leute sind hier am
spammen, wie man, wie man hier auch schön sieht, und der Webserver ist auch ganz gut
beschäftigt, war jetzt relativ einfach, natürlich kosten die Loadbalancer einen Ticken mehr,
als einfach nur Server hinzustellen, man macht das selbst, aber es ist halt ziemlich
easy, ich wollte euch das jetzt bloß an der Stelle nochmal zeigen, weil ich das für ein
super Feature halte, ich verwende das auch an einigen Stellen, und wir haben das auch
im Stream schon an einigen Stellen verwendet, aber ich weiß nicht, ob ich das mit meinem
Setup nachher hinkrieg, müssen wir mal schauen, nur dass, nur dass ihr es mal gesehen habt,
also ihr könntet jetzt beispielsweise hier noch drei Server dazustellen, und dann würdet
ihr die in den Loadbalancer nehmen, und alle würden unter der gleichen Public IP mit der
Domain und dem gültigen Zertifikat Last verteilt werden auf die drei Server dahinten.
Mit was sie das unter der Haube machen, weiß ich gar nicht, ich vermute mal, es ist ein
Engine X, ich weiß es aber nicht, könnte alles möglich sein, ich habe keine Ahnung,
wie das, wie die das machen, kein Schimmer, gut, so, ich lösche das Ding jetzt übrigens
wieder, und mache hier unten das aus, Waxcom Halle 8, ich habe gehört, Gamescom ist dieses
Jahr gar nicht so geil, weil irgendwie relativ viele große Hersteller fehlen, ja, ich überlege
jetzt gerade, wie wir, wie wir weitermachen, genau, wir versuchen das jetzt einfach mal
einzurichten, ich bin mir nicht ganz sicher, ob wir es gebacken bekommen, wie gesagt, also
das hier haben wir ausprobiert, das funktioniert ohne Probleme, wir müssen jetzt ja irgendwie
gucken, dass, also, es funktioniert eigentlich alles, Loadbalancer funktioniert, interne
VMs funktionieren, wir haben zwar nur eine, aber das geht mit drei genauso, Jump Hosts
auf die Kisten funktioniert auch, alles gut, einzige was nicht funktioniert ist, guckt
mal, wenn ich hier auf einen dieser, dieser Absorber gehe und sage hier, und das einfach
ping 8.8.8, dann funktioniert das nicht, warum funktioniert das nicht, ja, weil der Server,
wie ihr hier seht, der hat ja nur eine interne IP, das heißt, wir müssen jetzt mal gucken,
ob wir es irgendwie gebacken kriegen, ob wir es irgendwie gebacken kriegen, dass dieser
Server die Public IP von diesem Gateway verwendet, was man sieht, eine Schlägerei zwischen Tanzverbot
und, mein Gott, was geht denn da schon wieder auf der Gamescom ab, das gucke ich mir nicht
hier im Stream an, aber, meine Güte, eigentlich waren die auf der Gamescom alle immer super
friedlich, aber gut, mittlerweile ist auch so viel Assi-Streamer Zeug am Start und dementsprechend
die passenden Zuschauer dazu, da wundert mich echt alles nichts, das war gestern, okay,
ich verfolge das nicht, Gamescom dieses Jahr juckt mich überhaupt nicht, es ist mir alles
wurscht, mich juckt jetzt ehrlich gesagt viel mehr, wie ich beispielsweise das umbiegen
kann, dass der hier rüber rausgeht, also normalerweise wäre das relativ einfach, normalerweise würde
ich sagen, was hier nicht geht, das weiß ich, normalerweise würde ich hier IP Forwarding
einschalten, ich schreibe das jetzt nur mal stellvertretend hin, weil das muss ich an
der Stelle noch nicht machen, normalerweise würde ich hier IP Forwarding einschalten und
nut konfigurieren mit irgendwie 2, 3 IP Tables befehlen und dann würde ich sagen, root add
default gw 192.168.10.2, weil das ist der hier oben, aber ich wette mit euch, das wird
nicht funktionieren, normalerweise würde man das so machen, aber ich gehe davon aus,
dass das mit dem, mit dem, mit dem Hetzer Netzwerksetup so nicht funktionieren wird.
Chat, ich muss mir jetzt auch mal das Video angucken, aber ich gucke mir das Video nicht
im Stream an, wer weiß was man da alles sieht, ich will hier keine, alter was da teilweise
für Lauchs rumstehen, oh man, alter, mein Gott, die haben Probleme, das ist doch nicht
normal, jetzt knoppen sich fast alle gleich, da sind ja sogar die Mädels dabei, da knoppen
sich ja sogar die Mädels, oh man, alter, was ist auf der Gamescom los, da fehlt jetzt
bloß noch, dass irgendwie der, wie hieß das, von den Killerspielen früher der Typ kommt
und sagt, diese Eskalation auf der Gamescom ist den Killerspielen zuzuschreiben oder
irgendwie sowas, das hätte jetzt noch gefehlt, meine Güte, was, Leute ich sag euch ganz
ehrlich, wie es ist, wie es ist, wie es ist, ich bin jetzt 38, ja, mir könnte YouTuber
und Streamer Beef auf der Gamescom nicht egaler sein, ist echt so, ich finde das vielleicht
mal ganz erheiternd jetzt, weil ihr mir das geschickt habt, ja, aber es könnte mir echt
nichts egaler sein, ich kenne den, wer ist der andere denn überhaupt, Tanzverbot kenne
ich ja, aber den anderen, keine Ahnung, so Chat, Chat, wir müssen weitermachen, sonst
wird das heute nichts mehr, welche Basis hat die Hetzner Cloud, offiziell keine Ahnung,
ich hab das nie von jemand erfahren, ich kann aber mal raten und ich denke, ich lieg da
gar nicht so falsch, ich denk mal KVM für Linux, also ich bin da beim Fips, ich denke
mal KVM, wissen tue ichs nicht, keine Ahnung, ok, also FireFedTime Leute, nein, nein, hier
keine, keine, command bra Emotes, da hab ich noch auf Control B gebunden hier, command
bra, darf man das Emote überhaupt noch verwenden oder ist das mittlerweile, weil tryhard darf
man ja auch nicht mehr benutzen, das ist schon grenzwertig alles, nee Hyper-V wirds nicht
sein, glaube ich nicht, ich glaube nicht, dass die allen Ernstes Linux mit Hyper-V,
dass die Linux mit Hyper-V irgendwie virtualisieren, das kann ich mir nicht vorstellen, ich geh
davon aus, das ist KVM, das kriegen wir wahrscheinlich sogar raus, wird, wird, ne warte mal, wie ist
das, abinstall, wird, wat, pass mal auf wir können gucken was es ist, wird, wat, KVM easy,
es ist KVM Basis, easy, easy, easy, easy, was ist das für ein Programm, das ist irgendein
Skript, das Mac Adressen glaube ich abfragt oder so, wird, wat, guckt CPU Info fragt der
ab und zeug, was ist es, ja, Proxmox ist nicht die Virtualisierung Software, Proxmox ist auch
KVM, Proxmox ist ja im Prinzip eigentlich nur so die Zusammenstellung und das Web Interface,
Proxmox ist auch KVM oder alternativ kann es da mittlerweile auch LXD Container laufen
lassen, aber die VMs sind KVM, es hätte mich ehrlich gesagt auch sehr gewundert wenn es
irgendwas anderes gewesen wäre eben als KVM, so jetzt muss ich mal kurz in meinen Spickzettel
gucken ob ich vorher noch irgendwas zeigen muss, ja ich habe mir die Netzwerkkonfiguration
wie es theoretisch geht habe ich mir aufgeschrieben, nämlich so, steht nämlich hier wie man Netzwerkkonfig
macht, ja, achja eine Sache wollte ich euch noch zeigen, habe ich vorhin ganz vergessen,
weil es hat jemand im Chat gefragt kann man das ganze auch per Kommandozeile machen, ja
selbstverständlich du kannst das alles per Kommandozeile machen, du kannst das auch per
Cable, per Terraform, per Pulumi oder anderen Sachen machen, aber wenn es dir nach Kommandozeile
gelüstet, wenn du das ganze gerne über CLI machen willst gibt es auch, da gibt es das
hier Hcloud, da kannst du auch sowas machen wie Hcloud Server List, da siehst du zum Beispiel
aha es gibt die Kiste hier Public IP, es gibt die Kiste hier intern und wir haben sogar
letztens ein Alias gebaut für das Hetzner Cloud Tool und zwar wo du so ein Selektor
hast worauf du dich verbinden willst, Bäm SSH verbunden, ist das nicht praktisch, guck
hier zack kriegst du eine Auswahl was du für VMs dort laufen hast und dann kannst du sagen
aha darauf will ich mich verbinden, bumm bis drauf, da musst du gar keine IPs mehr wissen,
das ist praktisch, du musst dazugeben, man könnte das ganze jetzt natürlich noch erweitern,
weil wir müssen ja über unseren Jump Host und das funktioniert hier noch nicht drinne,
es funktioniert aktuell plus Server mit Public IPs, also sprich wenn ich jetzt hier mein
SSH Skript aufrufe, wie lange ist der Streamer wo du das gebaut hast, das ist eine Zeile,
das ist einer der letzten Streams gewesen wo wir sowas gemacht haben, wenn ich jetzt beispielsweise
das hier nehme, ja dann geht das nicht, weil der hat keine Public IP, man könnte das natürlich
filtern, ja man könnte hier, weiß nicht ob wir das jetzt machen sollen, aber man könnte
natürlich hier gucken, er crept sich ja das hier raus, man könnte zum Beispiel hier gucken,
ist das ein Minus, wenn das ein Minus ist dann guck in das nächste Feld rein und in
das nächste Feld machst du dann eben SSH, okay Chet ihr dürft euch aussuchen, wollen
wir kurz das SSH Minus P, Minus P für was, du meinst bei Serverlist, ne, wo, da, ne,
wo Minus P, weird champ, SSH Port, ne der SSH Port bringt mir nix, warum Minus P, was
macht Minus P überhaupt, Minus P gibt es überhaupt nicht, es gibt überhaupt nicht
Minus P, du meinst, du meinst Port Minus Klein P oder was, aber wozu, was, was, was
bringt's, mach Minus, ich mach, ich mach das hier dann, ja man muss das, man muss das ja
erkennen, also sprich wir könnten, wir könnten an der Stelle jetzt sagen, okay Serverlist,
bla bla bla, da müssen wir jetzt halt, müssen wir halt hier irgendwie den, da müssen wir
jetzt halt hier irgendwie den IF einbauen, also sprich, okay mal gucken, mal gucken ob
ich das, ob ich das schnell gescriptet kriege, zeig mal her, also das hier ist, ja Target,
Target mal hoffen ob, mal gucken ob das, ob das funktioniert was ich jetzt baue, Echo
Dollar Target, so und jetzt müssen wir gucken, IF, Bash, Bash Magic Leute, aus dem Kopf,
das wird was sag ich euch, IF Target, Test, IF Test Target gleich Minus, wenn, wie, aller
Bashs, das ist teilweise echt eklig, so und wenn das, wenn da ein Minus drin ist, dann
will ich das machen mit dem Jump Host und zwar add, ach du Scheiße, Funke jetzt, boah
da hab ich jetzt echt keinen Bock drauf, ich müsste, müsste das ganze nochmal machen,
raussuchen an der Stelle, boah nee, ich hab grad keine Ahnung, wie man das, wie man das
gescheit macht, ich lass das jetzt weg, das war vielleicht, das war vielleicht als Bonus
hinten drauf noch, dass man sich ordentlich verbinden kann per Jump Host, das muss aktuell
so reichen, so geht halt nur auf Public App, please, Dani 038 Monat, Dankeschön Massive
High Accused Subscription, ich, wir probieren jetzt erstmal was anderes, Regex Gruppen,
Zed kann keine Regex Gruppen, Crabb kann auch keine Regex Gruppen, wobei Zed weiß
ich gar nicht, also Crabb kann keine Regex Gruppen und Zed kann auch keine Regex Gruppen,
man müsste, man müsste es theoretisch, sich die Zeile rausholen, also von der Idee her
müsste man es folgendermaßen machen, man müsste sich die Zeile rausholen, zuerst so,
quasi so, müsste man sich die Zeile rausholen, dann müsste man, ich hab keine Ahnung, List,
so dann müsste man gucken, ist dort drinnen, ist das ein Minus, so dann müsste man jetzt
gucken, if, nur von der Idee her, ich werd jetzt nicht wirklich gucken, dass es funktioniert,
if Target ist das ein Minus, wenn das ein Minus ist, dann machen wir den Jump Host,
we first try ganz bestimmt, dann machen wir den, dann machen wir den, dann machen wir
das gleiche nochmal, allerdings dann nehmen wir ein Feld weiter hinten, so mit 5 und ansonsten
else falls es überhaupt so geht, else machen wir dann das und zwar hier Target, wobei das
so garantiert nicht syntaktisch richtig ist, weil es ist Bash, mit Cut ist das gar nicht
so einfach, die Dinger sind mit unterschiedlich vielen Lehrzeichen getrennt, muss es nicht
7 sein, können wir mal kurz gucken, tatsächlich es muss 7 sein, ihr habt Recht, 6 müsste es
sein, ja so müsste es von der Idee her ungefähr ausschauen, keine Ahnung, ok das funktioniert
noch, ok, so falsch sieht es gar nicht mehr aus Leute, so falsch ist es gar nicht mehr,
so geht der Netz, also das funktioniert alles, das Echo funktioniert, das hier funktioniert
nicht, es muss ja auch nicht doppelt sein, das hier funktioniert nicht richtig, wir haben
es wirklich, es ist wirklich fast first try gewesen oder, es geht easy, Leute, na das
war es jetzt, guckt jetzt könnt ihr auswählen auf welchen Server ihr euch connecten wollt,
entweder darauf oder darauf und seid direkt per SSH drauf, was ist dieses Menü, das ist
FZF, heißt nennt sich das hier, Github, FZF, das da, hat nur 46.000 Github Sterne und damit
kannst du solche Menüs zur Auswahl machen, jetzt nur mal um euch zu zeigen, dass es auch
wirklich funktioniert, das ist quasi sowas wie RoV plus Terminal, genau, nur mal um euch
jetzt zu zeigen, dass es funktioniert, lege ich jetzt auch mal ne Kiste an, Debian, Falkenstein,
private IP only, private, user data, wo habe ich es hin kopiert, ja, so, alle things, user
data, zack, create, so, jetzt legt ihr das an und jetzt werdet ihr gleich sehen, dass
ich in meiner Auswahl im Terminal, wohin ich mich verbinden will, zwei Dinge habe, also,
haben wir die andere Kiste, jump, hosten, ah die Kiste ist glaube ich noch nicht da,
ich glaube die ist noch nicht aufgebaut, yes, easy, schon sind wir drauf Leute, guck und
schon habe ich relativ einfache Übersicht über die Infrastruktur die ich da habe und
kann mich auch drauf verbinden und wohlgemerkt ich kann mich auf die Server verbinden die
nicht public verfügbar sind, das ist ja grad der Witz da dran, dass das funktioniert,
so, haben wir mal kurz das Skript umgewurstet, das lösche ich jetzt mal wieder, so und jetzt
stehe ich ein bisschen auf dem Schlauch chat, jetzt müsst ihr mir helfen, mal gucken ob
wir das zusammen hinkriegen, weil da weiß ich nicht genau, stell mal das Skript public,
das ist nur nicht mal schön das Skript, das sind die Zeilen hier, du müsstest das aber
noch ein bisschen verbessern, weil hier steht noch hardcoded meine jump host IP drinne und
sowas, das müsste man vielleicht mit einem Tag, du könntest zum Beispiel einen Tag machen
bei deinem Server, das ist der jump host oder so, also schön ist es net, das werde ich
nicht irgendwo hinstellen, das ist nur mal zusammengewurschtet für den Stream, dass
man sieht, dass es im Prinzip funktioniert was ich mir gedacht habe, also wir müssen
jetzt mal gucken ob wir das zusammen auf die Reihe kriegen und zwar folgende Sachen müssen
wir jetzt machen, also dieser Server hier kommt nicht ins Internet, guckt, ping, network
unreachable, dieser Server kommt ins Internet, das heißt, was ich jetzt machen will ist,
dass dieser Server über den da ins Internet kommt, normalerweise müsste ich hier oben
jetzt IP Tables Regeln machen, aber das spare ich mir erstmal, ich muss erstmal den hier
dazu bringen, dass ich überhaupt eine Default Route setzen kann und ich weiß, dass das bei
Hetzner nicht so einfach ist, weil die irgendwelche Layer 3 Routing Switches gedönnt machen,
weil ich zeige euch mal hier die Routing Tabelle, ihr seht hier auch schon, das geht hier alles
Gateway Destination 1, was es eigentlich gar nicht gibt in dem Netz, das ist irgendwas
von Hetzner und anderen Default Gateway kann man nicht so ohne weiteres setzen, also ich
habe mir rausgesucht, wie es theoretisch gehen müsste, nämlich so, manuelle, nee, das hier,
manuelle statische Konfiguration von Netzwerk Interfaces, so das hier ist ETC Network Interfaces
anscheinend, Moment, nee das ist nicht, okay sorry, das ist nicht Network Interfaces, das
ist ETC Network Interfaces 61MyPrivateNetwork.cfg, alles klar, gut, auch okay, die Datei gibt
es noch nicht, und darum soll ich jetzt folgendes reinschreiben, die Sache ist nur die, ich
weiß nicht, was ich da reinschreiben soll, nee, nee, mit einer einfachen Route ist es
nicht getan, also das hier oben ist relativ easy, Private Address of Cloud Server, das
ist einfach, die Private Adresse wissen wir, 192.168.10.3, nee, oder, was, 10.3, Network,
Resources kann man übrigens hier nachgucken, Punkt 3, das ist einfach, Netmask ist schon
mal das erste, was euch verwirren sollte, ihr werdet feststellen, diese Netmask ergibt
relativ wenig Sinn, im Kontext von der Hetzner Netzwerk Konfiguration ergibt das aber doch
Sinn, weil wie gesagt, das ist kein Layer 2, ähm, Geroute und Geswitche, was sie da
machen, das ist irgendwie so eine ganz komische Konfig, damit hatte ich öfters schon mal
wirren, ja, aber zum Glück muss man sich damit in 99% der Fälle halt nicht beschäftigen,
weil es Layer 3 Hostrouten sind, korrekt, Rache Klos, ich weiß, da haben wir schon mal
einen, der sich auskennt, also, ich füll das jetzt mal aus, so, Point 2 Point, was
muss hier rein, ich habe keine Ahnung, muss hier jetzt rein, muss hier jetzt rein, die
Gateway IP oder 10.1, hättest du nicht einfach ein eigenes VX-LAN aufspannen können, keine
Ahnung, das habe ich so da noch nicht gemacht, deswegen sage ich halt, das müssen wir jetzt
zusammen irgendwie, also die Gateway IP soll da rein, also 192.168.10.2 in dem Fall oder
wie oder was oder wo, so, ist das richtig so, also so würdet ihr das machen, ja, also
das hier kommentiere ich mal aus, übrigens, ups, übrigens die Einrückungen sollten eigentlich,
oh nee, Wim, Alter, Säck, Ahnung, ich kann ja kein Wim nachinstallieren, aber ein bisschen
Eindrücken brauche ich trotzdem, sonst erkennt man ja nichts, ups, ah, was habe ich denn
gemacht, so, Auto, passt, wunderbar, so, und jetzt muss man, Services, Networking, Moment,
Services, wie alt ist denn die Seile, soll ich das trotzdem mal machen, wahrscheinlich,
wahrscheinlich sperre ich mich jetzt aus, guck, ich habe mich ausgesperrt, ah, nicht
funktionieren, ist kaputt, also Chat, so ging es auf jeden Fall schon mal nicht, mal gucken,
ob es was hilft, wenn ich den Server reboote, ich hätte, Chat, ich hätte natürlich hätten
Snapshot machen sollen, dann setzt du bei Hetzerne die Faultrute auf die IP deines Servers
mit der Public IP, habe ich doch, habe ich doch, oder meinst du hier drinnen, ah Moment,
das kann natürlich auch sein, dass man das hier machen muss, du meinst hier drinnen,
ne, also quasi, 0.0.0.0, gateway 2, add, aber, aber, sag mal so, der Server geht immer
nicht, ok, ich reboote das Ding mal, also hier, ab hier fängt es an, wo ich keine Ahnung
mehr habe, ähm, so, App Server, Power off, ne, der Server muss jetzt erstmal wieder booten
und mit einer IP hochkommen, ganz so easy ist es ja anscheinend nicht, wir schauen mal
kurz, wir schauen mal kurz per Konsole rein, was das so treibt, ok, Server pingt nicht
mehr, so funktioniert es nicht, Chat, nope, er hat zwar, er hat zwar angeblich die IP,
aber pingen und machen und tun, geht da nix, ja, ja, rescue shell, ich kann das schon wieder
rückgängig machen, aber, tja, also, so funktioniert es schon immer nicht, ich könnte mich hier
auch per Route einloggen, aber ich weiß mein Route Passwort nicht, kann man sein Route Passwort
hier irgendwie resetten drüber, ich denke nicht, ne, guck mal, das ist, das ist down,
das Ding ist dead, dead, kann man sein Route Passwort resetten, das, das habe ich noch
nie gebraucht, ähm, rescue vielleicht, ah hier, reset Route Passwort, this will set
a new, if you remove, ähm, bekomme ich das dann per Mail, oh nein, nein, nein, nicht
displayed once, ich will das nicht displayen, das ist für Streep nicht so gut, wenn ich
mein Route Passwort displaye, auf der anderen Seite, ich kann mein Route Passwort displayen,
das ist überhaupt kein Problem, wisst ihr auch warum, weil das Server komplett private
ist und ihr eh nicht dran kommt, was einer der weiteren Vorteile ist, ähm, weil, wenn
man die Server private hat, ok, Route Passwort, und jetzt, ah hier ist es, also, Route UCJBCKTVVHAMKVMIX7PX,
alles klar, hey, hat funktioniert, Horge, ähm, PassWD Route, new Passwort, das sage
ich euch jetzt nicht, mein, mein new, my new Route Passwort, ok, easy, PassWord, ja,
kz123, kz123, also, äh, nano, etc, äh, etc, network, interfacesd, my private IP, Leute,
wir können aber auch mal gucken, was der jetzt, was der sagt bei den IP Adressen, guck mal,
der hat eine IP, der hat eine IP, warum, warum sieht der Server, weil der, weil der Gateway
falsch ist, 100 Pro, mit dem, mit dem P2P, das ist falsch, was ich da gemacht hab, hier,
da muss, da muss, da muss nicht 2 rein, da muss 1 rein, ich sag's euch, ich versteh's
zwar nicht, aber ich glaube, da muss 1 rein, lass das mal komplett weg, nee, das geht nicht,
da steht ja auch schon hier, dass man das braucht, das geht nicht ohne, das ist, das
ist Trick 17 von, ansonsten, also warum ich den nicht weg, nicht, nicht weglassen kann,
ist doch ganz offensichtlich, ähm, die Netmask stimmt doch schon mal nicht, Netmask ist 255,
255, 255, ergibt ja überhaupt keinen Sinn, das geht nur mit dieser Magic, ich mein, was
man machen könnte, ist, man könnte die Netmask realistisch setzen, pingen, dass das pingen
geht, kann durchaus sein, ah, pingen geht, aber nur das Gate, nur das Gate, nur dieses
Hetzner Punkt 1, aber das andere pingen geht nicht, siehste, also man braucht das, das
ist auf jeden Fall wichtig, dass man dieses 10 Punkt 1 da rein schreibt, sonst funktioniert
das mit der IP nicht, Default Gateway auf deinem Kisten zeigt auf das Hetzner Gateway,
also Punkt 1 in dem Fall, ok, System CTL Restart Networking, hab ich jetzt wieder eine IP und
komm da wieder drauf, nö, also ich hab's jetzt netzwerktechnisch komplett geschrottet,
hab ich irgendwie Mist eingegeben, Leute, muss ich da noch irgendwas machen, also das
ist hier die komplett, so wie man das machen soll, Gateway, Private IP of Server, eigentlich
alles richtig so, wie es ist, eigentlich alles korrekt, machen wir mal folgendes, if down,
ENS 10, if up ENS 10, ne, ne, ne, die Netmask ist richtig so, das hätte ich auch schon
selbst gesehen, wenn das, wenn das, hm, die Netmask ist richtig so, wie gesagt, das ist
hier kein normales Layer 2 Gedöns, das ist Hetzner Spezialmagie und das muss so sein,
ich weiß aber gar nicht, warum es 2, warum muss es eigentlich so sein, geht das irgendwo,
ich hab keine Ahnung, warum das so gemacht werden muss, man braucht keine Route zu direkt
angeschlossene Netzwerken, äh, jetzt hab ich keine Ahnung, warum es jetzt nicht mehr
geht, jetzt ist es broken, jipp, äh, pff, ich mein, man könnte, man könnte den Kran
nochmal, ups, oje, was ist das, was ist das für ein Tastaturlayout, kann man das irgendwo
umstellen, rebooten, ne, warum soll ich rebooten, das muss ja, das muss ja hiermit auch funktionieren,
mit Netzwerk up und down, keine Ahnung, äh, ich lösche den Krempel mal wieder, weil ich
nicht davon ausgehe, dass es nach dem Reboot wieder funktioniert, blub, weg damit, wobei,
was mach ich eigentlich, jeh, sie einfach die Datei löschen, Reboot, so, jetzt sollte
ja der Default Krempel wieder greifen, schauen wir mal, und das ist halt das Ding, ich hab
wirklich keinen Plan, wie man das Netzwerk technisch richtig konfiguriert, wahrscheinlich
ist das so ein typischer Fall von, wenn man das weiß, ist es total easy, guck mal, schon
ist er wieder da, schon ist er wieder da, also, jumphosten wir da mal drauf, oder benutzen
wir unser SSH Connect Tool, so, da sind wir wieder, so, weitere Vorschläge chat, was
wir machen können, also, Default Route zeigt auf 1.2.1.6.8.10.1, also im Prinzip, ähnlich
so, wie ich das eingestellt hab, würd ich sagen, also nochmal, dann machen wir's halt
nochmal, ok, Nano, so, wobei, nee, ich hab's ja absichtlich mit Nano gemacht, so, also,
den Krempel hatten wir ja gerade schon mal, und das hat nicht funktioniert, das hier brauch
ich nicht, das ist nur, wenn ich eine zusätzliche Route haben will, die will ich ja erstmal
nicht, ich will ja nur, zumindest von einem Rechner zum anderen kommen, aber im Prinzip
haben wir das schon richtig eingestellt, 1.9.2.1.6.8.10.1, das ist korrekt, weil Hetzner Magic, wie
gesagt, 10.3, nee, nee, es ist, wir sind doch noch gar nicht so weit, dass der IP Forwarding
machen sollte, wir sind ja noch viel weit, wir sind ja noch einen Schritt davor, dass
überhaupt eine Netzwerk-Config überhaupt funktioniert, so, und nu, jetzt haben wir
den gleichen Krempel wieder drinnen, aber das ging eben schon nicht, und jetzt hört's
bei mir auf, ich hab keine Ahnung, wie ich das konfigurieren soll, wollen wir mal Google
befragen, was die dazu sagen, doch funktioniert, da die Forward-Route auf Hetzner-Gatefahrt
zu zeigen, Hetzner hast du eine Route auf der Gatefahrt, das reicht, aber das haben wir
eben gemacht und es ging nicht, also ich wüsste nicht, warum das gleich jetzt auf einmal gehen
sollte, du brauchst die Fault-Route aus Host ab, Network IP Range, ok, Moment, Post, Network
IP Range, und was soll da rein, und was soll da rein, ich will doch gar keine Zusatzroute
haben, was soll da rein, soll da jetzt 3, 1, 2, 2, 1, 6, 8, 10.0, 24 oder wie, du brauchst
das nicht, na wenn du das sagst, wir können das ja von Hand hinzufügen, aber genau so
hatte ich es doch eben auch schon, und das ging nicht, naja, ich hör einfach mal auf
den Chat, ich hör mal auf den Chat, mal gucken ob das funktioniert, also Racheclo sagt das
funktioniert, Chat, wir machen jetzt mal eine kleine Umfrage, und zwar ein Vote, nee, Moment,
wie ging das nochmal, die machte mal nochmal ein Vote, Twitch Start Vote, wo man Kanalpunkte
wetten kann, äh, was war denn das, nicht SlashPoll, es ist Slash, ich hab zu selten
gestreamt in letzter Zeit, ich weiß es nicht mehr, Prediction ist es, SlashPrediction,
okay Prediction, also, Vorhersage starten, ähm, also, wie heißt das, geht das so wie
Racheclo das sagt, ja nein, Vorhersage starten, also ich hab es jetzt so gemacht wie du gesagt
hast, bin ich mal gespannt, gucken was der Chat prediktet, und dann gucken wir ob das
funktioniert, PostChamp, der Chat ist nicht so, nicht so zuversichtlich, okay, das mach
ich danach, ich check jetzt erstmal, ob das funktioniert so wie Racheclo das sagt, dann
gucken wir ob das funktioniert was Neubi sagt, weil ich hab in dem Fall wirklich keinen Plan
was ich da eigentlich mache, ähm, das hab ich mir so, auf der Ebene hab ich das noch
nie gemacht, ich muss gestehen ich hab's heute morgen auch mal kurz mir angeguckt, allerdings
wirklich nur eine halbe Stunde und hab die Seite gefunden, hab mir gedacht, monkaS, aber
gut, wird schon funktionieren, aber funktioniert anscheinend nicht, alles klar, also Racheclo's,
zufrieden mit dem was ich ja eingetragen hab, soll ich rebooten, jetzt, jetzt, ja, ja, ja,
mach mal, oder nochmal, was, ich reboot jetzt, was ist es falsch, ich denke das ist so wie
ich eintragen sollte, der Chat, alter, gebated, das ist nicht DHCP, das ist, selbstverständlich
ist das nicht DHCP, ich will doch kein DHCP machen, was soll ich denn mit DHCP, ok, ähm,
Mods, brecht mal die Umfrage ab, ich glaub das ist jetzt so unfair, irgendwas, ok, also
Leute, Mods, brecht, brecht mal die, brecht mal die Prediction ab, das hat keinen Sinn,
gibt alle Kanalpunkte, was geht out of the box mit DHCP, mit Static musst du halt die
Gateway von headset, ja ich hab es doch exakt so gemacht, wie du gesagt hast, was ich reinschreiben
soll, wir haben es zusammen ausgefüllt eben, und wenn das falsch ist, was ist falsch, wie,
hab ich, hab ich mich verguckt, was ist denn ein DF Gateway, ein Default Gateway, ja und
was ist der Default Gateway, was, dann sag mir doch was ich reinschreiben soll, was soll
ich reinschreiben, das da unten, soll ich reinschreiben oder wie, oder ich soll den
da reinschreiben, Default Gateway Hetsner, Alter, jetzt reicht es mir langsam, sag was
ich da reinschreiben soll, welche Zahl soll da rein, was soll Default GW Hetsner sein,
also, das was Neubi sagt, mach ich gleich, das erscheint mir nämlich auch irgendwie
sinnvoller, so, post up IP root, das da, slash 24, so und da muss jetzt Gateway auf Network
rein, da muss jetzt wahrscheinlich, das ist jetzt die Frage Neubi, muss da jetzt das da
rein oder das was ich später als Default Gateway haben will um ins Internet zu kommen, ich
hab keine Ahnung was das, also soweit ich es verstehe ist es folgendermaßen bei Hetsner,
die machen kein normales Layer 2, ich weiß gar nicht, ich hab ehrlich gesagt keine Ahnung
wie man das überhaupt nennt, die machen irgendwelche Magic Netzwerk Geschichten, so dass man immer
erst irgendwie zu denen ihrem Layer 3 Switch muss, um weiter zu kommen auf andere, auf andere
Rechner und dementsprechend kann ich nicht einfach sagen, trage einen Host ein, trage
korrekte Netmask ein, sondern muss so komische Konfix machen, du hast auch keine Ahnung,
also im Prinzip redet der Chet wieder über Dinger von denen er keine Ahnung hat, das
ist natürlich auch super, das heißt im Prinzip hätten wir uns die letzten 10 Minuten sparen
können, weil es eigentlich keiner weiß, sondern einfach auch nur redet, 000 wir, aber ne ne
ne Chet, Chet ihr habt alle keine Ahnung, ja wie hast du es eingerichtet, wie, dann sagst
doch halt, dann sag ich, ok, ok wir machen es so, was soll ich ändern in der Datei, was
soll ich ändern sagst du mir, also DHCP reinschreiben kann es ja nicht sein oder, oder soll ich
DHCP reinschreiben, weil DHCP macht das standardmäßig schon, also wenn ich DHCP machen soll, kann
ich es einfach so lassen und alles auskommentieren, die Default Route, ok hab ich doch, das ist
meine Default Route, also soll ich DHCP machen, also soll ich gar nichts machen, also einfach
so, also endlich wird es sparen können oder wie, aber die Sache ist doch die, die Sache
ist doch die, wenn ich DHCP mache irgendwann muss ich, ich muss eine Default Route setzen,
ich muss eine Default Route setzen auf mein Gateway und dieses Hetzner Magic Zeug muss
ja auch aktiv bleiben, weil ansonsten funktioniert es ja gar nicht, also du willst, du willst
dass ich DHCP mache und nur die Default Route im Webinterface eintrage, meinst du das so,
ok, ja dann haben wir doch alles, dann ist doch eigentlich alles richtig, dann ist es
doch genau so, dann ist es doch genau so richtig, wie es jetzt ist, was aber im Endeffekt auch
heißt, dass wenn ich jetzt 8.8.8 pinge, der versuchen müsste die Pakete hier hinzuschicken
und das macht er nicht, probieren wir mal, TCP Dump, ist es nicht drauf, install, TCP
Dump, nicht Trace Route, ok Trace Route können wir sogar auch gucken, 8.8.8, tja, er weiß
nicht wo er es hinschicken soll und dann schickt es auch nirgendwo hin, gucken wir mal, probieren
wir das mal aus, wir checken, wir kriegen es ja raus, wir kriegen es ja ganz einfach,
wir kriegen es ja ganz einfach raus, ob das funktioniert, in der Routing sehe ich aber
nicht wie vorher das Default, na da steht es doch, das ist doch das Hetzner Magic Default,
das ich eintragen sollte, guck da, steht noch drinnen, das ist ganz normal DHCP Config,
DHCP Config und im Web Interface habe ich das hier eingetragen, ja guck da, ja, so,
das ist der Default Gateway, 0000, das ist schon richtig so, nein, das ist richtig, Moment,
Schwachsinn, ich hab mich verguckt, das ist falsch, das ist falsch, hier müsste Destination
0000 stehen, der Gateway hier, naja ich hab das im Prinzip nur gemacht, was der Chat meinte,
das geht so, ich benutze IPR, IPR und IPR0 ist das gleiche, so, also angeblich sollte
es ja jetzt funktionieren, macht es aber nicht, weil mein Traceroute sagt Network Unreachable,
was ja auch logisch ist, er weiß ja nicht wo er es hinschicken soll und wenn ich hier
einen DCP Dump mache, DCP Dump, Not Port SSH, Interface ENS10, der schickt da auch nichts
hin, also, so funktioniert das schonmal nicht, normal kommt via DHCP eine Default Route, ich
hab gar keine Änderung gemacht, ich kann das Netzwerk restarten, aber ich hab überhaupt
keine Änderung gemacht, der ist hochgekommen mit DHCP und alles, alles gut, ok, dann setze
nochmal eine Default Route, naja da kommen wir der Sache doch jetzt schon näher, komm
ich Reboot nochmal, schadet ja nichts, ich Reboot nochmal, also hier oben müssten wir
dann Pakete ankommen sehen, weil das ENS10 ist, ENS10 ist das Interface, wo er die Pakete
hinschicken soll, er weiß zwar nicht wo er sie weiter routen soll, aber dahinschicken
müsstest du zumindest versuchen, so, so siehts aus, also dann probieren wir das doch mal,
oh Gott, Route setzen mit IP2, was ich kenne ist das, Route Add Default GW, das wird aber
wahrscheinlich nicht funktionieren, bei dir setzt er die Default Route auf den Hetznagel
etwa, ja, keine Ahnung, also Route Add Default GW, 192.168, ne warte mal, ne doch, 10.1
oder so, oder, also, sehr gut, wie, das geht, oder was, das funktioniert, kacke, wie das
ist, das ist aber tatsächlich nicht so schwierig, das ist tatsächlich ziemlich easy, wenn man
weiß, so, jetzt muss ich hier IP Forwarding einschalten, dass es funktioniert, ok, das
ist tatsächlich einfach, das ist tatsächlich ziemlich easy, wenn man weiß wie es geht,
so, jetzt muss ich, jetzt muss ich IP Forwarding einschalten, also, Echo, das Copy Paste ich
mir jetzt mal woanders her, Echo, IP Forwarding einschalten, ich mach einfach mal ein Ping,
das sollte dann auf einmal anfangen zu funktionieren, so, jetzt, ich hoffe ich krieg das hin, also,
IP Tables, Nut Table, Post Routing Tabelle, ne, wie heißt das, Post Routing Chain, oder
so, Alter, IP Tables Fachbegriffe dürft ihr mich nicht fragen, so, Interface ETH0, ETH0
ist, ne, hättest du einfach schreiben können, mach dir eine Custom Config weg und lass alles
so wie es ist, das wäre viel einfacher gewesen, so, ETH0 ist das wo ich raus will, ich hoffe
das stimmt, ich hoffe ich krieg IP Tables noch irgendwie zusammen, also, normalerweise
sollte in IPR so eine Zeile stehen, weiß auch nicht warum das da nicht drin steht, keine
Ahnung, werden wir dann sehen, ob was, also, IP Tables, so, ist Minus, oh, übrigens ich
zeig euch mal eine super Seite, ich bin mir nicht ganz sicher ob die das kann, Bash Explain,
Explain Shell, guck mal, der erklärt dir, Kami, Dankeschön für den Sub, der rache
Gluclos, der hat's wirklich verdient, ja, Poggers, Massive Subscription, guck mal, der
erklärt einem hier dann auch was die einzelnen Sachen machen, Table Nut, Minus A, Post Routing
Append an die Chain, Minus O, Minus O ist Out Interface, also, exzellent, also, das
ist ja, ja, es geht, der Ping, der Ping der Pings, pingt, easy, ok, wir haben Internet
Zugang, Update, oh, natürlich, selbstverständlich, wo kämen wir denn dahin wenn DNS einfach
funktionieren würde, wahrscheinlich die Resolve, die Resolve Conf, falsch, ja, da steht einfach
gar nichts drinnen, na, das wird's natürlich erklären, wenn der Resolve Conf nix drin
steht, da tragen wir, da tragen wir dann mal schnell was ein, nun muss die Route permanent
gemacht werden, ja, wie war das Resolve Conf nochmal Name Server, 8.8.8, war das so, ich
kann mir das immer, ups, ich kann mir das immer aus dem Kopf nicht merken, ey, habe
ich vielleicht, habe ich vielleicht im Eifer des Gefechts irgendwelche Sachen gelöscht,
Leute die ich nicht hätte löschen sollen, sollte ich den Cloud Server vielleicht nochmal
neu hinstellen und dann gucken ob die Route stimmt, so, ups, Upgrade, jetzt haben wir
den Temple, yes, so, also wir kommen ins Internet, wir kommen auf die Server drauf, so, wir machen
jetzt bei der Gelegenheit einen zweiten Abserver und gucken ob da die Default Route mit kommt,
weil wir brauchen eh mehrere Abserver, Leute ich fürchte zur Terraform Config das wird
heute nix mehr von der Zeit, wir sind schon zweieinhalb Stunden am Start, vielleicht hast
du Ubuntu und ich habe Debian, man muss ja dazu sagen die Netzwerk Config technisch
sind die beiden schon ein bisschen unterschiedlich, Ubuntu macht irgendwelche Netplan Magic und
Debian macht noch ihre eigene If-Config, ich meine unter der Haube, sollte man von ausgehen
dass das alles das gleiche ist aber, ah, so wirklich sicher bin ich mir da nicht, soll
ich mal ein Debian nehmen, komm wir nehmen Ubuntu, wir nehmen als zweiten Server Ubuntu
und gucken ob das da anders aussieht, Public Networking weg, Private Networking, ja alle
gib hier, gib ihm, User Data, gucken wir uns das doch mal an, zack, App zwei, Ubuntu Netzwerk
Config ist richtig dense game, also das ist dense gamigste Netzwerk Config die man sich
vorstellen kann, was die Ubuntu Leute da geritten hat ist mir komplett unverständlich, ok Kiste
ist da, dann schauen wir doch mal was der Default Route technisch sagt, ja App zwei
ist am Start, wobei erstmal warten bis das Ding richtig, bis das Ding richtig gestartet
ist, was, has changed, oh nein, also wir können jetzt entweder, wie war das, ssh keygen minus
R, so und jetzt connecten wir uns, Private da drauf, yes, ok IP Route, nee guck mal,
der setzt das, also ich hab, ich hab da keine Default Route irgendwie gesetzt, ich muss anscheinend
wirklich dieses IP Route Geschichte machen, IP Route Add Default GW, keine Ahnung warum,
aber eigentlich sollte das jetzt ja alles hier auch einfach funktionieren, easy guck
pingt, keine Ahnung was der für Schmerzen hat, man weiß es nicht, zumindest seht ihr
jetzt wir haben schon zwei Applikationsserver am Start, die wir jetzt dafür verwenden können
und alles im privaten Netz, also das mit der, also wie gesagt das mit der Terraform Konfig
werden wir heute, dann muss ich noch einen zweiten Stream machen, den werden wir wahrscheinlich
nicht hinkriegen, weil das muss man ja irgendwie auch alles mal persistent machen, ja, ich
mache es auf die statische Netzwerk Konfig, ja, ich mache es wahrscheinlich auf die statische
Netzwerk Konfig, IP Update, so, es funktioniert ja von unserem Setup, fast schon alles, Jump
House funktioniert, Nut funktioniert, die Linux Kisten, gut da haben wir jetzt zwei anstatt
drei, ich glaube damit kann man auch leben, Load Balancer kann ich dann einfach wieder
erstellen, was im Endeffekt, oh Gott, Resolve Conf, oh ich darf keine Resolve Conf, oh das
ist Resolve D oder, Alter manchmal, also ganz im Ernst, ich habe keine Ahnung wie die unter
Ubunturi Netzwerk Konfig seit irgendwie 5-6 Versionen so krass verkacken konnten, Netplan
ist Monk.js, will ich wirklich meine Netzwerk Konfig in Jaml machen und dann haben die diese
komischen Geschichten von System D an, ich will einfach nur einen Name Server setzen,
ich meine the fuck, was für ein Service sind wir da gerade anbauen, wir gucken uns Hetzner
Cloud Features an, wir haben zwei VMs gebaut in einem privaten Netz mit einem Load Balancer
davor und damit die Server selbst Pakete aus dem Internet sich holen können, haben wir
eine Linux Kiste mit Nut IP Tables Regeln und den können wir als Jump Host für den
Admin verwenden in das private Netz rein, wie trage ich denn bei, das habe ich noch nie
gemacht, das gucken wir jetzt auch mal, System D Resolve Default Name Server, wie trägt
man da was ein, wie kriegt man an Default Name Server, Setting DNS Server, ok, da muss
man irgendwie, guck mal, ich meine ernsthaft, es gibt eine Datei, die ist Unix weit seit
350 Jahren gleich und man weiß wo man den Mist eintragen muss, aha anscheinend gibt
die Datei noch nicht, ok, super und alter meine Güte, the fuck, wisst ihr was ich jetzt
mache, wisst ihr was ich jetzt mache, ich lösche das jetzt und baue ein Debian auf,
es fliegt jetzt einfach wieder weg, bam, so, add server, kommt jetzt einfach ein Debian
drauf und dann funktioniert es, Private Network keine Public IPs, zack zack, User Data, ja,
da User Data, zack zack zack, müsste mal gucken welchen, App 2, so und das einzige
was wir machen müssten war ja die Route adden, das ist alles, Chat, also ich muss sagen übrigens
Rache Klos, super dass du dich der Sache angenommen hast und Bescheid postest, ich hab's ja nicht
verstanden, also du hast den Sub auf jeden Fall verdient, wenn man's weiß ist es tatsächlich
ganz einfach, man muss es wissen, das ist tatsächlich nicht so easy, aber jetzt weiß
ich's ja, jetzt sind wir alle wieder FIFAD, ok, minus R, SSH, aber guck mal unser Connect,
das müsst ihr mal sagen, unser Connect Script ist wirklich nice, ne, hier, zack, yes, habe
ich keine SSH Keys ausgewählt, hab, Chat, hab ich meine SSH Keys vergessen auszuwählen,
drei Stück, oh dann hab ich wahrscheinlich den falschen, hab ich einen vergessen, ich
hab den, den es wahrscheinlich ist vergessen, na geil, keck, ok noch mal, demian, oh man,
siehste deswegen macht man sowas mit nem Config Management System, dann hast du das
Problem nicht, zack zack zack zack, das ist er wahrscheinlich, App 2, faltenberg, so jetzt
aber, create, nicht faltenberg, faltenstein, faltenstein, machs gut rache klos, so zweite
App Server ist am Start, können wir doch unser Connect Tool verwenden, so App Server ist wahrscheinlich
noch nicht da, ich glaub ich war zu, ne Server ist da, bäm, zack, wunderbar, so root add
default gateway, update, achso, ich noob, etc resolve, ResolveConf, Name Server 8, ja da
müssen wir auf jeden Fall, also Leute ich glaube wir brauchen noch nen zweiten Stream,
wir brauchen noch nen zweiten Stream wo wir dann ordentliches Config Management dafür
machen, weil so ist das ja wirklich eklig, ich dachte das kriegen wir alles in einem
Stream hin, aber das war einfach zu viel Content, ich mein ich bin jetzt nicht instant off,
aber da jetzt irgendwie noch ne Terraform Config aus dem Ärmel schütteln die das alles
berücksichtigt, das krieg ich glaub ich heute nicht mehr hin, so jetzt haben wir Updates
gemacht, jetzt haben wir hier unseren Absorber läuft, IP Tables funktioniert, das heißt
im Endeffekt, jetzt machen wir nur noch mal eine Runde Monitoring, schauen wir mal, komm
wir installieren hier mal, Upinstall, Prometheus, es ist ja alles nicht aus dem Internet erreichbar
außer Apport SSH, müssen wir uns hier keine Gedanken machen und wir installieren mal nen
Krafana, Krafana gibt's, wie es gibt kein Krafana zu installieren, haben die jetzt nicht
mal Debian dabei, Krafana GitHub Releases, ist Krafana nicht ein Goal Library was man
einfach runterladen kann, ich weiß jetzt kommen die Leute machen Docker Container, ich will
es nicht unnötig kompliziert machen, da jetzt auch Docker in den Mix mit schmeißen, ne Prometheus
war, Prometheus war ein, was es gibt kein Goal, ok Ubuntu, was ist das für ein Prometheus,
gucken wir mal, Prometheus minus minus Version, naja 2021, ich mein, naja, Prometheus Exporter
Export, ein bisschen broken ist der Scheiß schon oder, 2021, naja ok damit kann ich irgendwie
leben, so, also da installieren wir uns mal ein Krafana da drauf, ich weiß ich könnte
nen Container starten aber ich will jetzt wirklich nicht noch Docker in den Mix schmeißen
und das ist ja dann ein Problem mit meiner Netzwerkkonfig hier, was, ok ja alles klar
funktioniert ja schon mal gut, dann installiere ich jetzt KnuPG 2, perfekt, die debian Leute
bauen die selber, achso Moment, das heißt ich muss gucken was es für ne Version ist,
Prometheus Version, gucken wir mal wahrscheinlich von 2005 oder so, ne 2021 passt schon, ist
schon in Ordnung, ja manchmal machen die debian Leute komische Sachen aber das ist ja nix
gegen die komischen Sachen, die die Ubuntu Leute machen mit der Netzwerkkonfig, also
das, mehr, also das, heftiger gehts echt nicht mehr, so, Stable Releases, Beta Releases,
ne ne Stable Releases vollkommen in Ordnung, Update, Upinstall, Krafana, beim Enterprise,
was, Krafana Enterprise, oh ne jetzt hab ich die Enterprise Edition hinzugefügt, lull,
ok nochmal updaten, bezogen auf Netplan, ja Netplan mag ich nicht und auch diese ResolveD
Geschichte, ich mein, guck mal es gibt seit 30 Jahren ETC ResolveConf, da weißt du was
du eintragen musst, aber nein nicht wenn du SystemD ResolveD verwendest, so jetzt haben
wir noch ein Krafana am Start, jetzt können wir sogar unsere Abserver richtig schön überwachen,
Upt, install, Prometheus, exporter oder node, warum heißt das eigentlich nicht Minus node
exporter, Moment, das ist nochmal was anderes, Upt, remove, Prometheus, was ist ein Prometheus
Prometheus exporter, der Prometheus exporter exportiert die Prometheusmetiken lokal als
ex Prometheus exporter, ach du Scheiße, das ist ja der Meta, der Meta Prometheus exporter,
da soll noch mal einer durchblicken, so, ab, install, machen wir noch ein bisschen Monitoring
drauf, dass wir uns ruhigen Gewissens sagen können, wir haben ein ordentliches Setup am
Start, also, Moin Xaito, guck mal NetStats, Pulpen, Prometheus node exporter läuft, Krafana
ist auch am Start, so und jetzt können wir den Trick verwenden von vorhin, guck mal,
wir haben NetStats, läuft, irgendwo läuft ein, install, Krafana, ich sehe da kein Krafana
laufen, Stimctl, Status, Krafana, gibt's net, Server, ach das ist disabled, ok, Start, Status,
da ist er, NetStats, ok, wenn nicht Status wollen wir noch enable, auch noch, wo ist
er denn, Krafana Server, Port 3000, exellent, so Leute, wir kommen von außen nicht da dran,
wie gesagt, um noch jetzt mal da zurück zu gehen auf das Bild, hier ist unser Jumper
Host für den Admin um auf die Kisten zu kommen, die Kisten gehen hier drüber raus, holen
sich Packages und jetzt haben wir noch ein bisschen Alibi halber noch ein bisschen Monitoring
gemacht, das erreichen wir von außen aber gar nicht, aber wir erreichen das über SSH,
d.h. wir müssen jetzt wieder eine SSH Weiterleitung machen, SSH minus D, Socksproxy aufmachen
und jetzt können wir sagen, Local Host Port 3000, nee, Local Host darf ich wahrscheinlich
nicht machen denke ich mal, oder, was darf ich da denn machen, dass ich auf das System
komme, muss ich die Public IP vielleicht eingeben, dass das checkt, aha, ok, mit Public IP funktioniert's,
ja wohlgemerkt, chat, wenn ihr das aufruft, kommt ihr da nicht drauf, nee, nur mal so,
wenn ihr da drauf geht, klappt das nicht, weil es ist ja alles Firewall technisch geblockt,
das geht nur, weil ich per SSH mich verbunden habe auf die Kiste und jetzt mein Browser
da drüber weiterleite, so Default, Default Krafana, war das irgendwie Admin, Admin Krafana
oder sowas, Default, ich bin aber drauf, jaja ist klar, ist klar, Admin, was sind das, Default,
ja, Default Passwort ist Admin, muss ich das einfach leer lassen oder ist das Admin, Admin,
Admin, Admin, ahja, New Passwort, ok, New Passwort, alles klar, never, so, da sind wir
am Start, jetzt brauchen wir noch eine Prometheus-Konfig, vim etc, Prometheus, Prometheus-Konf, Yammel,
oh, da steht ja so viel, so viel, so viel Crap drin, Alter, ok, also wir brauchen das,
das, das, Scrap-Konfig, Targets, ich glaube, kann man mit Comma machen, ihh, vim mit Maus-Konfig,
wer macht denn sowas, jetzt, jetzt, jetzt, jetzt wird's aber langsam wirklich fragwürdig,
kann man, weiß jemand aus dem Kopf, ob man bei der Prometheus-Konfig sowas angeben kann,
geht das, ne oder, das wird wahrscheinlich nicht gehen, Prometheus-Target, Netmas, oder
geht sowas, ich glaube nicht, dass sowas geht, Targets, ne, ich glaube, da muss man, glaub
da muss man wirklich die IPs von Hand reinschreiben, oder ansonsten muss man halt irgendeine Discovery-Geschichte
verwenden, aber direkt, das gesamte Netz kann man da nicht reinschreiben, dass er das selber
scannt, ich glaube, das geht nicht, wäre ja auch bescheuert, ne, so, also, wir wollen
den haben, den haben, Port 9090, und wir wollen den haben, Port 9090, zack, System-CTL-Restart,
alles klar, so, und jetzt haben wir sogar ein bisschen Basic-Monitoring am Start, ok,
da läuft er, Prometheus-Nodex, ach, 9001, oh, sorry, der Nodex-Porter ist woanders drauf,
naja, ist ok, Moment, das ist ja auch falsch, ich machs ja auch an der komplett falschen
Stelle, guck mal, chat, sag doch was, guck mal, ist ganz falsch, wo ich hier bin, ist
blödsinn, das ist der Host, da will ich überhaupt nicht hin, ich will da ohnehin, Nodex-Porter,
da will ich hin, obvious, obviously, ja, hätten wir doch schon 100 Meter weit sehen
müssen, ok, Restart, alles klar, jetzt haben wir auch ein bisschen Monitoring-Zeug, alles
klar, so, dann machen wir jetzt mal ein schönes Dashboard, wir machen kein Dashboard, wir
nehmen das Standard-Linux-Linux-Dashboard, so, add data sources, data source Prometheus,
localhost, HTTP, localhost 1990, das schöne ist, vom Internet aus ist nichts erreichbar
und alles geploggt, auch über die Firewall, außer Port 22, das heißt, da muss man sich
keine Gedanken machen, und die Server selbst sind eh in einem privaten Netz, da kommste
von außen gar nicht ran, save and test is working, jawoll, save, so, explore, guck mal
mal, ob das irgendwas hat, was kann ich denn da suchen, ja, go, mem, stats und so, das
klingt schon mal gut, jetzt importieren wir noch mal ein Dashboard, einfach weil es cool
aussieht immer, Linux-Node-Exporter-Dashboard, ist das hier der, weirdchamp, so, import, copy,
ID, so, wie ging das jetzt noch mal mit dem Dashboard importieren, das ist immer massive
5-Hat-Time, ähm, wo ist denn das, das mach ich so selten, hier, ne, plus import, ach
easy, load, so, ne, müsste das jetzt funktionieren, download Jason, was ist Jason da rein machen,
müsste das jetzt gehen, wenn ich auf import drücke, oder, ne, ich hab hier auf load gemacht,
das ist was anderes, guck mal mal, ob der das jetzt erkannt hat, dass das da drinnen
ist, Dashboards, nö, na gut, import Jason, so, load, Node-Exporter-Quickstart und Dashboard,
import, jawoll, da sind wir, Leute, Massive-Monitoring für alle unsere Systeme schon am Start, guckt
euch das mal an, unsere beiden Absorber und unser Jump-Post, na, da haben wir es doch
mehr oder weniger hingekriegt, ich mein, eine kleine Sache würde noch fehlen, wir haben
halt den Load-Balancer davor wieder gelöscht, den gibt's ja nicht mehr, Load-Balancer ist
ja weg, aber gut, nein, ich würd eh sagen, ich mach noch mal einen zweiten Stream und
wir machen das ordentlich mit, mit, mit, mit, Logging, jetzt wird's aber advanced hier,
übrigens, Striker, du bist der Top-Chatter des Monats, hat Nightbot gesagt, stell dir
das mal vor, ich weiß nicht, woher das Nightbot festmacht, aber du bist der Top-Chatter des
Monats, oder der Top-Spammer des Monats, könnte man wahrscheinlich auch sagen, ja, so, ist
das nicht schick, wird ne Cloud gehackt, nee, wir haben selbst Cloud-technisch was zusammengebaut,
da muss man doch sagen, das ist wirklich nice jetzt, es ist nix aus dem Internet erreichbar,
außer Port 22, du hast über SSH, hast du komplette Server-Monitoring, kannst du darauf
zugreifen, das kann man natürlich bisschen mehr customisern in Wirklichkeit, wenn man
was sinnvolles rauslesen will, du kannst als Jump-Post verwenden, die Kisten können ins
Internet sich updaten, es ist eigentlich, es ist eigentlich sehr, sehr, sehr, sehr nice,
ich mein, eine Sache können wir jetzt noch machen, damit wir jetzt ruhigen Gewissen sagen
können, ja, wir haben unser Bild erfüllt, wir können tatsächlich noch ein, noch Load-Balancer
machen, allerdings, wir taggen die Systeme jetzt mal, da kann ich euch nämlich mal zeigen,
dass das besser ist als Server-Namen selbst hinzufügen, ja, tag, also, das ist keg service,
taggen wir auch, keg service, besser, besser tag überhaupt, und jetzt gehen wir hier hin,
legen Load-Balancer an, create Load-Balancer, wieder den kleinen private network, targets,
und jetzt können wir nämlich sagen, label, keg, aha, muss es ausschreiben, gibt kein
Auto-Complete, so, keg service, da laufen ja keine Web-Server drauf, deswegen seht ihr
die als down, so, add label selection, und jetzt ist egal, ob es zwei Server mit dem Tag
sind oder fünf, der Load-Balancer immer auf die Server mit dem Tag, so, und jetzt würden
wir wieder sagen, HTTPS, Endpunkt, Port 8000, Zertifikat, keg www hatten wir ja vorher
schon mal drinne, passt, load-Balancer, keg, lb, so, zwei Servers sind drinne, aber wenn
wir uns die Grafen angucken und die Targets angucken, die sind alle down, die sind alle
down, also was müssen wir jetzt machen, jetzt müssen wir einen Web-Server starten auf den
Up-Servern, also waren wir irgendwie mkdir, oder, wo hatte ich das hier mkdir, da, mkdir,
keckel, vimindex.html, wie, nicht installiert, muss gleich drauf, oh, null, beste Seite,
so, und jetzt mal mit diesen Python, cp, da muss das hin, das ist kein produktiver Web-Server,
da sind wir uns ja einig, ja, und jetzt ist das letzte, was wir machen müssen, dass alles
funktioniert, die public IP vom Load-Balancer nehmen, in unsere DNS-Konfig gehen und updaten,
was, reloading the page, ja, ok, save, und jetzt hoffen, dass der DNS irgendwann noch
mal updatet und dann können wir das neue aufmachen, würde es, ja, das funktioniert natürlich,
mach ich gerade mal, warte mal, ich mach mal kurz index, das ist up install vim, ja, das
funktioniert, das sieht man, das ist up 1, up, hallo, 1, und das hier ist up 2, so, und
jetzt gucken wir mal bei unserem Load-Balancer rein, was der macht, der sagt, ah, die Server
sind nicht da, jetzt warten wir, bis die grün sind und dann sollte es funktionieren, und
dann gucken wir in unser Monitoring und werden feststellen, ach, guck mal da, wir haben jetzt
auch viel mehr Network-Connections auf einmal, guck, die ersten Anfragen kommen schon rein,
das ist aber wahrscheinlich vom Load-Balancer, der HALF-Checks macht, also es dauert jetzt
wahrscheinlich so 10, 20 Sekunden, bis das auf grün geht, weil wahrscheinlich müssen
drei Probes, drei Probes müssen grün sein, dass es, ja, guck, der erste Server ist schon
durch, wenn hier die dritte Probe kommt, wird es wahrscheinlich auch grün, ja, zack, gut,
und jetzt könnt ihr auf www.cakw.services gehen, und dann geht es nicht, weil der DNS
noch nicht aktualisiert hat, aber bei euch geht es anscheinend schon, ah, mein Browser
geht es doch nicht, aber hier geht es, guckt, und wenn ich refreshe, lande ich auf den unterschiedlichen
Abservern, so, und jetzt schauen wir mal in unser Monitoring rein und stellen fest, da
geht auch schon ein bisschen mehr was, was Network-Received angeht, guck, Diska-O geht
auch ein bisschen hoch, Memory-Usage geht ein bisschen hoch, das ist aber noch nicht
das ganz fette Dashboard, oder?
Es gibt auch noch ein fetteres, Node-Exporter-Linux-Default-Dashboard, es gibt auch noch ein viel fettes davon,
Node-Exporter-Full, das brauchen wir hier, Download-Jason, jawoll, nee, nicht Download,
machen wir ein wenig Download, da ist dann jeder Mist dabei, so, wo war das Plus-Import,
was, Load-Import, ja, guck mal hier, ok, äh, warum kann der keine Host auswählen, ist
der broken, ist das Dashboard kaputt, weil das andere funktioniert ja auch, oder ist
die Zeit einfach falsch eingestellt, oh, der checkt das mit den Hosts nicht, es ist
kaputt, das Dashboard, ich weiß auch nicht, wie man das auswählt mit diesen Host-Selection
und Variablen und so, da bin ich nicht Grafana-Pro genug dafür, keine Ahnung, warum es hier
keinen zur Auswahl gibt, ich hab ne alte Version von dem Dashboard, achso, ok, Moment, nö hab
ich nicht, Node-Exporter-Full, last update, 29.04., 17 Millionen Downloads, eigentlich
stimmt, ja, äh, was, achja, das was in der Variable steht einfach rüber kopieren, machen
wir, äh, das da, Monkeys, ich glaub das hat es nicht richtig importiert, aber wir sehen
schon, guckt mal, Network Traffic Received, ist schon, ist schon noch, Memory Usage ist
jetzt auf 14%, ok, warum geht das andere Dashboard nicht, und was jetzt, Node Boot Time, Job Node
Exporter, ach Job Node, der heißt nicht, lull, ok, und jetzt, ok, ok, ok, ok, ok, ok, ok, ok,
jetzt, jetzt, jetzt, jetzt, ok, ok, ok, ok, ok, ok, ok, ok, ok jetzt, jetzt,nal sim,
Moment, Noteboot-Time gibt's nicht.
Wisst ihr warum?
Weil meine debianodexporter wahrscheinlich so alt sind.
Kann das sein?
Die sind...
Ich hab ja von 2021.
Wahrscheinlich haben die das noch nicht.
Oh mann.
Auf der anderen Seite, auf der anderen Seite das andere Dashboard, was hat denn das drinne?
Notexporter Bildinfo, ahja da gibt's das wahrscheinlich, ok dann kopier ich das wirklich einfach rüber.
Pull, was ein gefuddel.
Preview of Values, das sieht gut aus, update, bam Abfahrt, jawoll.
Sag mal, das Dashboard ist broken oder?
One last hour, last last 5 minutes, das Dashboard ist kaputt.
Das fragt Dinger ab, die keinen Sinn ergeben.
Jetzt hab ich keine Hosts mehr zur Auswahl da oben.
MonkaS, was ist denn das?
Wo ist das, ich check's net, wo ist das Problem?
Ich brauch' neuer Exporter, oh ich hab' nicht gespeichert, lul achso, ja hast recht, keck.
Aber der hat trotzdem nix, ok das check ich nicht so genau, aber in Ordnung, ich mach
da grundsätzlich was verkehrt gerade, hat aber auch mit der Sache heute eigentlich gar
nix zu tun, der reicht ja auch, deswegen mach ich zum größten Teil, also wenn ich sowas
hab, mach ich meistens eigene Dashboards oder ich benutze am liebsten ehrlich gesagt
die Explore Funktion, um mal schnell nachzugucken, muss ja nicht, muss ja nicht sein, aber das
ist komisch, dass der nicht funktioniert, naja wie dem auch sei, wir haben unser Monitoring
für diesen Mega Klassen, Hello World Cluster am Start, wir haben da eigene Domain, wir
haben ein gültiges Zertifikat und wir haben dafür insgesamt, brauchen wir jetzt zwei
App Server, ein Gateway, damit die Kisten nach außen kommen, für Packages ich mich drauf
einloggen kann und ihr seht, das ist das eigentlich was ich heute zeigen wollte, das hat doch funktioniert,
die Applikations Server, wo das drauf läuft, im Endeffekt, die haben alle nur Private IPs,
badabingdingsbums, Dankeschön für den Sub, für die Prüfung merken, naja also die Sachen
mit dem Load Balancer und den IP-Table Sachen könnten durchaus praktisch sein in der Prüfung,
wir haben einen Load Balancer am Start für zwei Server und Network, also am Endeffekt,
ich weiß nicht was der Krempel im Monat kostet, weiß nicht ob man sich da ein Report machen
kann, jetzt wie es aktuell kosten würde, wobei ich halt sagen muss, ich will da nicht
reingucken, weil da wahrscheinlich mein Name drin steht, aber wir haben zwei kleine Server,
hier eine mittlere, also wir werden wahrscheinlich so 20 Euro im Monat bezahlen oder so was,
mit den IPs, mit den Servern, mit dem Load Balancer und den Firewall Regeln, wahrscheinlich
irgendwas um 20 Euro im Monat denke ich mal, ja denke ich auch, dafür ist das doch wirklich
in Ordnung. Ja und wir haben unser Setup, was für heute quasi umgesetzt, ja, Private Network
für die VMs, Load Balancer davor, ihr könnt hier drüber zugreifen, der Admin kann über
den Jump Host drauf, diese Kisten können ihre Pakete updaten ins Internet und wir haben
sogar noch ein Grafana Prometheus Monitoring, wo man gucken kann, was die Dinger für Memory
Usage, Network und Disk Space und sowas haben. Ja warum der Promo Code nicht klappt weiß
ich nicht, also der Promo Code wurde mir so per Mail geschickt, keine Ahnung warum der
nicht geht, ich kann es euch nicht sagen. Wäre natürlich sehr praktisch, ich könnte
trotzdem gerne mal Ausrufzeichen Hetzner machen und ausprobieren, ob es funktioniert,
ich gehe mal davon aus, sie haben sich vertippt oder so, das müssen wir Montag mal checken.
Die Prüfung, das war ein Witz, die gibt es keine Prüfung, Alter. Gibt es was für
Bestandkunden, ich habe gehört, wenn Bestandkunden sich einen zweiten Account machen, kriegen
sie das auch. Was wir im zweiten Stream machen, also erstens
muss ich mit Hetzner klären, ob die noch einen zweiten Stream wollen, ich persönlich
fände es nice, wenn wir zu dieser ganzen Thematik noch einen zweiten Stream machen, weil heute
haben wir das ja sehr oldschool Turnschuh Admin technisch hingestellt, wir haben alles
im Web Interface geklickt, wir haben ein paar Bash Sachen gescriptet. Ich würde im nächsten
Stream das gleiche Setup bauen, also das hier, was wir haben, mit den Firewall Regeln, mit
den Netzwerken, mit den Load Balancern und den Servern, allerdings über Config Management
komplett automatisiert. Also sprich, wir nehmen dann Terraform, da kann ich euch auch
den Hetzner Provider für Terraform zeigen und wie man das einrichtet. Das sieht dann
so ungefähr aus, wer sowas noch nicht gesehen hat, Keque, Service, weil wie gesagt, Hetzner
hat Provider für Ansible, für Pulumi, für Terraform, für die meisten wichtigen Sachen,
das würde dann so aussehen, da würden wir so eine, wie man, Infrastructure as Code,
wenn es sich wichtig anhören soll, Setup erstellen, damit man einfach mal sieht, wie man es ordentlich
machen könnte. Das Web Interface zusammenklicken, so wie ich es hier gemacht habe, das kann
man machen, das kann man auch so stehen lassen, das funktioniert. Ja, aber spätestens nach
einem halben Jahr, wenn die Leute sich da zig Sachen auf den Server drauf kopiert haben,
ach, ich mach mal nur kurz Log Analyse, ach, ich installiere mal nur kurz nach, ist es
einfach wir. Und das ist über Terraform oder mit irgendwie, sagen wir, mit irgendeinem
Config Management bzw. Provisioning System viel angenehmer. Dann könnten wir uns das
nächste Mal noch um Backups kümmern, beziehungsweise vielleicht, vielleicht könnten wir sogar mal
ein eigenes Base Image als Snapshot machen. Wäre Kubernetes auch eine Lösung für mich?
Ja, aber nicht dafür, weil jetzt unabhängig Sponsort oder nicht, du kannst ja Kubernetes
hier auch drauf laufen lassen, aber für einen Service, sagen wir mal, mit zwei Applikationsservern
und einem Load Balancer, ist Kubernetes vielleicht eine Nummer zu hart. Und selbst das Hochskalieren
kannst du hier relativ easy machen. Guck mal, nummer, nummer, so, ich müsste jetzt, ich
müsste jetzt einfach hier einen dritten Server hinzustellen, ist auch egal wo der ist, ach,
ich müsste hier theoretisch einen dritten Server hinzustellen, Private Network auswählen,
zack, User Data, machen wir das nochmal kurz. Und das halt automatisiert, das geht dann
halt schneller und fehlerfreier und vor allem sind die Server alle gleich aus. So, App 3,
Label, weiß nicht, ob man das hier setzen kann, nee. So, jetzt lasse ich den dritten
Server aufbauen, gehe hier oben an Label, wenn ichs machen darf. Ja, auf, gib ihm. Fünf
will er nicht, guck. Label, CACW Service und schon, war es das, und schon würde im Load
dieser, drei Server landen. Gut, der dritte hat jetzt noch keine Anwendung drauf laufen.
Es gibt, es gibt, das ist ein Fail, das geht gleich wieder auf rot, wenn die Props, wenn
die Props sind. So, guck, jetzt haben wir das erweitert auf drei Server. Ja, wir haben
erst vor ein paar Wochen Terraform gemacht, aber wir haben es nicht so ausführlich mit
dem ganzen Kram hier gemacht. Und vor allem haben wir es vor ein paar Wochen schon gar
nicht Sponsort gemacht. Ach stimmt, der 5.5 ist der Load Balancer, richtig, genau. Gibt
es bei VM-Skalierungsgruppen? Ich glaube nicht. Du kannst, du kannst solche Sachen machen,
dass sie im Rechenzentrum unterschiedlich verteilt werden, das bringt dir aber nichts.
Nee, das musst du selbst machen. Das musst du, wenn du solche Sachen, also wenn du so
wirklich advanced Sachen brauchst, ja, so wenn Load Balancer Connection über so und
so viel, dann Hochskalien, ja, das kannst du selbst skripten, aber wenn du irgendwann
mal da bist, dass du 30 Abserver hast mit drei Services und da wirklich super dynamisch
irgendwas machen willst, dann kannst du halt wirklich mal über ein Kubernetes Cluster nachdenken.
Weil es hat ja auch keinen Sinn, also ich bin ja immer Fan davon, das pragmatisch zu
machen, sprich, die richtigen Sachen, also für die richtige Größe. Es macht keinen
Sinn, sich einen Kubernetes Cluster hinzustellen für eins bis fünf Server, oder für einen
Service, der aus vielleicht fünf VMs oder so besteht, oder gar wie manche Leute teilweise
anfangen Raspberry Pi daheim mit einem Kubernetes Cluster, um dann irgendwie ihr Wiki drauf
laufen zu lassen, sowas denke ich mir auch, Leute, übertreibt es halt mal nicht. Also
ich bin wirklich Fan davon, das zu nehmen, was sinnvoll ist und man darf das nicht unterschätzen.
Es gibt zwar jede Menge so richtig trendige Cloud-Native-Geschichten und wenn du erstmal
anfängst mit Kubernetes, dann musst du dann, dann fängst du an mit irgendwelchen Helm-Dashboards,
mit irgendwelchen Proxy-Dingern, dann musst du dich Kunge, Ingress und Load Balancing und
sonst noch alles kümmern. Das artet aus, also man darf das nicht unterschätzen. Man
darf das nicht unterschätzen, also sowas hier ist in der Verwaltung her noch relativ
simpel. Man hat begrenzt die Möglichkeit, das, sagen wir mal, relativ einfach zu skalieren,
weiteren Server dazu, am besten automatisiert über irgendeine Terraform-Config oder über
das CLI beispielsweise anlegen und gut ist. Das ist überschaubar, das ist vielleicht nicht
so krass agil und Cloud-Native, das ist überschaubar, aber man muss halt, also an meiner Persönlichkeit,
ich würde es so einschätzen, die, wenn man das jetzt auf irgendein Kubernetes-Cluster
laufen lassen würde, vor allem, wenn man davon noch keine Ahnung hat oder es nicht
so der Riesen-Pro ist, ich muss auch ganz ehrlich sagen, wir haben das auf der Arbeit,
ich benutze das auf der Arbeit, ich mache damit auch auf der Arbeit was, aber jetzt
so from scratch mit allen 50 zusätzlichen Sidecar und sonst was Containern, was du da
teilweise alles noch machen kannst einzurichten, ich bin jetzt auch nicht so eine wahnsinnige
Pro drinne, aber der Aufwand ist schon mal mindestens doppelt so hoch und wenn dir mal
irgendwas nicht geht, bist du erst mal 3 Stunden am Debuggen, an welcher Stelle geht es denn
nicht. Ja, das mag viel einfacher sein, wenn du sowas schon hast. Wenn du jetzt schon irgendwie
einen ordentlichen Cluster hast und willst noch zusätzlichen Dienst drauf laufen lassen,
ja, dann mit Sicherheit, dann machst du irgendeinen Deployment, ein bisschen Config und push das
und dann geht das, aber wenn du keinen hast, extra dafür einen aufsetzen würde ich nicht.
Also das ist wunderbar und wie gesagt, ich würde gerne noch einen zweiten Stream machen,
muss ich mal nächste Woche mit der Headstrong Marketing Abteilung das besprechen, wo wir
uns wirklich mal ordentlich machen, wo wir uns Provisioning mit Terraform machen und
vielleicht auch noch ein paar andere Sachen ein bisschen ordentlicher. Vielleicht sogar
noch so ein kleines Alerting, also sprich, wenn ein Server über so und so viel RAM hat,
dann kriegen wir irgendwie eine Nachricht oder so. Müssen wir mal gucken, wie man das
was wir da machen, muss ich mir irgendwas aus den Fingern saugen, muss ich mir irgendwas
überlegen. Aber trotzdem hat es gut funktioniert, gerade Netzwerk-Config hatte ich ein bisschen
so meine Bedenken, dass das funktioniert, aber ging. Zum Thema Arbeit, wie sieht dein
Wechsel aus? Naja, das ist ja noch überhaupt nicht in trockenen Tüchern. Also wie gesagt,
ich bin jetzt erstens ja nicht, also ich muss ja nicht wechseln, es ist nicht so, dass ich
ich finde den Laden super kacke oder so. Also es gibt halt einige Sachen, also ich bin ja
da schon lange und ich finde es ja prinzipiell auch okay, aber es gibt halt bei dem Laden,
wo ich aktuell bin, einige Sachen, die mir nicht gefallen, gerade wie Homeoffice gehandhabt
wird und halt so ein paar interne organisatorische Dinge, wie planlos wir uns da anstellen. So,
ich habe jetzt ja eine Sache mit so einem Schnuppertag, muss ich mal gucken, wann der
stattfindet, das letzte Mal hätte da stattfinden sollen, wo ich Corona hatte, das hat nicht
funktioniert. So, und da gucken wir jetzt. Moin, CK RUN, RUN, RUN ALDER, CK RUN, NEXT
CLOUD oder so mit Loadbalancer, ne also NEXT CLOUD mit einem Reverseproxy davor würde
ich auch von Hand machen, würde ich auch nicht im Kubernetes Cluster laufen lassen. Wozu,
das ist ein, das ist ein System, das ist ja eine VM. NEXT CLOUD mit einem Reverseproxy
davor, du brauchst ja keinen Loadbalancer bei NEXT CLOUD, du willst einen Reverseproxy
für Zertifikate davor haben. Weiterhin im Banksektor, ja im Finanzsektor, nicht im
Banksektor mehr, aber im Finanzsektor ist das weiterhin ja. Vielleicht, ich mein, was
ich von uns weiß, ist, Finanzdienstleister stehen unglaublich drauf bei neuen Mitarbeitern,
wenn die Erfahrung im Finanzsektor haben, vielleicht war das ja auch ausschlaggebend,
dass die anderen sich bei mir gemeldet haben. War für Hetzner, tja, ich persönlich würde
meine NEXT, also Hetzner bietet das an, du musst da eigentlich gar nichts selber machen,
Hetzner, Hetzner hat mittlerweile, das ist auch noch nicht so alt. Ja, wenn du Business
NEXT CLOUD machst, aber wer macht denn sowas? Benutzt wirklich jemand irgendwie NEXT CLOUD
im Businessumfeld? Ja doch, müssen einige machen, weil die haben sich da drauf spezialisiert
und die neuen Funktionen, die rauskommen, sind auch hauptsächlich an Business-Kunden-Gerichte,
aber ich verstehe nicht, wer wirklich NEXT CLOUD im Businessumfeld. Na gut, auf der anderen
Seite, was willst du machen? Dir bleibt ja ansonsten plus Office 365 oder so ein Crap
übrig, wo du dann beim Microsofter gearscht bist. Also im Prinzip ist das wahrscheinlich
gar nicht so blöd. Zumindest, Hetzner hat ein relativ cooles neues Feature, ich weiß
nicht, wie neu das Feature an sich ist, aber NEXT CLOUD und Wireshark sind, glaub, relativ
neu. Du kannst jetzt hier nicht nur Server anlegen, sondern du kannst auch sagen, ich
will Apps provisionen und da kannst du zum Beispiel sagen NEXT CLOUD. Unter der Haube
ist das allerdings jetzt auch relativ simpel, der legt einen Server an, lässt ein paar Installscripte
laufen und du hast am Ende NEXT CLOUD. So und jetzt, wisst ihr, was ich jetzt machen
werde? Bam. Alles runterfahren. Ne, ne, ich hau noch nicht ab. Wir können doch kurz
schwätzen, wenn es noch etwas gibt. Äh ja, wir sind gerade fertig geworden. Also, du
hast nichts großartig verpasst, den noch Loadbalancer da vorgestellt, noch eingerichtet, funktioniert.
Ähm, ja, ich mein, es gibt ja auch nicht wirklich viel Alternativen, wenn man sich
es mal so überlegt. Sharepoint machen manche intern, aber das ist ja jetzt ja wirklich
kein Ersatz, das ist ein bisschen Dokumenten-Ablaser. Also, bei uns, weiß ich, die stehen halt total
auf Microsoft-Gram und Office-Dran 65. Ich persönlich hätte da so meine Bedenken, ob
ich gerade, wenn ich eine Behörde wäre oder irgendwas, wirklich meine Daten da komplett
zu Microsoft schieben will. Aber wenn du das nicht machen willst, also, sagen wir mal so,
von der Benutzung her und von dem ganzen Händlinger, finde ich Office-Dran 65 um Meilenweit besser
als NEXT CLOUD, auch in Kombination mit Teams. Es gibt viele Sachen, die sind Panes-Champ,
wo du denkst, die sind nicht zu Ende gedacht, aber im Großen und Ganzen ist es ganz nice.
Da kann NEXT CLOUD mit LibreOffice-Integration und sowas nicht mithalten. Aber in Bezug auf
Privacy oder dass du dir sicher sein kannst, dass du selbst das immer in den Händen hast,
dann kommst du da wahrscheinlich nicht dran vorbei. Ja, und wenn du selbst hausten willst,
kommst ja NEXT CLOUD nicht wirklich vorbei. Es sei denn, und das ist das, warum, also
ich mag, ich persönlich mag NEXT CLOUD überhaupt nicht, weil NEXT CLOUD an vielen Stellen einfach
nicht zu Ende gedachter halbherziger Kram ist, was man auch bei vielen eingebauten Apps
sieht. Du denkst immer so, ja cool, und jetzt, und dann stellst du fest, ah, den Rest gibt
es doch ja auch gar nicht. Also NEXT CLOUD ist an vielen Stellen einfach so gut in Ansätzen,
aber die letzte Konsequenz fehlt. Also ich benutze NEXT CLOUD nicht gerne, muss ich einfach
sagen. Wenn man sich überlegt, was für Teile man von NEXT CLOUD braucht, dann gibt es natürlich
schon Alternativen. Also daheim brauchst du ja wahrscheinlich nicht NEXT CLOUD Talk oder
sowas, oder diese App. Du brauchst wahrscheinlich auch kein externes Link Sharing und sowas,
dabei vielleicht, aber vieles von dem was NEXT CLOUD drin hat brauchst du daheim gar
nicht. Wenn du sagst, ja ich will ja eigentlich nur Filesync auf mehrere Endgeräte und Mobile
und ich will eigentlich nur einen Kalender, dann gibt es natürlich schon Alternativen.
Aber so das Gesamtpaket von NEXT CLOUD ist halt so ziemlich ohne Konkurrenz.
Peaches, ja zum Beispiel Volltext Suche, weiß nicht ob die mittlerweile gescheit out of
the box funktioniert, die ging jahrelang nicht richtig, die ging jahrelang überhaupt nicht
und dann nicht richtig, ne Moment die ging jahrelang überhaupt nicht, dann konntest
du sie aktivieren und dann ging sie nicht und dann ging sie eine Weile nicht richtig,
ich hab keine Ahnung ob sie mittlerweile funktioniert, ohne sich den Bein auszureißen.
Und gerade NEXT CLOUD, sowas ohne Volltext Suche finde ich halt cringe. Dann hast du
so Sachen wie die Notiz App, wo du ganz lange, ich weiß das geht mittlerweile angeblich,
wo du Notizen nicht suchen konntest, du konntest deine Notizen nicht durchsuchen richtig,
es war auch jahrelang so, dass es nicht funktioniert hat. Die To Do App ist auch nur äußerst rudimentär
und hat glaube ich bei Alerts das letzte Mal Probleme gemacht bei mir, es ist an vielen
Stellen irgendwie einfach nicht fertig entwickelt. Und das war vor einem Jahr immer noch so,
also ich hatte vor einem Jahr auch noch keinen Spaß an NEXT CLOUD. Vielleicht ist mittlerweile
alles besser, sind ja mittlerweile schon wieder zwei neue Versionen raus, aber ich bezweifel's.
Geht bei dir die Volltext Suche oder geht bei dir nur die Dateisuche und geht bei dir
die Volltext Suche einfach mit im Interface ein Häkchen machen an. Ich will Suche anmachen
oder musstest du da zusätzliche Sachen noch installieren und rum basteln. Wenn das Suche
irgendwie geht, ist ja schon seit 3 oder 4, 5 Jahren so. Wir können uns demnächst die
neueste NEXT CLOUD Version angucken, da kann ich euch genau zeigen, was ich meine, wo ich
da so meine Probleme habe. Weil wir garantiert nach 2 Minuten schon wieder auf irgendwas stoßen
werden, wo ich mir denke, da wurde es nicht zu Ende gedacht. Ach stimmt, PNG Anzeigen
gingen nicht. Stimmt, Fips. PNG Anzeigen oder JPG, irgendein gängiges Bildformat gingen
nicht. NEXT CLOUD PNG. Gucken ob das jetzt. Ja. PNG's aren't recognized as photos. There's
a pull request to fix this. Ok. Enable to. Ach ja, haben wir es jetzt hingekriegt. Ok,
seit Ende 2000s. Wait, ist es? Ist es jetzt gemerged oder nicht? Merged, hier. Also seit
NEXT CLOUD 2021 geht das wahrscheinlich. Alles klar. Da musste ich echt kecken, als
wir uns das angeguckt haben vor 1, 2 Jahren, dass PNG's nicht funktioniert haben. Was
haben wir denn für eine aktuelle Version? 24. Was hat denn Hetzner im Angebot? Für
eine Ad-Server. NEXT CLOUD. Apps. 24. Pork. Oh, jetzt habe ich zugemacht. Delete record.
Aber passt ja auch, ich kann auch zumachen. Ist ok. Kommt ja nicht, wir sind ja eigentlich
fertig. Das speicher ich mir mal. Wikipedia NEXT CLOUD. Ich guck mir mal an, was die
für Releases haben. NEXT CLOUD, NEXT CLOUD. Wann die nächste Version rauskommt? Wann kamen
die hier raus? Die kamen, 24, kamen an. Ah, die kamen jetzt erst raus. Das ist quasi
ganz neu, 24. Ist der Load Balancer auch gelöscht? Ne, ist nichts gelöscht, die sind alle noch
da. Ich hab die nur ausgeschaltet. Das muss ich, das muss ich, ich glaube ich kann nicht
mal zurück, oder? Ah, doch. Ok. Dann lösche ich die Server jetzt doch. Delete. Yes. Delete.
Hallo. Geh weg. Delete. Delete. Load Balancer deleted, sieht nicht so aus. Oder ist das
der alte? Delete. Delete. Oh weg. Floating IPs, Networks. Delete. Firewall. Delete.
Also das Webinterface ist wirklich gut. Was haben wir hier? Ah, meine SSH Keys. Kackel.
Die kann ich doch alle eigentlich löschen, oder? Das war doch nur, es war doch nur test
at test, was ich gebe, wobei, ach wer weiß, wer weiß. Notice. Price Adjustment. Ok, das
gucken wir uns jetzt noch schnell an. Was wird teurer? Price Adjustment. Germany, in
Germany kostet, ach so. Strompreis. Ach, Co-Location Electricity Air Conditioning. Ja ne, das betrifft
uns bei der Cloud ja nicht. Das ist, das ist für die Cloud wurscht. Wobei das im Endeffekt
wahrscheinlich für die Cloud sich auch preislich ein bisschen durchschlagen wird mit der Zeit.
Geh ich, geh ich mal stark von aus. Ja. Ok Leute. Tja, das wars.
Wir sehen uns im nächsten Stream, ich hoffe euch hat's gefallen. Vielleicht mach ich noch
einen zweiten Stream, das hängt ein bisschen davon ab, ob Heads dann noch zu diesem, sagen
wir so, zu der, die gleiche Thematik noch ein zweites Mal sponsoren wollen. Aber ich würde
gerne noch einen zweiten Stream machen, vielleicht nächstes Wochenende, wo wir das mal ordentlich
machen mit mit mit Config Management und Terraform Provisioning. Raid noch, ne, ich weiß nicht
wen. Ne, wir raiden nicht. Ich geh jetzt auf, ich hab Hunger. Wir sehen uns bis denn,
machts gut. See you.
