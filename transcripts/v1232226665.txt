Mal alles starten
So, ich habe nicht so viel Zeit, ungefähr ein bisschen über eine Stunde.
Müssen wir mal schauen.
Ha, das ist ja witzig. Ich habe genau jetzt eine Einladung auf der Arbeit bekommen.
Das passt ja mal wieder richtig gut zum Thema.
Ich habe jetzt gerade eine Einladung bekommen. Auf der Arbeit aktuelle Lage-Log von Jay.
Lustig, passt ja wunderbar.
Ich kann es nicht, ich muss streamen.
Außerdem habe ich Urlaub.
Das ist aber gutes Timing oder? Richtig gutes Timing.
Ich male euch das mal kurz auf, was das eigentliche Problem ist.
Draw IO
Das ist aber lustig, dass es gerade jetzt eine Einladung kommt zu dem gleichen Thema, wo ich Streams anmache.
Also ich habe gerade vor, weil der Stream noch nicht an war, ich habe gerade eine Einladung erhalten.
Was zum Teufel, warum bin ich denn mit eingeladen?
Okay, keine Ahnung. Wie ist es noch, dass ich im Urlaub bin?
Ja, aber witzig, ich habe gerade eine Einladung bekommen, aktuelle Lage-Log von Jay.
Auf der Arbeit, keck weh, Alter. Passt ja wunderbar.
Na gut, also was ich mir gedacht habe ist, ich habe ja nicht so Plan von Java.
Also Java mäßig habe ich eigentlich überhaupt keine Ahnung. Java ist für mich so MonkaS-Gebiet.
Und ich habe jetzt gedacht, ich könnte mal Folgendes probieren im Stream.
Das heißt, ich habe keine Ahnung, ob das jetzt hinhaut. Ich habe auch nur ungefähr bis kurz nach zwölf Zeit.
Wir versuchen mal, ich installiere gerade mal ein bisschen Java-Zeug.
Leute, ich habe noch nie mit Java was gemacht, ich habe keine Ahnung.
Aber was ich mal probieren will ist, eine Minimal-Anwendung zu basteln, da updaten wir erst mal den Kram.
Eine Minimal-Anwendung zu basteln, wo man einfach Log4j mit ausnutzen kann.
Beziehungsweise demonstrieren kann, wie easy das ist.
Von der Idee her ist das eigentlich, ich mache mal kurz die Musik ein bisschen leiser.
Von der Idee her ist das eigentlich ziemlich easy.
Soweit ich das verstanden habe. Was installiert man dafür überhaupt? Java Community Edition?
Kann man da mit Kotlin programmieren?
Kann man IntelliJ Community, kann man Kotlin? Ich will Kotlin, habe ich noch nie gemacht.
Okay, install. Also, so wie ich das verstanden habe, funktioniert das folgendermaßen.
Es ist eigentlich total easy. Man hat eine Webseite, zum Beispiel.
Muss nicht zwangsläufig eine Webseite sein, eine Webseite bietet sich an.
Also man hat eine Webseite, nee.
Haben die nicht irgendwie so einen Frame für eine Webseite oder so, wo man da schön was reinziehen kann?
Egal, so, das ist die Webseite.
Wie macht man hier Text?
Text.
Ah, Poggers Text, so.
Title, ich benutze das zu sehr. So, das hier ist eine Webseite.
tagw.io ist das. Keine Ahnung, ob es das gibt. Ich will es jetzt auch nicht aufmachen.
So, und da gibt es beispielsweise ein Feld drinnen, Username. Username.
Und sagen wir Passwort oder so, ist eigentlich vollkommen egal.
Vollkommen egal.
So, und dann hast du hier deinen Server, der die Webseite ausliefert.
Ah, sagen wir mal hier irgendwie Server.
So, dann brauchen wir noch eine Festplatte, so was auch immer.
Ah, irgendwie eine Festplatte im Server und ein Log File.
Ich versuchte es mal irgendwie aufzumalen.
So, Log File.
So, und wie macht man hier Pfeile drin?
Keine Ahnung.
So, zumindest gibt es jetzt die Möglichkeit, wenn der Server Sachen versucht zu loggen,
zum Beispiel weil Username, Passwort falsch ist, dass der dann sich zu einem anderen Server verbindet,
und Dinger nachlädt.
Die Seite guckst du mir gleich mal an.
So, und zum Beispiel würde das bedeuten, wenn ich, nehmen wir mal hier das Beispiel.
What the fuck. Alter Heise, come on.
Nehmen wir mal das Beispiel von Heise, was man da für nennt. Hier, das da zum Beispiel.
So, und wenn ich jetzt als Username zum Beispiel sowas hier eingebe, Username ist Max,
das da, oder meinServer.de.
So, also wenn ich das hier als mein Username eingebe, also wenn ich das richtig verstanden habe,
dann passiert folgendes. Es geht nen Request an den Server, der sich versucht einzuloggen.
So, login. Der Server guckt nach und sagt falscher Username, Passwort.
Hier haben wir Passwort. Drehen wir das mal um. Hallo. Dieses Tool. Was ist das? Hä?
Was haben die sich denn da ausgedacht? Egal. Falsches Login oder irgendwie falscher User Passwort
kriegst du dann zurück, wird auf der Website angezeigt, aber der Server loggt in sein Textfile-Lokal.
Der Server loggt in sein Textfile-Lokal, log, äh, keine Ahnung, ähm, User, äh, was weiß ich,
login, fehlgeschlagen. So, in der Richtung. Versucht, das versucht er zu loggen.
Und das Problem ist jetzt, dass die Library, also in dem Fall ist es Log4j, versucht dieses Ding hier zu,
wie nennt man das, interpolate, ne, äh, wie heißt denn das, ja doch String Interpolation müsste das
wahrscheinlich in Java auch heißen. Also, die versuchen quasi das hier, der versucht quasi sich das
zu interpretieren, was da drin steht, was quasi mal ursprünglich in meinem Username war.
Und daraufhin kommt dann Log4j auf die glorreiche Idee, da kommt dann Log4j auf die glorreiche Idee zu sagen,
ah gut, wir müssen hier String Interpolation machen, und dann führt er das Ganze aus,
und dabei passiert dann folgendes, der Server macht auf einmal ne Verbindung,
1ks, was ist das, lul, der Server macht auf einmal ne Verbindung zu, ganz woanders hin,
und zwar verbindet er sich dann auf einmal zu, das ist hier keggw.io,
und er verbindet sich dann auf einmal zu mindserver.de und macht nen Request, wahrscheinlich weiß ich nicht,
ich weiß gar nicht ob das, ach ne, das ist LDAP, ok, er macht einen Request hier auf diese Url,
so, und unter dieser Url kann dann irgendwie, hat das Ding irgendwie so ein Kryptosymbol, oder Key, oder Blockchain,
naja, wie, warum ist das so, warum ist das so All Squad kein Blockchain Symbol, ah doch, natürlich, Blockchain muss sein, so.
Und hier liefert das dann irgendwie, keine Ahnung, Krypto Miner Code aus, über Miner Code aus,
zurück an den Server, der das dann ausführt, so, so hab ich das verstanden.
Moin Leute, danke für die Subs Leute, ich hab jetzt gar nicht reingeguckt, ich hab nicht viel Zeit,
ich hab bloß bis kurz nach 12 Zeit, ähm, wer ist denn hier am Start,
denniske, danke schön, huge sub, arci1994, danke für den Sub, der Markus ist auch am Start,
impfnachwirkung daheim, oh, monka corona hier, selfmade ice auch am Start, 30field auch da,
pork, akai, dankeschön, ah ne, das war gestern schon, lul.
So, also, so versteh ich das Problem, warum, also was, dies was ich net so ganz verstehe ist,
warum, ach der Chat verdeckt, achso, der Chat ist irgendwie ein Krypto, Krypto, Krypto Miner, so,
jetzt sieht man's glaub ich im Chat, so, was ich noch nicht so ganz verstehe ist, warum ist Krypto Miner auf einmal blau hier,
keine Ahnung, immer save mir das, download, bam, Wine Browser, genau im Wine Browser will ich das öffnen, was sonst,
so, was ich nicht so ganz kapiere ist, ähm, warum ist das überhaupt ein Ding, ja, also, äh,
also, dass der hier String Interpolation macht für irgendwelche, was weiß ich, internen Variablen,
könnte ich ja noch verstehen, sollte natürlich auch nicht mit externem Input, aber, das könne ich noch irgendwie nachvollziehen,
warum der da irgendwelche Elder abfragen, ich hab keine Ahnung, ob das Absicht ist oder ob das ein Bug ist,
also, mir erschließt sich der Sinn auch nicht so ganz, wozu man das braucht,
also, man könnte, man könnte, man kann darüber halt auf jeden Fall Java Zeugs nachladen,
wobei ich nicht weiß, was das hier genau macht, wie gesagt, ich hab keinen Plan von Java,
ich weiß nicht, ob das Source Code lädt, was man dann irgendwie noch den Server dazu überreden muss, das auszuführen,
oder ob das fertige, kompilierte Java Klassen sind, keine Ahnung,
also, dafür kenne ich mich zu wenig, wenig mit, vielleicht weiß das einer von euch, dafür kenne ich mich zu wenig mit Java Zeug aus,
ich hab absolut keinen Plan, was Java angeht, ja, so, installiert, ich hab noch nicht mal,
ich hab, glaub ich, das letzte Mal, dass ich Java was installiert hab, war noch, war noch Eclipse 2007 oder so,
du kannst eine Java Klasse als Base64 mitgeben, wirklich,
nice, das probieren wir mal aus, also, was wir machen müssen, um das nachzustellen, ist eigentlich relativ simpel,
ich muss rausbekommen, wie ich in Java eine Webseite ausliefer, statisches HTML, mit einem Postrequest, den ich auf dem Server annehme,
und ich muss in irgendeiner Art und Weise Log4j hinzufügen, und wie Dependency Management in Java funktioniert,
hab ich auch keine Ahnung, aber ich bin zuversichtlich, dass wir das vielleicht innerhalb von einer Stunde rauskriegen,
kannst du mit Spring, ich hab keinen Plan, das sind komplett böhmische Dörfer für mich, was Java angeht,
ich installiere erstmal was, und ich hoffe, dass da ein gutes Template dafür dabei ist,
ach ja, reicht das eigentlich, wenn man IntelliJ installiert, um Kotlin zu programmieren, oder brauche ich noch irgendwelche Kotlin Packages,
oh, ich brauche anscheinend noch Kotlin Zeug, ja, hier, bam,
hallo, aus irgendwelchen Gründen durfte ich nicht eins drücken,
schau auf Starts, Spring, oh, jetzt muss ich noch Java Zeugen ziehen, ich hab hier gar keinen Java,
Leute, war das nicht so, dass es mit Java 11 oder JDK 11 nimmer funktioniert hat, oder ging es mit allem,
irgendwas war da doch, ich glaube mit 11 hat es nicht mehr, oder mit 8 schon nicht mehr,
wobei doch, die eigentliche Sicherheitslücke hat funktioniert, ich glaube, das Nachladen hat nicht funktioniert,
egal, installieren wir mal, ich hab keine Ahnung davon, ich mach mal eure Links auf,
der Chat weiß das wahrscheinlich in dem Fall wirklich besser als ich, weil ich keinen Plan von Java Zeug hab,
so, wir haben einmal das da, was die Leute gepostet haben, dann haben wir den Cloudflare Blockpost,
und dann haben wir die Spring Startzeit, aber ich muss doch nicht irgendwie ein extra Spring, Blah, Framework,
was auch immer installieren für einen Web Server, oder?
Ich mein, einen Web Server sollte ich doch eigentlich mit eingebautem Java Zeug in drei Zeilen irgendwie hinwursten können,
also kein Plan, gucken wir mal, hab ich noch nie gemacht, aber so ungefähr muss das aussehen,
so, und wenn das stimmt, was der Chat gesagt hat, ich glaub euch das sogar mal, jetzt, weil der Chat ist ja
feifett, und wir wissen ja, für jeden Prime Sub ein IQ Punkt für alle dabei, wenn man sowas hier sogar mit
Base64 Java Class antworten kann, wär natürlich noch mehr pale, ja, lull,
so, also, was soll ich mir jetzt angucken, Chat? Inside Log4j, ach so, das geht nur mit Version 2,
aber das ist trügerisch, das wirkt so, als wärs was Neues, Log4j 2 gibt's irgendwie auch schon seit 10 Jahren oder so,
hab ich gelesen, oder umgedreht, Log4j 1 ist glaube ich seit irgendwie 8 Jahren oder so, End of Life,
also eigentlich ist Log4j 2 das Ding, was man hat, ja, das hab ich heute Morgen auch gelesen, dass es in beiden Versionen geht,
aber es muss wohl ein bisschen unterschiedlich sein, und die ursprüngliche Sache muss wohl für Log4j 2 sein,
Leute, Flashbang, wir lassen das mal aus, also, gehen wir da mal die ganze Sache schnell durch, ach ja, das hab ich auch,
dass es ähnlich serious ist wie Heartbleed und Shellshock, was lustig ist, ich hab zu beiden Videos was gemacht,
ich hab damals was zu Heartbleed gemacht, und ich hab damals auch was zu Shellshock gemacht,
nicht wissend zur damaligen Zeit, dass das Jahre später auch immer noch eines der schlimmsten Dinger ist,
mir war zwar damals klar, dass das doch schon krasse Auswirkungen hat, aber mir war nicht klar, dass das auch Jahre später
immer noch quasi als eine der Aushängeschilder für negative Dinger benutzt wird.
So, gucken wir uns erstmal an, ob hier irgendwas Interessantes noch drinsteht, also, wir müssen auf jeden Fall gucken,
dass wir ein Log4j installiert bekommen zwischen Version 2.0 Beta und 2.0, gut, wir nehmen wir einfach die,
also wir dürfen nicht die neueste installieren, und ergeblich haben das hier irgendwelche Minecraft-Kinder entdeckt,
und was ich dann gelesen hab, das stimmt wohl doch nicht, es waren wohl irgendwelche Leute, die es vorher schon gemeldet haben,
aber so richtig populär wurde das erst durch diese Minecraft-Geschichte, was auch immer,
wie gesagt, ich hab da bin da bei dieser Java-Geschichte nicht so drin, also, wir wollen, nee, upgraden wollen wir nicht.
Ah, okay, man kann diese Lookups ausschalten, das ist auch schon mal ganz, ganz spannend.
Hier, zeig mal her, moin Max und chat mal eine Frage, die gerade ab und gar nichts ins Thema passt, sorry.
Mir ist ein Lötkolben in die Finger, au, und ich hatte Lust damit zu starten, ach so, jetzt verstehe ich das,
ich dachte du hast dich verbrannt, du meinst, dass du hast ein Lötkolben jetzt,
weil mir ist ein Lötkolben in die Finger gefallen, das kann man auch wortwörtlich nehmen,
die rutscht das Ding irgendwie aus der Hand und fällt auf die andere Hand, das tut halt weh, das ist heiß, so, 380 Grad heiß.
Gibt es irgendwelche coolen Projekte oder Starter-Kits, wenn ich Duck Duck Horn schmeiße, dann kommt nicht viel dabei raus,
ja gut, das ist immer die Sache, je nachdem, was du vorhast.
Ein Timer für die Küche, gut, ein Timer für die Küche ist ziemlich simpel zu bauen,
du brauchst einen Controller, einen Display und einen Buzzer, oder nee, wie heißt das so, irgendwas, was Geräusche machen kann.
Einen so kleinen Speaker, also da musst du gar nicht so viel löten, also einen Timer für die Küche könntest du relativ einfach machen,
wenn du ein Board haben willst, wo alles dabei ist, zum Beispiel mit dem hier, da hast du nämlich ein Board,
wenn du noch einen 3D-Drucker hast, kannst du dir sogar ein cooles Gehäuse ausdrucken, ansonsten nimmst du ihn fertig,
da hast du ein Board mit einem Farb-Display on Board, 1,14 Inch, also Zoll, TFT-Display,
und du hast sogar noch zwei Buttons zum Timer starten und stoppen, da hast du alles on Board,
das heißt, du bräuchtest eigentlich nur die GPIOs dranlöten, also da kannst du dir dann so Pinheader dran machen,
und daran würdest du dann halt einen Buzzer anschließen oder irgendeinen Speaker, irgendwas, was Krach machen kann,
und dann müsstest du halt die Logik für einen Wecker oder für einen Timer, zum Beispiel, programmieren.
Timer-Logik ist ziemlich simpel, das wäre die einfachste Sache erstmal, wo du ein bisschen löten musst, aber nicht so viel.
So, aber wir müssen uns ein bisschen beeilen, wir müssen Java-Stalls machen,
noch ganz kurz, irgendjemand hat eben was anderes gefragt, das kann ich mir vorstellen,
weiß ich noch nicht, ich habe heute Morgen mal Algorithm und Verstehen angeschrieben auf Twitter,
weil wir wollten immer wieder ein Video zusammen machen, wir könnten da theoretisch eins zu aufnehmen.
Ach ja, was man jetzt hier an der Stelle auch nochmal sagen muss, bei meinem Bildchen, was ich gemalt habe zu dieser Sicherheitslücke,
also, was an der Stelle schonmal von riesen Vorteil ist, wenn man in irgendeiner Art und Weise hier noch was dazwischen hat,
also ne, was hier dazwischen ist blöd, also hier zwischen Server und Internet, also das hier ist ja auch Internet,
weil wenn man zum Beispiel Firewall-Regeln hätte für outgoing traffic, dann könnte man zum Beispiel sowas hier vermieten,
ich weiß nicht auf was das basiert, ob da irgendwie HTTP drunter ist oder ob das irgendwie nacktes TCP ist oder sonst was,
aber ich bin mir relativ sicher, dass eine halbwegs schlaue Firewall, ausgehende Firewall-Regeln haben könnte,
die das hier verbieten bzw. die nur HTTP oder so erlauben, oder vielleicht gar nichts ausgehend, was nicht als Antwort auf eine Anfrage ist,
also hätte man hier ordentliche Firewall-Regeln drauf auf CACW.io, by the way ich weiß nicht ob es das gibt,
diese Uhr, dann würde das hier nicht funktionieren, also das ist tatsächlich mal eine Sicherheitslücke,
wo Firewall-Regeln, obwohl der Server selbst erreichbar sein muss, was bringen, normalerweise hast du ja verloren,
weil normalerweise ist es so, du kannst hier keine Firewall dazwischen stellen, die alles dicht macht, weil du willst ja, dass deine User von außen drauf kommen,
also da hast du verloren, also normalerweise kannst du dich für sowas mit Firewall-Regeln nicht schützen, aber du kannst dich zwar nicht davor schützen,
dass dir jemand hier Sachen injectet auf deinem Server, aber du kannst dich mit einer Firewall-Regeln davor schützen,
mit einer ordentlichen outgoing Firewall-Regeln davor schützen, dass es schlimm wird, der kann hier sein Zeug injecten,
und der Server würde sich dann auch versuchen hier zu mineserver.de zu verbinden, by the way mineserver.de ist das nicht 1&1 oder so,
ich glaube sogar das ist, Moment, das ist nicht sogar 1&1, ne, ok, gibt es CACW.io, ich mache das aber nicht auf, wer weiß wo wir da rauskommen,
so, und das wird es dann tatsächlich verhindern, aber Java Zeug ist installiert, Bäm, primäre Leute, ich habe, oh was ist das,
oh je, ich muss updaten, kann das sein, oh je, na super, da habe ich jetzt ja Bock drauf nochmal System Updates zu machen,
CACW.io ist NFT Seite, ok, CACW.services, da nehme ich meine Domain, CACW.services, die gehört mir, dank eines Big Brain Mods,
ok, aber CACW.services ist von mir, da nehmen wir die jetzt als Beispiel,
sehr schönes Bild, Pongas, so, ja es ist dumm, jetzt muss ich erstmal System Updaten machen, aber das geht relativ schnell,
starten wir den Krammer, ich habe das noch nie offen gehabt, kein Schirmer wie das Funst, Confirm, jawoll, ich Confirm alles, oh stoppelt, gestartet, ok, primäre,
primäre, mein erstes Java Projekt, new project, Kotlin, gib ihm, ah, ok, ich warte erstmal, bis der den Kram installiert hat, bevor ich irgendwas mache,
geht ja, geht ja zackig, jetzt Skraja, ich meine, irgendeine minimale Web API in Java, guck mal mal, Java Minimal Web API,
da muss es doch irgendwas einseileriges geben, so in Richtung Express oder sowas, oder ich meine, wie ich es mit ASP.NET machen würde,
wüsste ich in 5 Minuten wäre das fertig, aber was ist denn das, Java Lin, ich brauche einfach nur irgendwas, was ein Postrequest annimmt,
guck mal, das ist anscheinend beliebt, am besten erstellst du ein neues Gradle Projekt, Chat, das mache ich, genau das mache ich,
ich habe keine Ahnung was das ist, aber das mache ich, ich brauche irgendwas mit halbwegs brauchbarem Dependency Management,
dass ich mir die alte Log4j Version installieren kann, und dann muss ich gucken, wie ich die statische Webseite ausliefer und Postrequest annehme,
das kann ja auch in Java nicht so schwer sein, ach ja, irgendjemand hat Beispielcode gepostet, oder?
Warte mal, wer hat eben nochmal den Beispielcode gepostet, war das das hier?
Ja, das ist hier, hier ist der Beispielcode, Example, Example, hier, ach guck mal, easy, da ist doch schon sowas,
ja, das ist doch noch besser, da muss ich ja gar nichts selbst basteln, lull.
Ok, ich weiß noch nicht mal, wer das überhaupt aufruft in Java, was ist das hier?
Static Logger, Log Manager, Get Logger, wo ist der Logger, Factory Manager, Singleton, Pattern Observer?
Pattern Observer, das ist ja viel zu lesbar.
Wie startet man das, das einfach rein Copy Pasten wird es doch nicht sein, oder?
Ah, User Agent Header, verstehe, verstehe.
Das Wort kann ich immer nicht aussprechen, ja, das heißt so Verwundbarkeit, aber wie spricht man das aus?
Das bin ich nicht des Englischen mächtig genug.
Doch, Vulnerability, das kriege ich immer nicht gebacken, aber ich weiß was das heißt,
man kann auch einfach den Docker-Stalls starten, ja, vielleicht kann ich es mir auch komplett sparen, da selbst was zu programmieren.
Das probieren wir doch gleich mal aus, wenn man Docker run, auf Christophtd, gucken wir uns das Ding mal auf GitHub an, was er da gebaut, achso, mein Browser wurde ja geupdatet, ja, nein, ja ok, perfekt.
So, GitHub, nein, GitHub, wo ist hier?
Ich will mir das erstmal angucken, bevor ich das ausführe, was das ist, Christophtd, oder Crispbreadd, ok, also was hat er denn hier am Start?
Source, Main, Alter, Java, please, da, Spring Application, Run, Main Controller, Java, ok, das ist tatsächlich äußerst minimalistisch.
Ja, was geht das jetzt nicht mehr, oder was?
Wie geht ab hat es runter genommen oder wie oder was oder wo
Ne geht doch
Wir finden es einfach easy aus docker still
Das ist weil er ein komisches kornel update gemacht habe im hintergrund oder
Geil
Ja ja wo schrieb unten
Gucken wir uns ein bisschen höre uns ein bisschen mario musik in der zwischenzeit an
Ja es ist halt praktisch genau kommt jetzt kornel update richtigen zur richtigen zeit
Nein das ist nicht max das ist nicht m,achs es ist max
Mit einem super komplizierten hochkomplexen passwort
Einem super komplizierten hochkomplexen passwort so firefox
Auf geht's also docker run
Docker m. Wie habe ich das ding genannt so
Wir führen jetzt einfach random docker container aus so wie man das immer machen sollte
Alles klar so und jetzt kann man was machen karl
Körl elde ab bäem
Und jetzt sollte naja hat es jetzt funktioniert
Required request header for method parameter string not present
Moment das ist das ist was anderes der hat der hat diesen daten den kod geändert oder
Ja bäem
Jetzt versucht er sich dahin zu verbinden
Connection refused ja gut
Aber das scheint funktioniert zu haben
Probieren wir das doch mal aus mal netcat der verbindet sich auf
Ja können wir da irgendwie sowas machen port 12345 vielleicht
Dass ich jetzt irgendwie netcatch anschmeißen kann dass das darauf lauscht
Netcat minus was war das listen 12345
Kommt nichts zurück
Nee kommt nichts zurück
Hier war das listen oder war das mindestens listen port
Aller netcat in 2017
2021 war doch so oder
Listen port
Ja ja das ist richtig
Ja gut deine machen deine sachen machen wir eigentlich noch mehr n ist no name lookup das ist verbaus und das ist
port oder
oder auch nicht
Moment es ist im docker container da funktioniert das mit localhost ja gar nicht moment das müssten wir ändern auf die ip von
meinem von meiner kiste 1 und 2 1 6 8 2 punkt
Das da darauf müssen wir das ändern kein wunder dass es nicht funktioniert so
Aha
Jawoll das funktioniert
Ok das ist natürlich cool
Aber ich habe jetzt hier in den netcat drauf laufen auf port 12345 hier oben
Läuft der die verwundbare java anwendung und ich mache einen karl request auf diese verwundbare java anwendung hier mit diesem
String interpolation oder was das ist das dann dafür sorgt dass die java anwendung diesen teil nimmt und versucht von dort was
nachzuladen
So und wenn ich das ausführe sehe ich dass ich meine java anwendung versucht hier auf meinen server von dem als eigentlich
Javacode nachladen könnte
Wenn ich wüsste wie ich mit netcat javacode ausliefer
Um sich zeugs zu holen das ist natürlich für ein arsch das sollte natürlich nicht so sein
Interessant die eigentliche frage ist jetzt nur
Sollen wir jetzt hier mal ein bild angucken
Wie kann ich also das hier das hier ist jetzt mein netcat quasi das hier meinserver.de ist jetzt quasi diese netcat prozess
Das hier ist der request das also das karl ist der request von der webseite zum server
Und hier oben ist halt die die server anwendung in dem bild ja das funktioniert ganz gut wie liefer ich denn mit dem netcat
Eine javaclasse aus das müsste man jetzt noch mal kurz gucken
Aber das ist auf jeden fall interessant was du kannst auch einfach in der payload direkt karl bash ausführen
Karl bash ausführen
Warum wenn ich karl nach bash pipe macht es doch was komplett anderes
Da nehme ich da nehme ich den output hello world wenn ich das so mache und macht damit irgendwas das will ich ja nicht
Ich ich will ja dass der dass der java server hier was hinschickt
Und jetzt müsste ich irgendwie gucken wie ich mit netcat dem java server was unterschieben kann steht da vielleicht auch was hier zu drinnen
Server logs genau log vor ist triggert genau
this response contains to remote
Was moment jetzt jetzt jetzt ach so das ist ja überhaupt nicht das hier was die machen
Okay das heißt ich müsste jetzt irgendwie
Das hier ausliefern über netcat okay, ich glaube das ist nicht so easy wie man sich das vorstellt
Zumindest wenn ich keine ahnung an welchem format das sein muss
Ja das hier ist ja dann das eigentliche problem das heißt wir haben es jetzt quasi bis hierhin nachgestellt
Was schreibt der was schreibt der typ denn aus seiner github so
Was schreibt der was schreibt der typ denn aus seiner github seite
Ja genau das ist das was wir gerade ausprobieren
Ach hier guck mal da ist doch schon so was your private ip basic command base 64
Ah guck mal da da kann ich sogar da kann ich sogar base 64 schon die klasse mitgeben oder wie oder oder her moment
Ist das ist das hier inne ist das hier schon eine fertige java klasse ok base 64 decoder wobei wir können das einfach
shell action machen
base
64 und dann ist das minus, boah das weiß ich gar nicht. Minus D decode ja
touch temp pwned aha
Aber warum führt der denn tat warum führt er denn das an der stelle aus
Ok das das verwirkt mich jetzt ich dachte der müsste irgendwelchen java code übergeben aber das ist das ist shell kram
warum führt er denn shell zeugs jetzt aus
Ich probiere das jetzt mal aus was was macht der denn da jetzt
Ich probiere das jetzt mal aus was was macht der denn da jetzt ich probiere das jetzt mal aus was was macht der denn da jetzt
Ich probiere das jetzt mal aus was was macht der denn da jetzt
Keine Ahnung mal ausprobieren
Also wo haben wir das karl da schmeißen wir das doch jetzt mal rein
So aber es ist es ist gut ich mein
Eigentlich ist es doch fast schon egal oder
Nee, ah nee da muss den da muss erst den request machen ok
Also wo haben wir das karl da schmeißen wir das doch jetzt mal rein
Also wo haben wir das karl da schmeißen wir das doch jetzt mal rein also wo haben wir das karl da schmeißen wir das doch jetzt mal rein o0o0o h
reinschreiben. Was war? 1, 2, 3, 4, 5. Nicht so wirklich, oder? Ich verstehe auch den
Schritt nicht, wie der jetzt auf einmal zu Konsolenkommandos kommt an der Stelle. Ach,
das Ding macht nen LDAP Server auf. Ach so. Das hat überhaupt nichts mit dem eigentlichen
Java. Das habe ich jetzt komplett ausgeblendet, weil ich dachte, das ist quasi die Vorarbeiten
für die Sache. Ach so. Das ist nen LDAP Server, der dann den Kram ausliefert. Ach so. Verstehe,
verstehe. Also müssen wir uns diesen Kram hier runterladen. Was laden wir uns denn hier
runter? Wir gucken da mal kurz rein, was wir uns da eigentlich downloaden. Wie? GitHub.
Die haben das gelöscht. Ja, huge IQ. Gibt's nicht mehr, oder? Na geil. GitHub hat es gelöscht.
Sehr gut. Massive 5 head, 6 head brain. Nee, ist ja lustig. Das ist ja weg. Guck mal,
suchen wir mal auf Shithub. Nicht Gotthub. Wer weiß, wo wir da rauskommen. Gittlerplink?
Was? Achja. Lul. Easy. Nee, das ist das andere. Das ist die eigentliche App. Die haben wir
schon. Nee, nee, nee. Das brauchen wir. Nee, nee, das war was anderes. Das ist die eigentliche
App, die wir hier schon im Docker-Container laufen haben. Das ist was anderes. Das ist
die eigentliche App, die man braucht, um den Request zu bekommen. Wir brauchen jetzt ja
diesen komischen, den LNAP-Server, der was ausliefert. Was Archive? Okay. Probieren wir
das mal aus. Ob es es da noch zum Download gibt. Ah, ah, ah, ah. Oh. Gibt's nicht zum
Download? Doch, gibt's zum Download. Poggers. Ich mein, wir sind in der VM. Da können wir
den ganzen Crap ausführen. Was auch immer, ich mir da jetzt alles runterlade. Wer weiß,
wer weiß. So, unzip. Da sind wir. Der Download noch nicht fertig? Ah, der Download läuft
noch. Was? 34 MB? Okay, das ist Java. Java ist ja prinzipiell immer ein bisschen schwergewichtiger.
Ach, das ist gar kein Binary. Dann ist aber sehr komisch, warum das so groß ist. Das
sollte eigentlich fertig sein mit... Nein. Der ist nicht so schnell. Wir müssen kurz
den Download noch abwarten. Ey, Xerionim, so geht's mir auch. Das einzige, was ich public
habe, ist auch.NET. Also, easy. Was kurze Fragen. Welchen VM-Klient? Das ist VM-Workstation
hier. Guck, vor allem bei Workstation. Aber glaub, noch 12 oder so. Irgendwo war's, wo
ich mir mal bei irgendeinem zwielichtigen Key-Shop für 2,50 Euro oder so ein Key gekauft
hab. So, ist das jetzt runtergeladen? Nice. MK Dear. Kerk W. War ja klar, dass es das
schon gibt. Okay. Java-Kram. Java-Kram. So, unzip. Bam. Okay, weiter. Java, Snapshot,
ja. Private IP, alles klar. Und hier ist der Source-Code drin? Nee. Das ist... Ist
ein Jar der Source-Code, ein gepacktes? Nee, oder? Oh, was ist das hier? Das ist ein Zip?
Nee, das ist, das ist, das ist, das ist kompiliertes Java-Zeug, oder? Wie ich keinen Plan von Java
hab. Okay, wir führen das jetzt einfach aus. Wie gesagt, wir sind in der VM. Was soll da
groß passieren? Also, your private IP. Port 192.162.134 war's, ne? IP add. Nee, 132. Alles klar. So,
und das startet jetzt hier in den Server auf Port... Okay, gucken wir mal, NetStat, Tulben,
kann man sich mal gut merken. 1389.88888, okay, excellent, excellent. Hier oben starten wir
den Docker. Ja, wir starten den nochmal neu. In Docker-Kram. Okay, so, und jetzt führen
wir das hier aus. So, und das sollte jetzt dazu führen, äh, wir machen das nochmal
anders. Ich beende das hier mal, falls sich das beenden lässt. Hier unten gehen wir nach
Downloads, Java-Kram und führen den Kram hier nochmal aus, dass wir nämlich alles hier
schön in einem Fenster haben. So, und hier machen wir jetzt den Curl. Den Curl-Aufruf
mit meiner IP. 122.162.132. Und BÄM. Hat nicht funktioniert. Oder hat doch funktioniert?
Ich meine, nur weil es eine, nur weil es eine Exception gibt. Ach, ich hab das nicht editiert.
Ja, null. Vorhin, vorhin hatte ich es editiert hier nicht. Alles klar. Zack. Jetzt aber eigentlich
richtig, ne? NetStat, das hat bestimmt funktioniert. Nur, dass es halt eine Fehlermeldung aus welchen
Gründen auch immer gibt. So, das läuft, Port 8080. Ach so, mein, das Curl kann ja so mit
dem Docker-Container, wobei doch, doch, doch, doch, das funktioniert so. Das müsste eigentlich
an der Stelle egal sein. Ne, Port ist richtig, Port ist richtig. Also ich vermute mal, das
hat jetzt tatsächlich funktioniert. So, das sagt hier, Command-Touch, ja, das hat funktioniert.
Das hat funktioniert. Das ist halt, gut, warum auch immer das, ist doch scheißegal, ob es
so Exception gibt, aber es hat funktioniert. Sending Elder Presorces Result. Exception
Result, Reduffer. Illegal Access Error, Superclass Access Check failed. Wow. Hab ich meine Java-Version
zu neu? Kann das sein, dass ich da nicht mehr dafür anfällig bin? Aber von der Idee her
ist es genau das, was sie hier gemacht haben. Ne. Aber normalerweise sollte da jetzt quasi,
können wir mal ausprobieren. Ach so, ja, ist natürlich blöd. Ich sollte das ja vielleicht
mal gestartet. Run. Wahrscheinlich ist meine Java-Runtime zu neu. Die führt das nicht
aus. Ne, mein Java ist zu neu, Leute. Was braucht man, was für eine Java-Version ist
man anfällig davon? Da steht doch bestimmt die, JDK 18081. Ok. Also ich muss die, Java,
ja. Ok, ich hab, was hab ich denn hier installiert? 17? Was zum Teufel soll 17 sein? Hä? Was
ist denn 17, gibt es schon 17? Ich meine, ich hätte 7, ich hätte 7 zu bieten. Die,
haben die ernsthaft? 7, 8, 11, 17? Was ist das für eine, das ist ja noch schlimmere
Versionierung als bei Chrome. 7, 8, 11, 17. Obvious, alles klar. Perfekte, perfekte Übernahmung.
Äh, ich, kann man einfach so? Ah ja, ok, da muss man mehr. Weiß gar nicht, was ich
da alles deinstall, wobei wahrscheinlich reicht das, wenn ich OpenJDK andere Versionen installiere,
was er dann sagt, der muss den Kram deinstallieren. Ok, also 8 ist ok. 8. Kann man die parallel
installieren? Ach hier, Java-Default. See Arch Java, da kann man die Versionen selecten
oder was? Aha, jetzt wird's aber, jetzt wird's aber Massive, Massive Brain, Alter. Dann
machen wir jetzt Java 8. Jaja, root, come on, ist mir doch egal. Ok, so und jetzt sollte
der das ausführen mit, wobei, meine Java-Version ist doch in dem Fall egal, das ist ein Docker-Container,
oder ist die Java-Version für den, für den, für diesen Dingserver hier irgendwie notwendig?
Ist doch eigentlich egal. Ob das für ein LDAP-Server wichtig ist? Nee, für ein LDAP-Server
dürfte es doch eigentlich egal sein. Jaja. Ja, guck mal, running 1822. Nee, das funzt
nicht, so wie ich mir das gedacht hab. Nee, doch, es hat funktioniert, oder? Das, das,
exec? Hat funktioniert, jetzt hat's geklappt, bam. Ach ja, es ist klar, warum ich die, ich
vermute mal, dass die Klasse, die der zurückschickt, quasi mit der gleichen Java-Version kompiliert
sein muss, die in dem Server-Prozess läuft, weil es sonst irgendwie nicht kompatibel ist
oder so, rate ich jetzt mal, keine Ahnung. Könnte ich mir schon vorstellen, wenn quasi
das hier ausgeliefert wird mit Java, Java 17, dass dann Java 8 damit nichts anfangen kann.
Aber jetzt hat's funktioniert, guck mal. Wir sind, wir sind pwned, wir sind pwned. Hat
funktioniert, nice. Ja, das ist, wisst ihr, das ist richtig gut, da muss ich selbst keine
Web-Anwendung bauen. Da kann ich nämlich einfach diese Example-Dinger verwenden. Bisschen
blöd, dass wir den Snapshot, den Source-Code davon nicht haben, sonst könnten wir da, sonst
könnten wir da ein bisschen was, bisschen was drin anpassen noch. Kann man eigentlich
sowas machen wie Docker, LS, CAT und da steht ja wahrscheinlich einfach nichts drin. Ach
so, Docker, Start. Nee, da steht nichts drin. Auf der anderen Seite müsste das doch funktionieren,
weil ich könnte doch einfach in x-beliebiges Shell-Commando Base64 encoden, oder? Moment,
das muss ich jetzt mal angucken, ob das, wie das funzt. Also, wir starten das Ding mal,
machen mal einen Curl. Komm, ich stoppe das, lösche das noch mal, wer weiß, ob das irgendwie
clean laufen muss oder so, keine Ahnung. So, weil das hier ist ja ein Shell-Commando gewesen,
das haben wir ja gesehen. Guckt, Echo, das ist Touch-ETC-Pwn. Das heißt, im Endeffekt,
wenn ich jetzt sowas mache wie Echo, Qt, Chat nach TMP, wobei ich das nicht weiß, ob das
funktioniert ohne Shell, nach TMP, kegw.services. Was, also, Loglaufer benutzen viel am Ende,
Curl, xx, Bash, aber wie soll das funktionieren? Damit piped man den Output von Curl nach Bash,
das ist doch überhaupt nicht das, was man haben will. Übrigens, ich hab's jetzt, wo
ein bisschen mehr Leute da sind, was ich ganz witzig finde. In dem Moment, wo ich den Stream
gestartet habe, habe ich eine Einladung auf der Arbeit bekommen. Aktuelle Lagerlog von
Jane. Aber ich geh mal davon aus, die haben einfach alle eingeladen. Okay, das heißt,
wenn ich das hier jetzt übergebe, dann sollte der nicht mehr Touch-TMP-Pwn machen, sondern
das hier ausführen, wobei ich halt nicht weiß, ob das funktioniert, ohne dass man
eine Shell startet vorher. Gucken wir mal, also anstatt das hier, machen wir einfach
das hier. Müssten wir aber das Java-Ding wieder starten vorher? Nee. Ja. Und Bam. Incorrect
Params. Warum? Was hab ich falsch gemacht? Was hab ich falsch gemacht? Ah, das muss
man doch Url-Escapen oder irgendwas, oder wie? Der Zeichen drinnen. Ich muss das Url
ankommen, hä? Dachte ich mir. Bam. Exquisite, exquisite. So. Bam. Exec. LS. Da ist es.
Okay, wir können dem Server jetzt beliebiges Zeug unterschrieben, wo wir Bock drauf haben.
Und wisst ihr, was noch viel besser ist? Wir müssen so überhaupt kein Java mehr programmieren.
Das ist noch viel besser. Wir können jetzt nämlich jetzt jetzt jetzt jetzt jetzt jetzt
alles auf dem Server machen. Wir können auch zusätzliche Sachen nachladen. Jetzt passt
mal auf. Wisst ihr, was wir machen könnten? Anstatt einfach Echo-Q-Chat da reinzuschreiben,
wir könnten auch einfach sagen curl google.de slash irgendwas downloaden auf dem Server.
Fällt irgendjemand irgendwas kleines Sinnloses ein, was man downloaden könnte, irgendein
Go-Programm mit Endlosschleife oder sowas und das dann ausführen. Also sprich, wir
könnten hier jetzt irgendwas downloaden und das dann quasi ausführen dahinter. Das ist
natürlich richtig krass. Wir können auch, ich meine, man könnte auch quasi sowas hier
machen bash minus, was ist das? Minus C? Also bash minus C oder irgendwie sowas wie
while, true, Echo 1, keine Ahnung, dann? Ne, warte mal. Ist es nicht minus C? Ne, du.
Endlosschleife und dann können wir zumindest viel CPU. Oh, das ist eine gute Idee.
Das ist tatsächlich eine gute Idee. Eine Fork-Bombe, das ist eine gute Idee. Ja, wir
machen das mal anders, aber wir machen jetzt mal was anderes. Downloaden bringt ja nichts.
Wir machen jetzt mal eine Schleife und einfach, dass man sieht, dass das, ich mach da jetzt
mal einen Sleep rein, weil ich will ja meine Festplatte nicht voll machen. Echo 1 nach
Temp 0W. So, und da sollte jetzt folgendes passieren. Jetzt ist es noch rein bei mir
lokal, Leute. 0W, gut, da schreibt jetzt jede Sekunde da eine 1 rein. Aber wir können
danach auch eine Fork-Bombe machen und wir können auch alle, komm, wir machen alle 0,0,
ah, komm, alle 1 passt. Wer weiß, ob da ein Sleep dabei ist, was man machen kann. So,
und jetzt ist natürlich die Frage, kriegen wir das irgendwie ausgeführt auf Serverseite?
Da muss man bestimmt irgendwelche Dinger eskapen. Zumindest das schon mal in Singlequotes machen.
Base64. Kennt jemand ein schönes UL-Encode für die Kommandozeile? UL-Encode, bash.
Gibt es da irgendwas schönes Fertiges? Ah, Curl kann das direkt. Ah, ok, pure bash UL-Encode,
alles klar. Das timeoutet doch irgendwann, wahrscheinlich, wahrscheinlich timeoutet
das. Wir können das sogar in den Hintergrund schicken, dann timeoutet das nicht. Das probieren
wir jetzt gleich noch aus. Ja, ich hab ja noch, ich hab ja noch Viertelstunde Zeit. Ok, UL-Encode,
wir nehmen irgendeinen online, UL-Encode, keine Ahnung. So, UL-Encode, bam. Iiih, was
ist denn das? Warum sind da, warum sind da so hässliche, sächliche hässliche Leerzeichen
drin? UL-Encode, bam. So, und das hängen wir jetzt hinten an unser Java Zeug an. Curl,
blup. Und bam. Oh nee. Incorrect Parameters. Was hat er jetzt für Schmerzen? Chat, was
ist falsch? Incorrect Parameters. Zeilenumbrauch in Base64, das kann sein. Ich dachte das Ding
ist so schlau und checkt das. Meint ihr, das ist das Problem. Hey, hat funktioniert. Ok,
das auch im Endeffekt heißt, ich kann jetzt gucken, ls. Nee, hat nicht funktioniert. Ok,
das liegt wahrscheinlich daran, weil da kein Bash drauf läuft auf dem Server. In dem Container
ist wahrscheinlich keine Bash zum Ausführen. Das heißt, das hat nicht funktioniert. Das
heißt, wir machen hier sowas, wir machen das mal weg. Gucken, ob das funktioniert. So,
müssen wir wieder UL-Encode. Da muss man sich jetzt halt ein bisschen rantasten, was in diesem
Container, oder in dem Fall halt, was auf dem Server zur Verfügung stehen würde, was aber
relativ schnell gemacht ist. Ls. Da, bam, da ist es, guckt. Das hat jetzt funktioniert.
Und ihr seht, es wird immer mehr. Es läuft im Hintergrund weiter. Also anscheinend blockt
das noch nicht mal, sondern läuft irgendwie asynchron oder so. Das ist natürlich nice.
Hat Docker sowas wie Tail? Oder kann ich sowas mit Tail? Guckt, jede Sekunde. Server gehackermant.
Jetzt läuft mein Customzeug im Hintergrund. Und damit ist natürlich alles offen. Ich könnte
mir den eigenen Tailnetz-Server starten. Ich könnte mir im Zweifelsfall, was auch immer,
nein eigentlich einen User anlegen könnte ich nicht, aber Shell Access ist jetzt gar
kein Ding mehr. Ja, das ist natürlich cool. Ja, es ist Hardport-Tunneln, theoretisch alles
Mögliche. Der einzige Nachteil ist natürlich noch, ich zeige euch mal, wir laufen ja im
Kontext des Java-Benutzers. Who am I? Können wir noch irgendwie ausgeben. Nee, Schwachsinn,
nicht ausgeben, sondern in die Datei schreiben. Who am I? Wobei das natürlich nicht beschreibe,
um Echo davor zu machen. Da können wir nämlich mal gucken, als was für ein User das Ganze
läuft. Encode. Und zack, wir machen mal den Stalker-Ding aus und starten das mal neu.
Run. Wir können übrigens run. Run ist glaube ich minus it oder so, dass er das wieder löscht.
So, run. Perl. Minusminusrm. Bam. Das mag er aus irgendwelchen Gründen nicht, was ich
da gemacht habe. Oder vielleicht kommt da immer eine Exception, keine Ahnung. Ls. Doch, scheint
zu funktionieren. Wir sind root. Okay, wir haben gewonnen. Easy. Aber wir können auf
dem Software alles machen, was wir wollen jetzt. Kein Ding. Gut, das ist ein Test-Container,
da muss man sich nicht wundern, aber ja. Jetzt ist Polen offen für die Minecraft-Zoomer.
Oder um nicht zu sagen hier Monkastyr. Jetzt können wir alles machen mit der Kiste. Welcher
Server ist das? Lokaler bei mir. Lokaler Docker-Container bei mir. Ich bin erstmal
eine Route im Container, das ist richtig. Da jetzt irgendwie zu eskalaten, ist wieder
was anderes, steht auf dem anderen Platt und ist nicht so ohne Weiteres möglich. Aber trotzdem,
wenn es jetzt noch irgendein Container wäre, der da noch Devices durchgereicht hat, irgendwas,
also da gibt es Möglichkeiten. Auf der anderen Seite ist es ja egal, das ist ja nicht mehr
Scope von dieser Java-Geschichte. Aber das ist cool, das ist wirklich nice. Vor allem
ist es ziemlich easy, das zu machen. Wir können ja hier im Prinzip alles machen. Wir können
hier im Prinzip alles machen. Wir können eine Schleife laufen lassen im Server-Kontext
oder als User. Wir können ja auch Custom-Code nachladen. Nur mal so. Wir könnten es jetzt
total übertreiben. Wir könnten jetzt hier eine Schleife machen, die permanent nachguckt.
Keine Ahnung, Curl. Wir nehmen jetzt irgendein Beispiel hier. Example.com. Meine Hacker-Mans-Domain,
das ruft er immer ab. Und das ganze wird dann gepiped nach Bash. Und so hätten wir quasi
jede Sekunde, würde der bei einem Server von uns nachgucken, ob es neue Dinger auszuführen
gibt, die runterladen und ausführen. Dann ist natürlich komplett vorbei. Ich weiß nicht,
ob ich noch hingehe. Wir könnten zum Beispiel sowas machen. Der macht einen Curl alle paar
Sekunden auf 122.132. Das ist mein Rechner. Port 666. Eins neben dem Teufel. Und ruft
hier slash script ab. Ich muss mal kurz gucken, ob das überhaupt funktioniert, was ich hier
baue. Okay, nice. So, jetzt machen wir hier was, was ich ordne. So, machen wir einen einfachen
Http-Server auf. Wie ging das nochmal? Punkt Http habe ich doch bestimmt. Bestimmt im Hinterdings.
Hallo. Das da. Genau. Port 666. Bam. So. Und jetzt ruft er hier einen Script ab. Seht
ihr? Der versucht jetzt einen Script abzurufen. Und das können wir jetzt dem Server unterschieben,
das der versucht hier einen Script abzurufen und auszuführen. Die Frage ist, läuft auf
diesem Docker-Container eine Bash? Was ist denn da? SH? Minus L oder was ist es? Oh,
ein bisschen habe ich zugemacht. Interaktive Scheller. Aber SH ist am Start schon mal. Bin
slash bash muss man? Nee. Muss den abzurufen, aber ist nicht. Ist aber auch egal. Ist aber
in dem Fall auch vollkommen egal. Wir peipen das einfach nach SH. So. Und jetzt sollte,
also wenn ich jetzt hier das richtig gequoted, ne, das habe ich nicht richtig gequoted.
Hab ich jetzt richtig gequoted? Ich hoffe mal. So. Der sollte jetzt alle Sekunde zu meinem
Server sich connecten, der ja hier unten läuft. Und auf dem Server gucken, ob es eine Datei
gibt, die sich Script nennt. Und die ruft er ab und führt sie aus. Das gucken wir mal,
ob wir das dem Java-Server untergeschoben kriegen. Das beste wäre ein Script, was
die Sicherheitslücke selbst patcht. So, komm mal her. Machen wir mal Url-Encoding das ganze.
Der Url-Encoder hat schon wieder kein Bock mehr. Der denkt sich, but why, was willst
du von mir? Alter, Url-Encoder, da gibt es 30.000 Sachen für Url-Encode. Ja, PHP,
mir doch egal. Url-Encode. Sag mal, ist jetzt ernsthaft die Url-Encode-Seite down? Online.
Ich brauche mal ein ordentliches Bash Tool für. Hier, DE Functions Online Url-Encode.
Perfekt. Das brauchen wir. Url-Encode ausführen. Gib ihm. Ja, sehr schön. Url-Encode down.
Weil es da gar nichts zum Url-Encode gibt in dem Base64. Okay, so, gucken wir mal,
ob wir das dem Server jetzt untergeschoben kriegen. Das läuft. Ich lösche das nochmal. Run. So,
Curl. Wo haben wir es denn jetzt? Da. Hat funktioniert. Der sollte jetzt eigentlich,
wenn alles funzt, einmal in der Sekunde abrufen. Macht er aber nicht. Weil, man weiß es nicht.
Stimmt das, was ich hier gebastelt habe überhaupt? Ja, also von der Idee her funzt das. Vielleicht
ist ja da auch gar kein Curl drauf. Das kann ja sein. Ah, da ist gar kein Curl drauf. Ja,
dann. User bin Curl. Ja, dann kann das nicht funktionieren. Ne. Ja, dann. Da geht das nicht.
Auf was für einem Image basiert denn das? Ne. Was ist das für ein Base Image? Keine Ahnung. Ja,
gut, aber von der Idee her würde das jetzt funktionen. Ist denn ein Weget drauf? Weget ist
drauf. Okay, auch okay. Dann ist kein Problem. Dann machen wir das Ganze mit Weget. Wie macht
man? Weget, Weget, Standard Out. Weget, Standard Out. Minus, Minus. Oh. Ja, genau. Das ist der
eigentliche Standard Out hier. Okay. Ja, dann ersetzen wir doch einfach mal das Curl durch
den Weget. So, sehr schön. Nach Shell, zack. So. Base, 64, Encode, Echo. Wir kriegen das
schon noch. Was? Ah, vielleicht sollte man das auch an die richtige Stelle machen. Dann, zack.
Will-Encode. Ah, Will-Encode geht wieder. Okay, nice. Sehr schön. Will-Encoded. Und jetzt schieben
wir das dem Server unter. Run. Wo ist mein Curl hier? Da. Okay, und jetzt gucken wir,
ob es jetzt funktioniert. Wenn nicht, muss ich jetzt aber auch gleich futtern. Nee, funktioniert
nichts. Dann weiß ich nicht, woran es liegt. Dann fehlt irgendwas auf dem Server zum Ausführen.
Keine Ahnung. Aber von der Idee her funktioniert es. Was meckert er denn hier? Mach mal Base,
minus Null. Ja, das ist, dass er keine Leerzeichen macht, ne? Aber ich habe den Line Break ja
rausgelöscht hier. Oder? Habe ich den Line Break rausgelöscht? Ich bin das gar nicht
mal so sicher. Bam. Aha. Guck mal. Mein Server ruft alle Sekunde einen Skript ab. Also mein
gehackter Server quasi ruft alle Sekunde bei mir einen Skript ab. Das heißt, jetzt könnte
ich hier reingehen und sagen, Skript. Und da kann ich jetzt alles ausführen, was ich
will. Echo 1. Bam. So, und schon führt der Server alles aus, was ich will. Exec. Ls.tmp.
Kann ich euch beweisen, dass das funktioniert? So, also der Server ruft jetzt einmal in der
Sekunde hier einen Skript von mir ab. Da kann ich jetzt also auch reinschreiben Echo 1 nach
tmp null. Speichern und eine Sekunde später ist temp null da. Also im Prinzip kann ich
jetzt auf, das ist quasi fast schon so eine Art Remote Shell auf dem Server jetzt. Zwar,
zwar in Wimform, okay, aber ich kann quasi mit einer Sekunde Verzögerung alles, aber
wirklich alles, ich bin ja auch noch ruht auf dem Server, ausführen. Ich kann auch
einen SSH Server starten, wenn ich das darf. Nur der Unterschied ist halt, ich sehe jetzt
die Ausgabe nicht direkt, was aber auch nicht so wild ist, weil ich könnte mir die Ausgabe
ja schicken lassen. Das ist ja der Witz. Ich könnte quasi wirklich jetzt so eine richtige
Shell für Arme bauen, weil ich könnte ja quasi zum Beispiel, ich muss jetzt wirklich
futtern Leute, aber ich könnte ja, hallo, ich könnte zum Beispiel jetzt hier eine Netcatch
starten auf Port 12345 oder so und dann die Ausgabe zum Beispiel mir schicken lassen
vom Server, von meinen Shell Befehlen an irgendwie, boah das weiß ich aus dem Kopf nicht, kann
man, nee, Curl ist ja nicht drauf, kann man mit VGET Standard In irgendwie als Post schicken
oder sowas? VGET Standard In Post, keine Ahnung, Post Request, ich habe keine Ahnung,
ob das funktioniert. Post Data String, okay. Post Data will ich machen, also VGET Post
Data, also den Output von meinem Befehl, also in dem Fall Echo 1, aber ich kann keine Curl
verwenden, weil Curl auf dem Server nicht drauf ist und das Ganze jetzt zu 192.168.132.1345,
so eine Sekunde warten, gucken, ob dann was reinkommt, bam, okay, ich habe sogar jetzt
die Ausgabe, easy, jetzt ist vorbei, jetzt ist vorbei, jetzt ist vorbei, jetzt kann ich
sogar die Ausgabe zurück posten, also ich kann quasi als Root alles ausführen und
mal zum Beweis, who am I? Who am I? Ich bin Root, wer hätte das gedacht? Ich könnte sogar
Curl installieren, wenn ich wüsste, was das für ein Betriebssystem ist, wie kriege ich
denn jetzt am besten raus, was das für ein Betriebssystem ist? Hat jemand aus dem Kopf,
wie man Netcat beenden kann nach der Verbindung, dass es die Verbindung wieder wegschmeißt?
Einfach abget, ich weiß nicht, ich weiß nicht, ob es ein Demian ist, lsb release minus a,
okay, lsb release minus a, nope, das gibt es da anscheinend nicht, etc, etc, gibt doch
ja, keine Ahnung, was das für ein Betriebssystem ist, könnte sein, dass es ein Alpines APK,
ich glaube, ich habe es, ich glaube, ich habe es geschrottet, dadurch, dass ich irgendwas
ausgeführt habe, was nicht funktioniert hat. Okay, er ruft immer noch das Skript aus, aber
das Skript macht nichts mehr. Echo 1, ah jetzt, okay, ja, was könnte das denn sein? Wir kürzen
das mal ein bisschen ab, ich gucke einfach mal nach, was das für eine Docker Image ist,
Dockerfile, es ist Alpine, okay, Alpine installiert man da, apk install, apk install, et, etcurl,
jetzt muss ich, oh, das muss ich jetzt speichern, keine Ahnung, ob das jetzt funktioniert hat,
das funktioniert so nicht, okay, keine Ahnung, aber es ist glaube ich schon ganz gut, kannst
du mal die Java-Klasse zeigen? Kann ich die Java-Klasse zeigen? Ich gucke gerade noch
was anderes, exec, was war das, minus it, und dann, sh, apk, etcurl, ah, das funktioniert
nicht, okay, ne, curl ist doch drauf, dann hat das funktioniert, Leute, dann hat das
funktioniert, die Ausgabe ist bloß nicht, okay, apk, remove curl, ne, wie aninstallt
man was mit apk, das weiß ich doch aus dem Kopf nicht, apk, delete, apk minus help, dell,
okay, also das, das funktioniert nicht so, wie ich mir das vorstelle hier, aber ich
meine, man sieht's, man sieht's im Prinzip, na doch, apk, et sollte eigentlich was machen,
echo eins, okay, mein Skript aufrufen funktioniert auch gar nicht mehr, das ist wirklich, das
ist wirklich remote shell für Arme, remote shell für Arme, aber kann das sein, kann
das sein, dass das mit dem apk, dass das irgendwelche, dass das hängt, aber guck mal, es hat funktioniert,
hat curl wieder installiert, okay, es funktioniert auf jeden Fall, es funktioniert auf jeden
Fall, das ist die, das ist wirklich remote shell komplett für Arme hier, aber funktioniert,
so, die Java-Klasse, die ich hab, das kann ich jetzt mal ganz schnell zeigen, dann muss
ich aber echt was essen, also, das ist eigentlich relativ simpel, ich hab das hier aus diesem
Beitrag, guck mal, hier, ich poste den nochmal, aus dem Beitrag, und da gibt's einen Link
zu diesem GitHub-Repo, und das hab ich gemacht, also, ich hab mir den Docker-Container gestartet
von denen, ich hab den LDAP-Server installiert von denen, der unter der Haube wahrscheinlich
nix anderes macht, wie ne Java-Klasse zusammenbauen, und dann nen shell exec zu machen, und dann
schick ich an den Server nen curl mit einem base64-encodeden shell-Skript, und das shell-Skript,
das ich encoded hab, ist das hier, das ist eine Endlosschleife, die per VGAT, es muss
VGAT sein, weil curl ist auf dem Server nicht drauf, die per VGAT alle Sekunde bei einem
Server von mir nachguckt, ob's dort eine Datei gibt, die Skript heißt, und diese Datei, die
Skript heißt, lädt da sich runter und führt sie aus, jetzt wäre curl drauf, ja, also
im Prinzip, das ist wirklich Remote-Shell für Arme, was wir jetzt hier gebaut haben,
mein Server liefert den Skript aus, das ist der Skript hier unten, und das Skript postet
an meinen Server zurück, quasi die Ausgabe der Shell-Commandos per VGAT wieder, also
das ist wirklich Remote-Shell für Arme, aber es funktioniert, und das Beste ist, wir sind
sogar Route auf dem Container, weil er halt unter Route läuft, normalerweise ist man halt
der jeweilige User, als der die Java-Anwendung läuft, wenn man seine Java-Anwendung als Route
laufen lässt, und dann anfällig für sowas ist, hat man halt gelitten, RIP, kann ich dazu
nur sagen, aber das wird die ganzen Minecraft-Zoomer nicht jucken, ich kann euch sagen, wisst ihr,
was die typische Minecraft-Zoomer-Generation Antwort ist, darf ich als Boomer jetzt sagen
auf sowas, und du sagst, Leute, Leute, euer Minecraft-Server ist angreifbar, die Leute
können auf eurem Minecraft-Server alles machen, so, und dann werden die Leute sagen, interessiert
mich doch nicht, Facebook und Google haben doch eh schon alle meine da, und außerdem
kenne ich die doch nicht, sollen sie mal machen, irgendwie sowas, so Leute, ähm, sehr weit
her geholt, das glaube ich nicht, dass es sehr weit her geholt ist, das ist eines der
Standard-Dinger, die ich schon öfters gehört habe, ich habe die Leute mal eine Zeit lang
gefragt, so, und würdest du das deinen Eltern erzählen, nee, nee, auf gar keinen Fall,
ja, und, warum willst du dann, dass das andere, also wenn du es schon nicht deinen Eltern
erzählen würdest, deinen eigenen Eltern, warum gibst du das dann so leichtfertig den anderen,
und dann ist die Antwort, ja, ich kenne die ja nicht, was interessiert mich denn, ob irgendein
Typ in den USA, der vielleicht mein Zeug durchguckt, äh, sieht, dass, äh, ich gerne
mir Hunde Porn auf Pornhub angucke oder so, das interessiert mich doch nicht, meine Eltern
sollen es nicht wissen, aber, aber, dass, äh, dass, dass die das wissen, ist mir egal,
das ist so eines der Standard, der Standard-Antworten, gibt ja Leute, die gucken sich sowas an, ich
weiß nicht, ob es das gibt, aber ich bin mir relativ sicher, dass es das geben wird, es,
es kann ja auch schon eine Nummer kleiner sein, ja, kann ja auch sein, dass die Leute einfach
Dünnschiss haben und wollen, dass die ganze Welt das weiß, wobei, ey, Leute, mich, mich,
ähm, echt nichts mehr wundert, ich hab letztens, das ist das letzte, was ich jetzt erzähle,
da gehe ich wirklich essen, ich hab letztens nach den neuen Overwatch-Agents gesucht,
nicht Overwatch, äh, Valorant-Agents gesucht, weil ich wissen wollte, was sich da neues
getan hat, ich weiß, dass es beispielsweise irgend so ein Typ im Anzug jetzt gibt und
sowas, äh, ein Kollege von mir hat, äh, Cosplay gemacht, äh, zu den neuen Agents,
ich wollte einfach mal gucken, was es für neue Agents gibt, Leute, das war echt ein
Fehler, ich hab in der Bildersuche, ich mein, ich hab Safe Search aus, wer, wer, wer braucht
Safe Search, ich hab gesucht nach Valorant-Agents und was ich gefunden habe, hat mich echt
ein wenig schockiert, ich hab, ich hab was, es war innerhalb der ersten, ersten Suchergebnisse,
ich war nach Valorant-Agents und da war ein Bild drinne, D.Va aus Overwatch und, und Raze
oder auch so, wie man die ausspricht, aus, aus Valorant, die es da miteinander getrieben
haben und, und beide hatten sie riesig große Salamis, ich hab keine Ahnung, was das für
ein Zeug ist, aber es war keine gute Idee, danach zu suchen, ja, also, du kannst davon
ausgehen, wenn du daran denken kannst, dann gibt es das, egal was es ist, gibt Sachen,
die wollte ich nicht sehen, aber, kann, kann ich nicht mehr ansiehen, ja, okay Leute, ich
muss jetzt aber echt futtern, schön, dass ihr dabei gewesen seid, richtig krasser, neisser
Hacker-Mensch, Trim hier, vielleicht mach ich da echt ein Video drüber, wir sehen uns,
ich geh jetzt was futtern, bis denn, see you, gibt's noch irgendeinen Channel, den ich
hosten kann, mal kurz gucken, ist der Lost am Start oder so, irgendeine Mann, das brauchen
kleinere Zuschauer, wer ist denn hier gerade in der Science-Technologie-Twitch, am Start,
oberhasi ist am Start, guck mal hier, mein Vorschau-Bild war ihr das beste gerade, habt
ihr's gesehen, bestes Vorschau-Bild gerade, russische Hacker-Girls, sehr gut, nice, ne,
keine Ahnung, Leute, ich geh jetzt futtern, ich hab mega Hunger, bis denn, see you.
